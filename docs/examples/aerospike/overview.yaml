---
dashboards:
  - id: 4d5b8a67-c5d9-478c-8128-e09cccc7f8ef
    name: '[Metrics Aerospike] Overview'
    description: ''
    panels:
      - grid: {x: 0, y: 0, w: 48, h: 2}
        links:
          layout: horizontal
          links:
            - label: Overview
              dashboard: 4d5b8a67-c5d9-478c-8128-e09cccc7f8ef
            - label: Node Metrics
              dashboard: 36bd5b4a-9c5b-4377-827d-f2e64d860f60
            - label: Namespace Metrics
              dashboard: c9484395-aa2b-43c4-84ad-12a7feb8c7d1
      - type: charts
        grid: {x: 0, y: 2, w: 10, h: 3}
        filters:
          - field: data_stream.dataset
            equals: aerospikereceiver.otel
        chart:
          type: metric
          data_view: metrics-*
          primary:
            aggregation: unique_count
            field: aerospike.node.name
            label: Aerospike Nodes
      - type: charts
        grid: {x: 10, y: 2, w: 38, h: 9}
        filters:
          - field: data_stream.dataset
            equals: aerospikereceiver.otel
        chart:
          type: line
          data_view: metrics-*
          dimensions:
            - field: '@timestamp'
              type: date_histogram
              label: '@timestamp'
            - field: aerospike.node.name
              type: values
              label: Top 15 values of aerospike.node.name
              size: 15
              sort:
                by: Free Memory  # Assuming alphabetical sort maps to _key
                direction: asc
              other_bucket: true
              missing_bucket: false
          metrics:
            - aggregation: min
              label: Free Memory
              field: aerospike.node.memory.free
              # format: {id: "percent", params: {decimals: 0}} # Not directly supported in YAML schema
      - type: charts
        grid: {x: 0, y: 5, w: 10, h: 3}
        filters:
          - field: data_stream.dataset
            equals: aerospikereceiver.otel
        chart:
          type: metric
          data_view: metrics-*
          primary:
            aggregation: unique_count
            field: aerospike.namespace
            label: Unique Namespaces
      - type: charts
        grid: {x: 0, y: 11, w: 48, h: 9}
        filters:
          - exists: aerospike.node.connection.open
          - field: data_stream.dataset
            equals: aerospikereceiver.otel
        chart:
          type: line
          data_view: metrics-*
          dimensions:
            - field: '@timestamp'
              type: date_histogram
              label: '@timestamp'
            - field: aerospike.node.name
              type: values
              size: 15
              sort:
                by: Open Connections
                direction: desc
              other_bucket: true
              missing_bucket: false
          metrics:
            - aggregation: max
              field: aerospike.node.connection.open
              label: Open Connections

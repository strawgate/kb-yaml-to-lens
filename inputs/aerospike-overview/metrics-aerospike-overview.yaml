dashboards:
-
  id: 4d5b8a67-c5d9-478c-8128-e09cccc7f8ef
  title: "[Metrics Aerospike] Overview"
  description: ""
  panels:
  - type: links
    grid: { x: 0, y: 0, w: 48, h: 2 }
    layout: horizontal
    links:
      - label: Overview
        dashboard: 4d5b8a67-c5d9-478c-8128-e09cccc7f8ef
      - label: Node Metrics
        dashboard: 36bd5b4a-9c5b-4377-827d-f2e64d860f60
      - label: Namespace Metrics
        dashboard: c9484395-aa2b-43c4-84ad-12a7feb8c7d1
  
  - type: lens
    grid: { x: 0, y: 2, w: 10, h: 3 }
    index_pattern: metrics-*
    filters:
      - field: data_stream.dataset
        type: phrase
        value: aerospikereceiver.otel
        operator: equals
    chart:
      type: metric
      metrics:
        - type: unique_count
          field: aerospike.node.name
          label: Aerospike Nodes
  
  - type: lens
    grid: { x: 10, y: 2, w: 38, h: 9 }
    index_pattern: metrics-*
    filters:
      - field: data_stream.dataset
        type: phrase
        value: aerospikereceiver.otel
        operator: equals
    chart:
      type: line
      dimensions:
        - field: "@timestamp"
          type: date_histogram
          label: "@timestamp"
          interval: auto
        - field: aerospike.node.name
          type: terms
          label: Top 15 values of aerospike.node.name
          size: 15
          sort:
            by: "Free Memory" # Assuming alphabetical sort maps to _key
            direction: asc
          other_bucket: true
          missing_bucket: false
      metrics:
        - type: min
          label: Free Memory
          field: aerospike.node.memory.free
          # format: {id: "percent", params: {decimals: 0}} # Not directly supported in YAML schema
  
  - type: lens
    grid: { x: 0, y: 5, w: 10, h: 3 }
    index_pattern: metrics-*
    filters:
      - field: data_stream.dataset
        type: phrase
        value: aerospikereceiver.otel
        operator: equals
    chart:
      type: metric
      metrics:
        - type: unique_count
          field: aerospike.namespace
          label: Unique Namespaces
  
  # - type: lens
  #   grid: { x: 0, y: 8, w: 10, h: 12 }
  #   index_pattern: metrics-*
  #   filters:
  #     - field: data_stream.dataset
  #       type: phrase
  #       value: aerospikereceiver.otel
  #       operator: equals
  #   chart:
  #     type: table
  #     columns:
  #       - field: aerospike.node.name
  #         type: terms
  #         label: Node
  #         size: 100
  #         sort:
  #           by: Aerospike Namespaces # Assuming this maps to the column label
  #           direction: desc
  #         other_bucket: true
  #         missing_bucket: false
  #       - field: aerospike.namespace
  #         type: terms
  #         label: Namespace
  #         size: 100
  #         sort:
  #           by: Aerospike Namespaces # Assuming this maps to the column label
  #           direction: desc
  #         other_bucket: true
  #         missing_bucket: false
  #       - type: unique_count
  #         field: aerospike.namespace
  #         label: Aerospike Namespaces
  
  # - type: lens
  #   grid: { x: 10, y: 9, w: 17, h: 14 }
  #   index_pattern: metrics-*
  #   filters:
  #     - field: data_stream.dataset
  #       type: phrase
  #       value: aerospikereceiver.otel
  #       operator: equals
  #   chart:
  #     type: line
  #     dimensions:
  #       - field: "@timestamp"
  #         type: date_histogram
  #         label: "@timestamp"
  #         interval: auto
  #       - field: aerospike.node.name
  #         type: terms
  #         label: Top 15 values of aerospike.node.name
  #         size: 15
  #         sort:
  #           by: "Used Memory" # Assuming alphabetical sort maps to _key
  #           direction: desc
  #         other_bucket: true
  #         missing_bucket: false
  #     metrics:
  #       - type: min
  #         label: Used Memory
  #         field: aerospike.node.memory.used
          # format: {id: "percent", params: {decimals: 0}} # Not directly supported in YAML schema
      # Reference lines are not directly supported in the YAML schema
  
  - type: lens
    grid: { x: 27, y: 9, w: 38, h: 9 }
    index_pattern: metrics-*
    filters:
      - field: aerospike.node.connection.open
        exists: true # Assuming equals operator for exists filter in panel
      - field: data_stream.dataset
        type: phrase
        value: aerospikereceiver.otel
        operator: equals
    chart:
      type: line
      dimensions:
        - field: "@timestamp"
          type: date_histogram
          label: "@timestamp"
          interval: auto
        - field: aerospike.node.name
          type: terms
          size: 15
          sort:
            by: Open Connections
            direction: desc
          other_bucket: true
          missing_bucket: false
      metrics:
        - type: max
          field: aerospike.node.connection.open
          label: Open Connections
          # format: {id: "number", params: {decimals: 0}} # Not directly supported in YAML schema
      axis:
        left:
          title: Connections # Assuming yTitle maps to left axis title
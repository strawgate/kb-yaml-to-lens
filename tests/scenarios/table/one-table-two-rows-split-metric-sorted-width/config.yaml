dashboards:
-
  title: Table with two rows - sort and width - a split metric
  description: "A dashboard with a Table with two rows and a metric"
  id: 77075d20-cef4-b9a2-7a2a-ee46d8ad6464
  panels:
  - title: "table"
    type: lens
    id: 2f623316-998b-4819-8579-63e991ffe84e
    index_pattern: metrics-* # Example index pattern ID
    grid: { x: 0, y: 0, w: 24, h: 15 }
    chart:
      type: datatable
      title: "table"
      id: 94793652-40b0-4337-bf6a-8c2f7188a37c
      rows:
        - field: agent.name
          type: terms
          id: 319570f8-5973-4e6b-bf00-8a3dd4092d0f
          label: "Top 3 values of agent.name"
          size: 3
          sort:
            by: "Median of beat.stats.system.load.1" # Sort by the metric label
            direction: desc
        - field: agent.id
          id: 1b60b9b9-263e-4f05-9627-5c895c4d0e77
          type: terms
          label: "Top 3 values of agent.id"
          size: 3
          sort:
            by: "Median of beat.stats.system.load.1" # Sort by the metric label
            direction: desc
      metrics:
        - type: median
          id: bd2b7862-fbda-4a1e-a8c1-e6585ff69eee
          label: Median of beat.stats.system.load.1
          field: beat.stats.system.load.1
      split_by:
        - field: agent.version
          id: 2f139301-1c57-46ec-a456-984647683e2f
          type: terms
          label: "Top 3 values of agent.version"
          size: 3
          sort:
            by: "Median of beat.stats.system.load.1" # Sort by the metric label
            direction: desc
dashboards:
  - name: "[Test] Heatmap - Geographic Traffic"
    description: "Test fixture for heatmap visualization"
    panels:
      # ES|QL variant
      - type: charts
        title: "Traffic Heatmap by Geographic Location"
        grid: { x: 0, y: 0, w: 24, h: 15 }
        chart:
          type: heatmap
          esql: "FROM kibana_sample_data_logs | STATS bytes = SUM(bytes) BY geo.dest, geo.src"
          dimensions:
            - field: "geo.src"
          breakdown_by:
            field: "geo.dest"
          metric:
            field: "bytes"
          legend:
            show: true
            position: right

      # Data View variant
      - type: charts
        title: "Traffic Heatmap by Geographic Location (Data View)"
        grid: { x: 24, y: 0, w: 24, h: 15 }
        chart:
          type: heatmap
          data_view: "kibana_sample_data_logs"
          dimensions:
            - field: "geo.src"
              type: values
          breakdown_by:
            field: "geo.dest"
            type: values
          metric:
            aggregation: sum
            field: "bytes"
          legend:
            show: true
            position: right

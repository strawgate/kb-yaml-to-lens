{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Dashboard Compiler","text":"<p>Convert human-friendly YAML dashboard definitions into Kibana NDJSON format.</p> <p>This tool simplifies the process of creating and managing Kibana dashboards by allowing you to define them in a clean, maintainable YAML format instead of hand-crafting complex JSON.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>YAML-based Dashboard Definition \u2013 Define dashboards, panels, filters,   and queries in simple YAML</li> <li>Kibana Integration \u2013 Compile to NDJSON format compatible with Kibana 8+</li> <li>Rich Panel Support \u2013 Lens visualizations (metric, pie, XY charts),   Markdown, Links, Image panels, and Search panels (in development)</li> <li>Advanced Controls \u2013 Control groups with options lists, range sliders,   and time sliders with chaining</li> <li>Flexible Filtering \u2013 Comprehensive filter DSL supporting exists, phrase,   range, and custom DSL with AND/OR/NOT operators</li> <li>Multiple Query Types \u2013 KQL, Lucene, and ESQL query support</li> <li>Direct Upload \u2013 Optional direct upload to Kibana with authentication   support</li> <li>Screenshot Export \u2013 Generate PNG screenshots of dashboards with custom   time ranges using Kibana's Reporting API</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#installation","title":"Installation","text":"<p>This project uses uv for fast, reliable Python package management:</p> <pre><code># For development (includes testing, linting, type checking)\nuv sync --group dev\n\n# For building documentation\nuv sync --group dev --group docs\n\n# For runtime usage only\nuv sync\n</code></pre> <p>For more information, see the uv documentation.</p>"},{"location":"#compile-your-first-dashboard","title":"Compile Your First Dashboard","text":"<ol> <li>Create a YAML dashboard file in <code>inputs/</code> directory:</li> </ol> <pre><code>dashboards:\n-\n  name: My First Dashboard\n  description: A simple dashboard with markdown\n  panels:\n    - type: markdown\n      grid: { x: 0, y: 0, w: 24, h: 15 }\n      content: |\n        # Welcome to Kibana!\n\n        This is my first dashboard compiled from YAML.\n</code></pre> <ol> <li>Compile to NDJSON:</li> </ol> <pre><code>kb-dashboard compile --input-dir inputs --output-dir output\n</code></pre> <ol> <li>(Optional) Upload directly to Kibana:</li> </ol> <pre><code>kb-dashboard compile \\\n  --input-dir inputs \\\n  --output-dir output \\\n  --upload \\\n  --kibana-url http://localhost:5601 \\\n  --kibana-username elastic \\\n  --kibana-password changeme\n</code></pre> <p>The <code>--upload</code> flag will automatically open your dashboard in the browser upon successful upload.</p>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Quickstart Guide \u2013 Step-by-step guide for creating your   first dashboard</li> <li>Architecture \u2013 Technical design and data flow overview</li> <li>YAML Reference \u2013 Complete schema documentation for   all dashboard elements</li> <li>Contributing Guide \u2013 How to contribute and add new   capabilities</li> </ul>"},{"location":"#requirements","title":"Requirements","text":"<ul> <li>Python 3.12+</li> <li>PyYAML 6.0+</li> <li>Pydantic 2.11.3+</li> <li>beartype 0.20.2+</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT</p>"},{"location":"#support","title":"Support","text":"<p>For issues and feature requests, please refer to the repository's issue tracker.</p>"},{"location":"CLI/","title":"Dashboard Compiler CLI","text":"<p>The <code>kb-dashboard</code> CLI tool allows you to compile YAML dashboard configurations to Kibana's NDJSON format and optionally upload them directly to Kibana.</p>"},{"location":"CLI/#installation","title":"Installation","text":"<p>After installing the project dependencies, the CLI will be available:</p> <pre><code>uv sync\n</code></pre>"},{"location":"CLI/#basic-usage","title":"Basic Usage","text":""},{"location":"CLI/#compile-dashboards","title":"Compile Dashboards","text":"<p>Compile YAML dashboards to NDJSON format:</p> <pre><code>kb-dashboard compile\n</code></pre> <p>This will:</p> <ul> <li>Find all YAML files in <code>tests/dashboards/scenarios/</code> (by default)</li> <li>Compile them to Kibana JSON format</li> <li>Output NDJSON files to <code>output/</code> directory</li> <li>Create individual NDJSON files per scenario</li> <li>Create a combined <code>compiled_dashboards.ndjson</code> file</li> </ul>"},{"location":"CLI/#compile-and-upload-to-kibana","title":"Compile and Upload to Kibana","text":"<p>Compile dashboards and upload them directly to Kibana:</p> <pre><code>kb-dashboard compile --upload\n</code></pre> <p>This will compile the dashboards and upload them to a local Kibana instance.</p>"},{"location":"CLI/#configuration","title":"Configuration","text":""},{"location":"CLI/#environment-variables","title":"Environment Variables","text":"<p>The CLI supports configuration via environment variables:</p> <pre><code>export KIBANA_URL=http://localhost:5601\nexport KIBANA_USERNAME=elastic\nexport KIBANA_PASSWORD=changeme\n# OR use API key instead\nexport KIBANA_API_KEY=your-api-key-here\n</code></pre> <p>Then simply run:</p> <pre><code>kb-dashboard compile --upload\n</code></pre>"},{"location":"CLI/#command-line-options","title":"Command-Line Options","text":"<p>All options can also be specified on the command line:</p> <pre><code>kb-dashboard compile \\\n  --upload \\\n  --kibana-url http://localhost:5601 \\\n  --kibana-username elastic \\\n  --kibana-password changeme\n</code></pre>"},{"location":"CLI/#full-command-reference","title":"Full Command Reference","text":""},{"location":"CLI/#kb-dashboard-compile","title":"<code>kb-dashboard compile</code>","text":"<p>Compile YAML dashboard configurations to NDJSON format.</p> <p>Options:</p> <ul> <li><code>--input-dir PATH</code> - Directory containing YAML dashboard files (default: <code>tests/dashboards/scenarios/</code>)</li> <li><code>--output-dir PATH</code> - Directory to write compiled NDJSON files (default: <code>output/</code>)</li> <li><code>--output-file NAME</code> - Name of the combined output NDJSON file (default: <code>compiled_dashboards.ndjson</code>)</li> <li><code>--upload</code> - Upload compiled dashboards to Kibana after compilation</li> <li><code>--kibana-url URL</code> - Kibana base URL (default: <code>http://localhost:5601</code>, can use <code>KIBANA_URL</code> env var)</li> <li><code>--kibana-username USER</code> - Kibana username for basic auth (can use <code>KIBANA_USERNAME</code> env var)</li> <li><code>--kibana-password PASS</code> - Kibana password for basic auth (can use <code>KIBANA_PASSWORD</code> env var)</li> <li><code>--kibana-api-key KEY</code> - Kibana API key for authentication (can use <code>KIBANA_API_KEY</code> env var)</li> <li><code>--no-browser</code> - Do not open browser after upload</li> <li><code>--overwrite/--no-overwrite</code> - Overwrite existing dashboards in Kibana (default: <code>--overwrite</code>)</li> </ul>"},{"location":"CLI/#examples","title":"Examples","text":""},{"location":"CLI/#compile-only","title":"Compile only","text":"<pre><code>kb-dashboard compile\n</code></pre>"},{"location":"CLI/#compile-and-upload-with-basic-auth","title":"Compile and upload with basic auth","text":"<pre><code>kb-dashboard compile \\\n  --upload \\\n  --kibana-url https://kibana.example.com \\\n  --kibana-username admin \\\n  --kibana-password secret\n</code></pre>"},{"location":"CLI/#compile-and-upload-with-api-key","title":"Compile and upload with API key","text":"<pre><code>kb-dashboard compile \\\n  --upload \\\n  --kibana-url https://kibana.example.com \\\n  --kibana-api-key \"VnVhQm5Yb0JDZGJrUW0tZTVoT3k6dWkybHAyYXhUTm1zeWFrdzl0dk5udw==\"\n</code></pre>"},{"location":"CLI/#custom-input-and-output-directories","title":"Custom input and output directories","text":"<pre><code>kb-dashboard compile \\\n  --input-dir ./my-dashboards \\\n  --output-dir ./compiled \\\n  --output-file my-dashboards.ndjson\n</code></pre>"},{"location":"CLI/#upload-without-opening-browser","title":"Upload without opening browser","text":"<pre><code>kb-dashboard compile \\\n  --upload \\\n  --no-browser\n</code></pre>"},{"location":"CLI/#makefile-shortcuts","title":"Makefile Shortcuts","text":"<p>The project includes convenient Makefile targets:</p> <pre><code># Compile only\nmake compile\n\n# Compile and upload (uses environment variables for Kibana config)\nmake upload\n</code></pre>"},{"location":"CLI/#authentication","title":"Authentication","text":"<p>The CLI supports two authentication methods:</p>"},{"location":"CLI/#basic-authentication","title":"Basic Authentication","text":"<p>Use username and password:</p> <pre><code>kb-dashboard compile \\\n  --upload \\\n  --kibana-username elastic \\\n  --kibana-password changeme\n</code></pre> <p>Or via environment variables:</p> <pre><code>export KIBANA_USERNAME=elastic\nexport KIBANA_PASSWORD=changeme\nkb-dashboard compile --upload\n</code></pre>"},{"location":"CLI/#api-key-authentication","title":"API Key Authentication","text":"<p>Use a Kibana API key:</p> <pre><code>kb-dashboard compile \\\n  --upload \\\n  --kibana-api-key \"your-base64-encoded-key\"\n</code></pre> <p>Or via environment variable:</p> <pre><code>export KIBANA_API_KEY=\"your-base64-encoded-key\"\nkb-dashboard compile --upload\n</code></pre> <p>To create an API key in Kibana:</p> <ol> <li>Go to Stack Management \u2192 API Keys</li> <li>Click \"Create API key\"</li> <li>Give it a name and set appropriate privileges</li> <li>Copy the encoded key and use it with the CLI</li> </ol>"},{"location":"CLI/#troubleshooting","title":"Troubleshooting","text":""},{"location":"CLI/#connection-refused","title":"Connection Refused","text":"<p>If you get a connection refused error:</p> <ul> <li>Verify Kibana is running: <code>curl http://localhost:5601/api/status</code></li> <li>Check the Kibana URL is correct</li> <li>Ensure there are no firewall rules blocking the connection</li> </ul>"},{"location":"CLI/#authentication-failed","title":"Authentication Failed","text":"<p>If you get authentication errors:</p> <ul> <li>Verify your credentials are correct</li> <li>Check that the user has appropriate permissions</li> <li>For API keys, ensure the key hasn't expired</li> </ul>"},{"location":"CLI/#upload-errors","title":"Upload Errors","text":"<p>If objects fail to upload:</p> <ul> <li>Check the Kibana logs for detailed error messages</li> <li>Verify the NDJSON format is valid</li> <li>Use <code>--no-overwrite</code> if you want to preserve existing objects</li> </ul>"},{"location":"architecture/","title":"Dashboard Compiler Architecture","text":"<p>This document describes the architecture of the dashboard compiler, which converts a simplified YAML representation of Kibana dashboards into the complex Kibana dashboard JSON format.</p>"},{"location":"architecture/#goal","title":"Goal","text":"<p>The primary goal is to provide a human-readable and maintainable way to define Kibana dashboards using YAML, abstracting away the complexities of the native JSON structure.</p>"},{"location":"architecture/#design","title":"Design","text":"<p>The compiler is designed using a layered approach with distinct components responsible for different stages of the conversion process.</p> <ol> <li> <p>YAML Loading and Parsing:</p> <ul> <li>The process begins by loading the YAML configuration file.</li> <li>The <code>PyYAML</code> library is used to parse the YAML content into a Python dictionary.</li> </ul> </li> <li> <p>Pydantic Model Representation:</p> <ul> <li>The codebase uses a three-layer pattern with separate models for input configuration and output views:</li> <li>Config Models (<code>**/config.py</code>): Define the YAML schema structure using Pydantic, handling validation and ensuring the parsed YAML conforms to the defined schema. These models use a <code>BaseCfgModel</code> base class.</li> <li>View Models (<code>**/view.py</code>): Define the Kibana JSON output structure using Pydantic. These models use a <code>BaseVwModel</code> base class and include custom serialization logic.</li> <li>Compile Functions (<code>**/compile.py</code>): Transform config models into view models, handling the specific formatting and mapping required for each component.</li> <li>Each major component of a dashboard (Dashboard, Panel, Grid, etc.) and its variations (different panel types, Lens visualizations, dimensions, metrics, etc.) follows this pattern.</li> <li>A custom validator in the base <code>Panel</code> class is used to dynamically instantiate the correct panel subclass based on the <code>type</code> field in the YAML data.</li> </ul> </li> <li> <p>Compilation Process:</p> <ul> <li>Compile functions in <code>compile.py</code> files take config model instances and transform them into view model instances.</li> <li>These functions handle the specific formatting and nesting required for each element (panels, visualizations, layers, etc.).</li> <li>The top-level dashboard compilation orchestrates the compilation of all components (panels, controls, filters, queries) and assembles the final Kibana JSON structure.</li> <li>View models use Pydantic's <code>model_dump_json()</code> method to serialize to JSON.</li> </ul> </li> <li> <p>ID and Reference Management (Future Enhancement):</p> <ul> <li>The Kibana dashboard JSON relies heavily on unique IDs and references between components.</li> <li>A future enhancement will involve implementing a system for generating unique IDs and managing these references during the compilation process to ensure the generated dashboards are valid and functional in Kibana.</li> </ul> </li> <li> <p>Error Handling (Future Enhancement):</p> <ul> <li>Robust error handling will be added to catch and report issues during YAML parsing, data validation, and JSON compilation.</li> </ul> </li> </ol>"},{"location":"architecture/#components","title":"Components","text":"<p>The codebase is organized into a hierarchical structure under <code>src/dashboard_compiler/</code>:</p> <ul> <li><code>dashboard_compiler.py</code>: Main entry point containing the core compilation orchestration functions (<code>load</code>, <code>render</code>, <code>dump</code>).</li> <li><code>cli.py</code>: Command-line interface for compiling dashboards and uploading to Kibana.</li> <li><code>dashboard/</code>: Top-level dashboard compilation with <code>config.py</code>, <code>view.py</code>, and <code>compile.py</code>.</li> <li><code>panels/</code>: Panel compilation with subdirectories for each panel type (markdown, links, images, search, charts).</li> <li><code>panels/charts/</code>: Chart-specific compilation with subdirectories for different chart types (metric, pie, xy) and components (lens/esql metrics, dimensions, columns).</li> <li><code>controls/</code>: Control group compilation for dashboard interactivity.</li> <li><code>filters/</code>: Filter compilation supporting various filter types.</li> <li><code>queries/</code>: Query compilation for KQL, Lucene, and ESQL.</li> <li><code>shared/</code>: Shared base models and utilities (<code>model.py</code>, <code>view.py</code>).</li> <li><code>tests/</code>: Test files including snapshot tests to verify compiler output against expected JSON.</li> </ul>"},{"location":"architecture/#data-flow","title":"Data Flow","text":"<ol> <li>YAML file is read.</li> <li>YAML content is parsed into a Python dictionary.</li> <li>The dictionary is validated and converted into a hierarchy of Pydantic config model objects.</li> <li>Compile functions transform the config model hierarchy into view model objects.</li> <li>The compile functions are called recursively on nested objects to build the view model structure.</li> <li>View models are serialized to JSON using Pydantic's <code>model_dump_json()</code> method.</li> <li>A Kibana-compatible NDJSON file is generated.</li> </ol> <p>```mermaid graph TD     A[YAML File] --&gt; B{Load &amp; Parse YAML}     B --&gt; C[Python Dictionary]     C --&gt; D{Pydantic Validation}     D --&gt; E[Config Model Hierarchy]     E --&gt; F{Compile Functions}     F --&gt; G[View Model Hierarchy]     G --&gt; H{model_dump_json}     H --&gt; I[Kibana JSON/NDJSON]</p>"},{"location":"kibana-architecture/","title":"Kibana Dashboard Architecture Reference","text":"<p>This document provides a comprehensive technical reference for Kibana's dashboard and panel architecture, specifically designed to support the development and understanding of YAML-to-Kibana compilation tools.</p>"},{"location":"kibana-architecture/#overview","title":"Overview","text":"<p>Kibana dashboards are stored as saved objects in Elasticsearch using a specific schema. The most critical architectural pattern is that complex configuration data is stored as stringified JSON within the <code>attributes</code> field of saved objects. Understanding this pattern is essential for any tool that generates Kibana dashboards programmatically.</p>"},{"location":"kibana-architecture/#key-architectural-principles","title":"Key Architectural Principles","text":"<ol> <li>Saved Objects Model: Dashboards are persisted as saved objects with    type <code>\"dashboard\"</code> in Elasticsearch</li> <li>Stringified JSON: Fields like <code>panelsJSON</code>, <code>optionsJSON</code>, and    <code>searchSourceJSON</code> contain JSON serialized as strings</li> <li>Reference System: External dependencies (data views, saved    visualizations) are normalized into a <code>references</code> array</li> <li>By-Value vs By-Reference: Panels can either embed full visualization    configurations inline (by-value) or link to separately saved visualizations    (by-reference)</li> <li>Lens as Primary Target: Legacy visualization types are deprecated;    modern dashboards should exclusively use Lens</li> </ol>"},{"location":"kibana-architecture/#version-evolution","title":"Version Evolution","text":""},{"location":"kibana-architecture/#timeline-overview","title":"Timeline Overview","text":"Version Key Changes Impact on Compilers 7.x Introduced modern <code>gridData</code> format, Lens visualizations Foundation for current architecture 8.0 Globally unique IDs across spaces, removed legacy import API Must use Saved Objects API 8.8+ Index splitting (<code>.kibana</code> \u2192 multiple indices) Transparent to API users 8.10+ Model versions replace legacy migrations New version tracking system 8.19+ Collapsible sections, custom grid layout New panel grouping mechanism 9.0 Disabled creation of legacy viz types, internal API restrictions Must target Lens exclusively 9.0+ ES|QL variable controls, Content Management v3 API New filter/query capabilities 10.0 Full removal of TSVB, aggregation-based, Timelion Complete deprecation"},{"location":"kibana-architecture/#migration-from-8x-to-9x","title":"Migration from 8.x to 9.x","text":"<p>The core dashboard JSON structure remains backward compatible between 8.x and 9.x. Key differences:</p>"},{"location":"kibana-architecture/#content-management-v3-api-9x","title":"Content Management v3 API (9.x)","text":"<p>The new API layer destringifies JSON for easier programmatic access:</p> Storage Field v3 API Field Compiler Target <code>panelsJSON</code> (string) <code>panels</code> (array) Use stringified format <code>optionsJSON</code> (string) <code>options</code> (object) Use stringified format <code>searchSourceJSON</code> (string) <code>searchSource</code> (object) Use stringified format <p>Recommendation: Compilers should output the stringified format for maximum compatibility with both direct saved object operations and older Kibana versions.</p>"},{"location":"kibana-architecture/#model-versions-system","title":"Model Versions System","text":"<p>After Kibana 8.10.0, the legacy <code>migrations</code> property is deprecated. The new <code>modelVersions</code> system uses consecutive integers (1, 2, 3...) decoupled from Kibana release versions.</p> <p>Version field changes:</p> Field Status Usage <code>migrationVersion</code> (map) Being phased out Legacy version tracking <code>typeMigrationVersion</code> Current standard Primary version field <code>coreMigrationVersion</code> Active Tracks core Kibana version"},{"location":"kibana-architecture/#legacy-visualization-deprecations","title":"Legacy Visualization Deprecations","text":"Visualization Type 9.x Status Full Removal TSVB Creation disabled, existing work 10.0 Aggregation-based Creation disabled, existing work 10.0 Timelion (viz) Creation disabled, existing work 10.0 Vega Fully supported No removal planned Logs Stream panel REMOVED 9.0 Legacy Input Controls Hidden by default TBD <p>Critical for compilers: Target Lens (<code>lns*</code> visualization types) as the primary output format since legacy visualization creation is disabled in 9.0 and scheduled for full removal in 10.0.</p>"},{"location":"kibana-architecture/#saved-object-structure","title":"Saved Object Structure","text":""},{"location":"kibana-architecture/#top-level-schema","title":"Top-Level Schema","text":"<p>Every dashboard saved object follows this structure:</p> <pre><code>{\n  \"id\": \"730ea5e4-dc12-4b1c-aee4-a6af849be9be\",\n  \"type\": \"dashboard\",\n  \"namespaces\": [\"default\"],\n  \"updated_at\": \"2024-01-08T22:30:30.879Z\",\n  \"created_at\": \"2024-01-08T22:30:30.879Z\",\n  \"version\": \"Wzg1LDdd\",\n  \"typeMigrationVersion\": \"8.7.0\",\n  \"managed\": false,\n  \"attributes\": { /* Dashboard-specific data */ },\n  \"references\": [ /* External object references */ ]\n}\n</code></pre>"},{"location":"kibana-architecture/#dashboard-attributes","title":"Dashboard Attributes","text":"<p>The <code>attributes</code> object contains all dashboard-specific configuration:</p> Field Type Description Required <code>title</code> string Dashboard display name Yes <code>description</code> string Optional dashboard description No <code>version</code> number Internal schema version (typically <code>1</code>) Yes <code>timeRestore</code> boolean Whether to restore saved time range on load No <code>timeFrom</code> string Saved time range start (e.g., <code>\"now-15m\"</code>) No <code>timeTo</code> string Saved time range end (e.g., <code>\"now\"</code>) No <code>refreshInterval</code> object Auto-refresh: <code>{pause: boolean, value: number}</code> No <code>kibanaSavedObjectMeta</code> object Contains <code>searchSourceJSON</code> (stringified) Yes <code>optionsJSON</code> string Stringified dashboard display options Yes <code>panelsJSON</code> string Stringified array of panel configurations Yes <code>controlGroupInput</code> object Filter controls configuration No <p>Critical: The <code>panelsJSON</code>, <code>optionsJSON</code>, and <code>searchSourceJSON</code> fields are stringified JSON strings, not native objects. Compilers must serialize these fields as escaped JSON strings within the final output.</p>"},{"location":"kibana-architecture/#search-source-json","title":"Search Source JSON","text":"<p>Controls dashboard-level queries and filters:</p> <pre><code>{\n  \"query\": {\n    \"query\": \"\",\n    \"language\": \"kuery\"\n  },\n  \"filter\": [\n    {\n      \"$state\": { \"store\": \"appState\" },\n      \"meta\": {\n        \"alias\": null,\n        \"disabled\": false,\n        \"negate\": false,\n        \"type\": \"phrase\",\n        \"key\": \"field_name\",\n        \"params\": { \"query\": \"value\" },\n        \"indexRefName\": \"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\"\n      },\n      \"query\": {\n        \"match_phrase\": { \"field_name\": \"value\" }\n      }\n    }\n  ]\n}\n</code></pre> <p>The <code>language</code> field accepts <code>\"kuery\"</code> (KQL) or <code>\"lucene\"</code>. Filter index references use the <code>indexRefName</code> convention, which must match entries in the top-level <code>references</code> array.</p>"},{"location":"kibana-architecture/#dashboard-options","title":"Dashboard Options","text":"<p>The <code>optionsJSON</code> field contains display preferences:</p> <pre><code>{\n  \"useMargins\": true,\n  \"syncColors\": false,\n  \"syncCursor\": true,\n  \"syncTooltips\": false,\n  \"hidePanelTitles\": false\n}\n</code></pre>"},{"location":"kibana-architecture/#references-array","title":"References Array","text":"<p>The <code>references</code> array extracts object relationships from panel configurations:</p> <p>Reference Naming Conventions:</p> Pattern Usage Example <code>panel_N</code> By-reference panel linking to saved visualization <code>panel_5</code> <code>kibanaSavedObjectMeta.searchSourceJSON.index</code> Dashboard's default data view Main index pattern <code>kibanaSavedObjectMeta.searchSourceJSON.filter[N].meta.index</code> Filter data view references Per-filter index <code>{panelIndex}:indexpattern-datasource-layer-{layerId}</code> Lens layer data view reference <code>panel-uuid:indexpattern-datasource-layer-layer1</code> <code>controlGroup_N:optionsListDataView</code> Control group data views Control filter index <p>Example references:</p> <pre><code>{\n  \"references\": [\n    {\n      \"type\": \"index-pattern\",\n      \"id\": \"logs-*\",\n      \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.index\"\n    },\n    {\n      \"type\": \"index-pattern\",\n      \"id\": \"01d64a72-a702-4a41-8ba3-b87d45c40814\",\n      \"name\": \"panel-uuid:indexpattern-datasource-layer-layer1\"\n    },\n    {\n      \"type\": \"visualization\",\n      \"id\": \"50643b60-3dd3-11e8-b2b9-5d5dc1715159\",\n      \"name\": \"panel_5\"\n    }\n  ]\n}\n</code></pre>"},{"location":"kibana-architecture/#panel-configuration","title":"Panel Configuration","text":"<p>Panels represent individual visualizations within a dashboard. The grid system uses a 48-column layout where panels are positioned using <code>gridData</code> coordinates.</p>"},{"location":"kibana-architecture/#panel-object-structure","title":"Panel Object Structure","text":"<p>Each panel in the <code>panelsJSON</code> array follows this structure:</p> <pre><code>interface PanelState {\n  version: string;          // Kibana version (e.g., \"8.6.0\")\n  type: string;             // 'lens', 'visualization', 'map', 'search', 'links'\n  panelIndex: string;       // UUID matching gridData.i\n  panelRefName?: string;    // For by-reference: 'panel_{panelIndex}'\n  title?: string;           // Custom panel title\n  gridData: {\n    x: number;              // 0-47 (48-column grid)\n    y: number;              // 0+ (infinite rows)\n    w: number;              // Width 1-48\n    h: number;              // Height in row units\n    i: string;              // Panel ID (must match panelIndex)\n    row?: string;           // NEW in 9.x: parent section ID\n  };\n  embeddableConfig: {\n    attributes?: object;    // By-value: full visualization state\n    enhancements?: object;  // Drilldowns, actions\n    hidePanelTitles?: boolean;\n  };\n}\n</code></pre>"},{"location":"kibana-architecture/#grid-positioning-rules","title":"Grid Positioning Rules","text":"<ul> <li>x: Horizontal position (0-47, max 48 columns total)</li> <li>y: Vertical position (rows from top, no maximum)</li> <li>w: Width in grid columns (1-48)</li> <li>h: Height in grid units (minimum varies by panel type)</li> <li>i: Unique identifier string (must match <code>panelIndex</code>)</li> </ul> <p>Common Layout Patterns:</p> Layout Grid Configuration Full width <code>{\"x\":0,\"y\":0,\"w\":48,\"h\":8}</code> Half width (left) <code>{\"x\":0,\"y\":0,\"w\":24,\"h\":15}</code> Half width (right) <code>{\"x\":24,\"y\":0,\"w\":24,\"h\":15}</code> Three columns <code>w:16</code> at <code>x:0</code>, <code>x:16</code>, <code>x:32</code>"},{"location":"kibana-architecture/#by-reference-vs-by-value-panels","title":"By-Reference vs By-Value Panels","text":"<p>This is the most critical distinction for compiler implementations.</p>"},{"location":"kibana-architecture/#by-reference-panels","title":"By-Reference Panels","text":"<p>Link to separately saved visualization objects:</p> <pre><code>{\n  \"type\": \"visualization\",\n  \"gridData\": {\"x\":0,\"y\":21,\"w\":24,\"h\":10,\"i\":\"5\"},\n  \"panelIndex\": \"5\",\n  \"embeddableConfig\": { \"enhancements\": {} },\n  \"panelRefName\": \"panel_5\"\n}\n</code></pre> <p>The <code>panelRefName</code> must match an entry in the dashboard's <code>references</code> array:</p> <pre><code>{\n  \"type\": \"visualization\",\n  \"id\": \"50643b60-3dd3-11e8-b2b9-5d5dc1715159\",\n  \"name\": \"panel_5\"\n}\n</code></pre>"},{"location":"kibana-architecture/#by-value-panels-recommended","title":"By-Value Panels (Recommended)","text":"<p>Embed the complete visualization inline:</p> <pre><code>{\n  \"type\": \"lens\",\n  \"gridData\": {\"x\":0,\"y\":0,\"w\":24,\"h\":15,\"i\":\"uuid-here\"},\n  \"panelIndex\": \"uuid-here\",\n  \"embeddableConfig\": {\n    \"hidePanelTitles\": false,\n    \"attributes\": {\n      \"title\": \"\",\n      \"visualizationType\": \"lnsXY\",\n      \"type\": \"lens\",\n      \"references\": [\n        {\n          \"type\": \"index-pattern\",\n          \"id\": \"logs-*\",\n          \"name\": \"indexpattern-datasource-layer-layer1\"\n        }\n      ],\n      \"state\": { /* Full Lens state */ }\n    },\n    \"enhancements\": {}\n  }\n}\n</code></pre> <p>For YAML compilers targeting Lens, by-value panels are the recommended approach as they create self-contained dashboards that are easier to version control and deploy.</p>"},{"location":"kibana-architecture/#panel-type-compatibility","title":"Panel Type Compatibility","text":"Panel Type <code>type</code> Value 8.x 9.x Recommended Lens <code>lens</code> \u2713 \u2713 Yes Legacy Viz <code>visualization</code> \u2713 Existing only No TSVB <code>visualization</code> \u2713 Existing only No Maps <code>map</code> \u2713 \u2713 Yes Saved Search <code>search</code> \u2713 \u2713 Yes Links <code>links</code> \u2713 \u2713 Yes Collapsible Section <code>section</code> \u2014 \u2713 Yes (9.x+) Vega <code>visualization</code> \u2713 \u2713 Yes"},{"location":"kibana-architecture/#collapsible-sections-819-9x","title":"Collapsible Sections (8.19+, 9.x)","text":"<p>Collapsible sections allow panels to be grouped into expandable/collapsible rows:</p> <pre><code>{\n  \"rows\": {\n    \"section-1\": {\n      \"id\": \"section-1\",\n      \"title\": \"Section Title\",\n      \"collapsed\": false,\n      \"panels\": {\n        \"panel-1\": { \"type\": \"lens\", \"gridData\": {...} }\n      }\n    }\n  },\n  \"panels\": {\n    \"ungrouped-panel\": { \"type\": \"lens\", \"gridData\": {...} }\n  }\n}\n</code></pre> <p>Key implications:</p> <ul> <li>Collapsed sections lazy-load content, improving performance</li> <li>The <code>gridData.row</code> property links panels to their parent section</li> <li>Uses custom CSS grid layout engine (<code>kbn-grid-layout</code>) replacing   <code>react-grid-layout</code></li> </ul>"},{"location":"kibana-architecture/#lens-visualization-architecture","title":"Lens Visualization Architecture","text":"<p>Lens is Kibana's modern visualization editor and the primary target for new dashboards. Its state object is complex but follows a consistent schema.</p>"},{"location":"kibana-architecture/#lens-attributes-structure","title":"Lens Attributes Structure","text":"<pre><code>{\n  \"title\": \"My Chart\",\n  \"visualizationType\": \"lnsXY\",\n  \"type\": \"lens\",\n  \"references\": [\n    {\n      \"type\": \"index-pattern\",\n      \"id\": \"01d64a72-a702-4a41-8ba3-b87d45c40814\",\n      \"name\": \"indexpattern-datasource-layer-layer1\"\n    }\n  ],\n  \"state\": {\n    \"datasourceStates\": {\n      \"formBased\": {\n        \"layers\": {\n          \"layer1\": {\n            \"columns\": { /* Column definitions */ },\n            \"columnOrder\": [\"col1\", \"col2\"],\n            \"indexPatternId\": \"01d64a72-a702-4a41-8ba3-b87d45c40814\"\n          }\n        }\n      }\n    },\n    \"visualization\": { /* Visualization-specific config */ },\n    \"query\": {\"query\": \"\", \"language\": \"kuery\"},\n    \"filters\": []\n  }\n}\n</code></pre>"},{"location":"kibana-architecture/#lens-visualization-types","title":"Lens Visualization Types","text":"visualizationType Description Common Use Cases <code>lnsXY</code> Line, area, bar charts Time series, comparisons <code>lnsPie</code> Pie and donut charts Proportions, distributions <code>lnsMetric</code> Single metric display KPIs, counts <code>lnsDatatable</code> Data tables Raw data, breakdowns <code>lnsGauge</code> Gauge visualizations Progress, thresholds <code>lnsHeatmap</code> Heatmaps Density, correlations <code>lnsTagcloud</code> Tag clouds Word frequency <code>lnsMosaic</code> Mosaic charts Multi-dimensional proportions"},{"location":"kibana-architecture/#lens-column-configuration","title":"Lens Column Configuration","text":"<p>Columns define the data transformations (metrics and buckets):</p> <pre><code>{\n  \"col1\": {\n    \"dataType\": \"date\",\n    \"isBucketed\": true,\n    \"label\": \"@timestamp\",\n    \"operationType\": \"date_histogram\",\n    \"params\": {\"interval\": \"auto\"},\n    \"sourceField\": \"@timestamp\"\n  },\n  \"col2\": {\n    \"dataType\": \"number\",\n    \"isBucketed\": false,\n    \"label\": \"Count\",\n    \"operationType\": \"count\",\n    \"sourceField\": \"Records\"\n  }\n}\n</code></pre> <p>Operation types include:</p> <ul> <li>Metrics: <code>count</code>, <code>sum</code>, <code>avg</code>, <code>max</code>, <code>min</code>, <code>cardinality</code>, <code>percentile</code>,   <code>median</code>, <code>last_value</code>, <code>unique_count</code></li> <li>Buckets: <code>date_histogram</code>, <code>terms</code>, <code>filters</code>, <code>range</code></li> <li>Advanced: Formula-based operations</li> </ul>"},{"location":"kibana-architecture/#lens-xy-visualization-state","title":"Lens XY Visualization State","text":"<p>For <code>lnsXY</code> charts, the visualization state specifies how columns map to visual elements:</p> <pre><code>{\n  \"visualization\": {\n    \"layers\": [{\n      \"layerId\": \"layer1\",\n      \"accessors\": [\"col2\"],\n      \"xAccessor\": \"col1\",\n      \"seriesType\": \"bar\"\n    }],\n    \"preferredSeriesType\": \"bar\",\n    \"legend\": {\"isVisible\": true, \"position\": \"right\"},\n    \"valueLabels\": \"hide\"\n  }\n}\n</code></pre> <p>Series types: <code>bar</code>, <code>line</code>, <code>area</code>, <code>bar_stacked</code>, <code>bar_horizontal</code>, <code>bar_horizontal_stacked</code>, <code>area_stacked</code>.</p>"},{"location":"kibana-architecture/#lens-datasources","title":"Lens Datasources","text":"<p>Kibana 9.x introduces multiple datasource types:</p> Datasource State Key Usage Form-based <code>formBased</code> Standard aggregation-based queries Text-based <code>textBased</code> ES|QL queries (9.x+) <p>Form-based datasource (most common):</p> <pre><code>{\n  \"formBased\": {\n    \"layers\": {\n      \"layer1\": {\n        \"columns\": { /* column configurations */ },\n        \"columnOrder\": [\"col1\", \"col2\"],\n        \"indexPatternId\": \"data-view-id\"\n      }\n    }\n  }\n}\n</code></pre> <p>Text-based datasource (ES|QL):</p> <pre><code>{\n  \"textBased\": {\n    \"layers\": {\n      \"layer1\": {\n        \"query\": {\n          \"esql\": \"FROM logs* | STATS count() BY @timestamp\"\n        },\n        \"columns\": [...],\n        \"timeField\": \"@timestamp\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"kibana-architecture/#advanced-features","title":"Advanced Features","text":""},{"location":"kibana-architecture/#esql-variable-controls-9x","title":"ES|QL Variable Controls (9.x+)","text":"<p>New control types enable dynamic dashboard filtering through ES|QL queries:</p> Version Naming 9.0-9.1 \"ES|QL controls\" 9.2+ \"Variable controls\" <p>Variable prefixes in ES|QL queries:</p> <ul> <li><code>?variableName</code> \u2014 value variables (filter values)</li> <li><code>??variableName</code> \u2014 field/function variables</li> </ul> <pre><code>{\n  \"controlGroupInput\": {\n    \"controls\": [\n      {\n        \"id\": \"esql-control-1\",\n        \"type\": \"esqlControl\",\n        \"variableName\": \"myVariable\",\n        \"variableType\": \"value\",\n        \"options\": {\n          \"type\": \"query\",\n          \"query\": \"FROM logs* | STATS count() BY field | LIMIT 100\"\n        }\n      }\n    ],\n    \"chainingSystem\": \"HIERARCHICAL\",\n    \"labelPosition\": \"oneLine\"\n  }\n}\n</code></pre>"},{"location":"kibana-architecture/#drilldown-configuration","title":"Drilldown Configuration","text":"<p>Panel drilldowns enable interactive navigation:</p> <pre><code>{\n  \"embeddableConfig\": {\n    \"enhancements\": {\n      \"dynamicActions\": {\n        \"events\": [{\n          \"eventId\": \"drilldown-1\",\n          \"triggers\": [\"VALUE_CLICK_TRIGGER\"],\n          \"action\": {\n            \"factoryId\": \"DASHBOARD_TO_DASHBOARD_DRILLDOWN\",\n            \"name\": \"View Details\",\n            \"config\": {\n              \"dashboardId\": \"target-dashboard-id\",\n              \"useCurrentFilters\": true,\n              \"useCurrentDateRange\": true\n            }\n          }\n        }]\n      }\n    }\n  }\n}\n</code></pre> <p>Trigger types: <code>VALUE_CLICK_TRIGGER</code>, <code>RANGE_SELECT_TRIGGER</code>, <code>ROW_CLICK_TRIGGER</code>.</p>"},{"location":"kibana-architecture/#api-reference","title":"API Reference","text":""},{"location":"kibana-architecture/#saved-objects-api-endpoints","title":"Saved Objects API Endpoints","text":"<p>The primary API for dashboard management:</p> Method Endpoint Purpose <code>POST</code> <code>/api/saved_objects/_export</code> Export dashboards (NDJSON) <code>POST</code> <code>/api/saved_objects/_import</code> Import dashboards <code>GET</code> <code>/api/saved_objects/dashboard/{id}</code> Retrieve single dashboard <code>POST</code> <code>/api/saved_objects/dashboard</code> Create dashboard <code>PUT</code> <code>/api/saved_objects/dashboard/{id}</code> Update dashboard <p>Space-aware endpoints use the format: <code>/s/{space_id}/api/saved_objects/...</code></p>"},{"location":"kibana-architecture/#ndjson-export-format","title":"NDJSON Export Format","text":"<p>Kibana exports use Newline Delimited JSON, where each line is a complete saved object:</p> <pre><code>{\"id\":\"index-pattern-id\",\"type\":\"index-pattern\",\"attributes\":{...}}\n{\"id\":\"dashboard-id\",\"type\":\"dashboard\",\"attributes\":{...},\"references\":[...]}\n</code></pre> <p>Export request body:</p> <pre><code>{\n  \"objects\": [{\"id\": \"dashboard-id\", \"type\": \"dashboard\"}],\n  \"includeReferencesDeep\": true,\n  \"excludeExportDetails\": false\n}\n</code></pre>"},{"location":"kibana-architecture/#internal-apis-blocked-in-90","title":"Internal APIs Blocked in 9.0","text":"<p>Critical 9.0 change: Internal Kibana HTTP APIs now return <code>400 Bad Request</code> when accessed without proper internal headers. This restriction is enabled by default and affects undocumented <code>/api/*</code> and <code>/internal/*</code> routes.</p> <p>Compilers should use only publicly documented APIs listed above.</p> <p>Required headers for all API calls:</p> <pre><code>kbn-xsrf: true\nContent-Type: application/json\n</code></pre>"},{"location":"kibana-architecture/#deprecatedremoved-apis","title":"Deprecated/Removed APIs","text":"Removed API Replacement <code>GET /api/kibana/dashboards/export</code> <code>POST /api/saved_objects/_export</code> <code>POST /api/kibana/dashboards/import</code> <code>POST /api/saved_objects/_import</code>"},{"location":"kibana-architecture/#complete-example-by-value-lens-dashboard","title":"Complete Example: By-Value Lens Dashboard","text":"<pre><code>{\n  \"id\": \"my-dashboard\",\n  \"type\": \"dashboard\",\n  \"typeMigrationVersion\": \"8.9.0\",\n  \"attributes\": {\n    \"title\": \"Application Metrics\",\n    \"version\": 1,\n    \"timeRestore\": true,\n    \"timeFrom\": \"now-24h\",\n    \"timeTo\": \"now\",\n    \"refreshInterval\": {\"pause\": false, \"value\": 30000},\n    \"kibanaSavedObjectMeta\": {\n      \"searchSourceJSON\": \"{\\\"query\\\":{\\\"query\\\":\\\"\\\",\\\"language\\\":\\\"kuery\\\"},\\\"filter\\\":[]}\"\n    },\n    \"optionsJSON\": \"{\\\"useMargins\\\":true,\\\"syncColors\\\":false,\\\"syncCursor\\\":true,\\\"syncTooltips\\\":false,\\\"hidePanelTitles\\\":false}\",\n    \"panelsJSON\": \"[{\\\"type\\\":\\\"lens\\\",\\\"gridData\\\":{\\\"x\\\":0,\\\"y\\\":0,\\\"w\\\":24,\\\"h\\\":15,\\\"i\\\":\\\"panel1\\\"},\\\"panelIndex\\\":\\\"panel1\\\",\\\"embeddableConfig\\\":{\\\"attributes\\\":{\\\"title\\\":\\\"Request Count Over Time\\\",\\\"visualizationType\\\":\\\"lnsXY\\\",\\\"type\\\":\\\"lens\\\",\\\"references\\\":[{\\\"type\\\":\\\"index-pattern\\\",\\\"id\\\":\\\"logs-*\\\",\\\"name\\\":\\\"indexpattern-datasource-layer-layer1\\\"}],\\\"state\\\":{\\\"datasourceStates\\\":{\\\"formBased\\\":{\\\"layers\\\":{\\\"layer1\\\":{\\\"columns\\\":{\\\"col1\\\":{\\\"dataType\\\":\\\"date\\\",\\\"isBucketed\\\":true,\\\"label\\\":\\\"@timestamp\\\",\\\"operationType\\\":\\\"date_histogram\\\",\\\"params\\\":{\\\"interval\\\":\\\"auto\\\"},\\\"sourceField\\\":\\\"@timestamp\\\"},\\\"col2\\\":{\\\"dataType\\\":\\\"number\\\",\\\"isBucketed\\\":false,\\\"label\\\":\\\"Count\\\",\\\"operationType\\\":\\\"count\\\",\\\"sourceField\\\":\\\"Records\\\"}},\\\"columnOrder\\\":[\\\"col1\\\",\\\"col2\\\"]}}}},\\\"visualization\\\":{\\\"layers\\\":[{\\\"layerId\\\":\\\"layer1\\\",\\\"accessors\\\":[\\\"col2\\\"],\\\"xAccessor\\\":\\\"col1\\\",\\\"seriesType\\\":\\\"bar\\\"}],\\\"preferredSeriesType\\\":\\\"bar\\\",\\\"legend\\\":{\\\"isVisible\\\":true,\\\"position\\\":\\\"right\\\"}},\\\"query\\\":{\\\"query\\\":\\\"\\\",\\\"language\\\":\\\"kuery\\\"},\\\"filters\\\":[]}},\\\"enhancements\\\":{}}}]\"\n  },\n  \"references\": [\n    {\n      \"type\": \"index-pattern\",\n      \"id\": \"logs-*\",\n      \"name\": \"panel1:indexpattern-datasource-layer-layer1\"\n    }\n  ]\n}\n</code></pre>"},{"location":"kibana-architecture/#compiler-implementation-guidelines","title":"Compiler Implementation Guidelines","text":""},{"location":"kibana-architecture/#version-detection-strategy","title":"Version Detection Strategy","text":"<p>Check <code>typeMigrationVersion</code> or response headers to determine target version:</p> <ul> <li>8.x: Use stringified JSON format with SavedObjects API</li> <li>9.x: Same stringified format works; new Dashboard API (when available)   accepts destringified</li> </ul>"},{"location":"kibana-architecture/#output-generation-for-dual-compatibility","title":"Output Generation for Dual Compatibility","text":"<p>For a YAML-to-Kibana compiler, the output generation process should:</p> <ol> <li>Stringify <code>options</code> \u2192 <code>optionsJSON</code></li> <li>Stringify <code>panels</code> \u2192 <code>panelsJSON</code></li> <li>Stringify <code>searchSource</code> \u2192 <code>searchSourceJSON</code></li> <li>Extract panel references \u2192 <code>references</code> array</li> <li>Generate unique UUIDs for <code>panelIndex</code> and <code>gridData.i</code> (must match)</li> <li>Include <code>typeMigrationVersion</code> appropriate to target version</li> <li>Flatten embedded Lens references to dashboard's top-level <code>references</code>    array with proper naming</li> </ol>"},{"location":"kibana-architecture/#critical-implementation-details","title":"Critical Implementation Details","text":"<ol> <li> <p>JSON Stringification: The <code>panelsJSON</code>, <code>optionsJSON</code>, and    <code>searchSourceJSON</code> fields must be properly escaped JSON strings within the    final output.</p> </li> <li> <p>UUID Generation: Each panel needs a unique identifier that appears in    both <code>panelIndex</code> and <code>gridData.i</code>.</p> </li> <li> <p>Reference Extraction: When generating by-value Lens panels, extract    index pattern references from the embedded <code>attributes.references</code> and add    them to the dashboard's top-level <code>references</code> array with the naming    convention <code>{panelIndex}:indexpattern-datasource-layer-{layerId}</code>.</p> </li> <li> <p>Reference Naming: Follow established naming patterns for different    reference types (see \"Reference Naming Conventions\" section above).</p> </li> <li> <p>Target Lens Exclusively: For future-proof compilation, generate only    Lens visualizations (<code>lns*</code> types) as legacy visualization creation is    disabled in 9.0 and scheduled for removal in 10.0.</p> </li> </ol>"},{"location":"kibana-architecture/#future-proofing-considerations","title":"Future-Proofing Considerations","text":"<ul> <li>Prefer by-value panels for self-contained, version-controllable dashboards</li> <li>Target Lens exclusively for long-term compatibility</li> <li>Use formBased datasource for standard aggregations</li> <li>Consider textBased datasource for ES|QL queries (9.x+)</li> <li>Support collapsible sections for improved organization (8.19+, 9.x)</li> <li>Implement variable controls for dynamic filtering (9.x+)</li> </ul>"},{"location":"kibana-architecture/#source-code-references","title":"Source Code References","text":"<p>For deeper implementation details, these Kibana repository paths contain authoritative type definitions:</p> Path Contents <code>src/plugins/dashboard/common/types.ts</code> Core dashboard TypeScript types <code>src/plugins/dashboard/common/bwc/types.ts</code> Backward compatibility types <code>src/plugins/dashboard/common/saved_dashboard_references.ts</code> Reference extraction/injection logic <code>x-pack/platform/plugins/shared/lens/</code> Lens plugin implementation <code>src/plugins/embeddable/README.md</code> Embeddable system documentation <code>packages/core/saved-objects/</code> Core saved object schemas"},{"location":"kibana-architecture/#openapi-specifications","title":"OpenAPI Specifications","text":"<p>Official Kibana API schemas are available at:</p> <ul> <li>JSON: <code>https://www.elastic.co/docs/api/doc/kibana.json</code></li> <li>YAML: <code>https://www.elastic.co/docs/api/doc/kibana.yaml</code></li> </ul>"},{"location":"kibana-architecture/#summary-key-takeaways-for-ai-agents","title":"Summary: Key Takeaways for AI Agents","text":"<p>When working with Kibana dashboard compilation:</p> <ol> <li>Understand the stringified JSON pattern - Most complex data in    <code>attributes</code> is stringified JSON</li> <li>Use by-value panels - Embed full Lens configurations inline for    self-contained dashboards</li> <li>Target Lens exclusively - Legacy visualization types are deprecated and    will be removed in Kibana 10.0</li> <li>Follow reference naming conventions - Proper naming is critical for    linking panels to data views</li> <li>Generate matching UUIDs - <code>panelIndex</code> and <code>gridData.i</code> must match</li> <li>Respect the 48-column grid - Use standard layout patterns for consistent    positioning</li> <li>Use the Saved Objects API - This is the primary interface for dashboard    management</li> <li>Support version evolution - Use <code>typeMigrationVersion</code> for compatibility    tracking</li> <li>Consider collapsible sections - Modern dashboards benefit from    organizational features (8.19+, 9.x)</li> <li>Leverage ES|QL controls - Variable controls enable dynamic filtering     (9.x+)</li> </ol> <p>This architecture reference provides the foundation for building robust YAML-to-Kibana compilation tools that generate compatible, future-proof dashboard configurations.</p>"},{"location":"kibana-fixture-generator-guide/","title":"Kibana Fixture Generator: Complete Practical Guide","text":"<p>This document provides a complete, tested guide for using the Kibana fixture generator to create test data for the kb-yaml-to-lens Python compiler.</p>"},{"location":"kibana-fixture-generator-guide/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Prerequisites</li> <li>Understanding the Process</li> <li>Step-by-Step Guide</li> <li>Creating New Fixtures</li> <li>Troubleshooting</li> <li>Real-World Example: Heatmaps</li> </ol>"},{"location":"kibana-fixture-generator-guide/#overview","title":"Overview","text":""},{"location":"kibana-fixture-generator-guide/#what-this-tool-does","title":"What This Tool Does","text":"<p>The fixture generator uses Docker to bootstrap Kibana from source, giving you access to the real <code>LensConfigBuilder</code> API. You write simple JavaScript files that call this API and export JSON fixtures for testing.</p> <p>Key Benefits:</p> <ul> <li>Generates real Kibana JSON (not AI-generated approximations)</li> <li>Uses Kibana's actual <code>LensConfigBuilder</code> API</li> <li>Provides known-good test data for validating the Python compiler</li> <li>Supports multiple Kibana versions for compatibility testing</li> </ul>"},{"location":"kibana-fixture-generator-guide/#what-youll-get","title":"What You'll Get","text":"<p>Running this tool produces:</p> <ul> <li>JSON files containing complete Lens visualization configurations</li> <li>Exact output that Kibana would generate if you created the same panel in the UI</li> <li>Test fixtures you can use for snapshot testing and validation</li> </ul>"},{"location":"kibana-fixture-generator-guide/#prerequisites","title":"Prerequisites","text":"Requirement Minimum Recommended Notes Docker Latest stable Latest stable Required for containerized build Make GNU Make GNU Make For running build commands Disk Space 25GB 30GB+ Kibana source + node_modules are large RAM 8GB 16GB+ Bootstrap process is memory-intensive Time ~6 min N/A First build only; cached thereafter"},{"location":"kibana-fixture-generator-guide/#understanding-the-process","title":"Understanding the Process","text":""},{"location":"kibana-fixture-generator-guide/#how-it-works","title":"How It Works","text":"<p>The fixture generator follows this workflow:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1. Docker Build (one-time, 15-30 minutes)                  \u2502\n\u2502    \u251c\u2500\u2500 Install Node.js 22.x                                 \u2502\n\u2502    \u251c\u2500\u2500 Clone Kibana from GitHub                             \u2502\n\u2502    \u251c\u2500\u2500 Run yarn kbn bootstrap                               \u2502\n\u2502    \u2514\u2500\u2500 Make @kbn/lens-embeddable-utils available            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 2. Write Generator Script (your work)                      \u2502\n\u2502    \u251c\u2500\u2500 Import LensConfigBuilder                             \u2502\n\u2502    \u251c\u2500\u2500 Define visualization config                          \u2502\n\u2502    \u2514\u2500\u2500 Export JSON                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 3. Run Generator                                            \u2502\n\u2502    \u251c\u2500\u2500 make run                                             \u2502\n\u2502    \u2514\u2500\u2500 Outputs JSON to ./output/                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 4. Use in Tests                                             \u2502\n\u2502    \u251c\u2500\u2500 Copy to tests/fixtures/                              \u2502\n\u2502    \u2514\u2500\u2500 Compare compiler output against known-good JSON      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kibana-fixture-generator-guide/#whats-in-the-docker-container","title":"What's in the Docker Container","text":"<p>The Dockerfile creates an environment with:</p> <ol> <li>Ubuntu 22.04 base image</li> <li>Node.js 22.21.1 (matches Kibana's current requirement)</li> <li>Yarn 1.22.19 (Kibana's package manager)</li> <li>Kibana source code (cloned from GitHub)</li> <li>Bootstrapped Kibana packages (via <code>yarn kbn bootstrap --allow-root</code>)</li> <li>Your generator scripts (mounted as volumes)</li> </ol> <p>The key insight: By bootstrapping Kibana, all <code>@kbn/*</code> packages become available to your Node.js scripts via <code>NODE_PATH=/kibana/node_modules</code>.</p>"},{"location":"kibana-fixture-generator-guide/#step-by-step-guide","title":"Step-by-Step Guide","text":""},{"location":"kibana-fixture-generator-guide/#step-1-research-the-panel-type","title":"Step 1: Research the Panel Type","text":"<p>Before writing a generator, understand how the panel works in Kibana's API.</p> <p>Where to Find Information:</p> <ol> <li>Main API Documentation:</li> <li>URL: <code>https://github.com/elastic/kibana/blob/main/dev_docs/lens/config_api.mdx</code></li> <li> <p>Contains: Constructor requirements, build method, general configuration options</p> </li> <li> <p>Chart-Specific Documentation:</p> </li> <li>URL: <code>https://github.com/elastic/kibana/blob/main/dev_docs/lens/{chart-type}.mdx</code></li> <li>Examples: <code>metric.mdx</code>, <code>xy.mdx</code>, <code>pie.mdx</code>, <code>heatmap.mdx</code></li> <li> <p>Contains: Required vs optional parameters, example configurations</p> </li> <li> <p>TypeScript Interfaces (Advanced):</p> </li> <li>Location: <code>x-pack/plugins/lens/</code> in Kibana source</li> <li>Use case: When docs are unclear about exact field names or types</li> </ol>"},{"location":"kibana-fixture-generator-guide/#example-researching-heatmaps","title":"Example: Researching Heatmaps","text":"<p>For heatmaps, you'd find:</p> <p>Required Parameters:</p> <ul> <li><code>chartType: 'heatmap'</code> - Identifies the visualization type</li> <li><code>title: string</code> - Visualization name</li> <li><code>breakdown: string | LensBreakdownConfig</code> - Y-axis dimension</li> <li><code>xAxis: string | LensBreakdownConfig</code> - X-axis dimension</li> <li><code>value: string</code> - The metric to visualize</li> <li><code>dataset: { esql: string }</code> - The data query</li> </ul> <p>Optional Parameters:</p> <ul> <li><code>legend: { show: boolean, position: 'top'| 'left' | 'bottom' |'right' }</code> - Legend configuration</li> </ul>"},{"location":"kibana-fixture-generator-guide/#step-2-build-the-docker-container","title":"Step 2: Build the Docker Container","text":"<p>This step only needs to be done once (or when you want to update the Kibana version).</p> <pre><code>cd fixture-generator\nmake build\n</code></pre> <p>Build Process: Takes ~6 minutes first time (installs Ubuntu, Node.js 22.21.1, clones Kibana, runs <code>yarn kbn bootstrap --allow-root</code>). Subsequent builds are cached and much faster.</p> <p>Common Issues:</p> <ul> <li>\"Kibana should not be run as root\" \u2192 Ensure <code>--allow-root</code> flag in Dockerfile</li> <li>Node version mismatch \u2192 Update <code>NODE_VERSION</code> to match Kibana's <code>.node-version</code></li> </ul>"},{"location":"kibana-fixture-generator-guide/#step-3-write-your-generator-script","title":"Step 3: Write Your Generator Script","text":"<p>Create a new file in <code>examples/{panel-type}.js</code> following this template:</p> <p>Template:</p> <pre><code>#!/usr/bin/env node\nconst { LensConfigBuilder } = require('@kbn/lens-embeddable-utils/config_builder');\nconst fs = require('fs');\nconst path = require('path');\n\nasync function generate{PanelType}() {\n  const builder = new LensConfigBuilder();\n\n  const config = {\n    chartType: '{panel-type}',\n    title: 'Your Panel Title',\n    dataset: { esql: 'FROM your-index | STATS metric = SUM(field) BY dimension' },\n    // Add required fields based on chart type (see Kibana docs)\n  };\n\n  const lensAttributes = await builder.build(config, {\n    timeRange: { from: 'now-7d', to: 'now', type: 'relative' }\n  });\n\n  const outputDir = path.join(__dirname, '..', 'output');\n  if (!fs.existsSync(outputDir)) fs.mkdirSync(outputDir, { recursive: true });\n\n  fs.writeFileSync(\n    path.join(outputDir, '{panel-type}.json'),\n    JSON.stringify(lensAttributes, null, 2)\n  );\n  console.log('\u2713 Generated: {panel-type}.json');\n}\n\nif (require.main === module) {\n  generate{PanelType}().catch((err) =&gt; {\n    console.error('Failed to generate fixture:', err);\n    process.exit(1);\n  });\n}\n\nmodule.exports = { generate{PanelType} };\n</code></pre> <p>Key Points: Import from <code>@kbn/lens-embeddable-utils/config_builder</code>, match config structure to Kibana docs, export function for <code>generate-all.js</code></p>"},{"location":"kibana-fixture-generator-guide/#step-4-run-the-generator","title":"Step 4: Run the Generator","text":"<p>Generate a Single Fixture:</p> <pre><code>cd fixture-generator\nmake run-example EXAMPLE=your-script.js\n</code></pre> <p>Generate All Fixtures:</p> <pre><code>cd fixture-generator\nmake run\n# This runs generate-all.js which executes all registered generators\n</code></pre> <p>What You'll See:</p> <pre><code>Generating all test fixtures...\n\n\u2713 Generated: metric-basic.json\n\u2713 Generated: metric-with-breakdown.json\n\u2713 Generated: xy-chart.json\n\u2713 Generated: pie-chart.json\n\u2713 Generated: your-panel.json\n\n\u2713 All fixtures generated successfully\n  Output directory: ./output/\n</code></pre> <p>Troubleshooting Generation:</p> <p>If generation fails:</p> <ol> <li>Check the error message - LensConfigBuilder provides clear errors</li> <li>Verify config structure - Compare against Kibana docs</li> <li>Validate ES|QL syntax - Test your query separately if needed</li> <li>Check field types - Ensure numeric fields for metrics, keyword for breakdowns</li> </ol>"},{"location":"kibana-fixture-generator-guide/#step-5-examine-the-output","title":"Step 5: Examine the Output","text":"<p>View the Generated JSON:</p> <pre><code>ls -la fixture-generator/output/\ncat fixture-generator/output/your-panel.json | jq '.' | head -50\n</code></pre> <p>What's in the JSON:</p> <p>The output is a complete Lens visualization configuration containing:</p> <ul> <li><code>title</code>: Visualization title</li> <li><code>visualizationType</code>: Always 'lnsXY', 'lnsMetric', 'lnsPie', 'lnsHeatmap', etc.</li> <li><code>references</code>: Data view references (if applicable)</li> <li><code>state</code>:</li> <li><code>datasourceStates</code>: Query and field configuration</li> <li><code>visualization</code>: Chart-specific display settings</li> <li><code>query</code>: KQL/Lucene query (if provided)</li> <li><code>filters</code>: Applied filters (if provided)</li> </ul> <p>Important: This is real Kibana JSON - exactly what Kibana would generate if you created the same panel in the UI.</p>"},{"location":"kibana-fixture-generator-guide/#step-6-use-fixtures-in-tests","title":"Step 6: Use Fixtures in Tests","text":"<p>Copy to Test Fixtures:</p> <pre><code># Copy specific fixture\ncp fixture-generator/output/heatmap.json tests/fixtures/\n\n# Copy all fixtures\ncp fixture-generator/output/*.json tests/scenarios/\n</code></pre> <p>How to Use in Tests:</p> <ol> <li>Snapshot Testing:</li> <li>Place in <code>tests/__snapshots__/</code></li> <li>Use with <code>syrupy</code> in pytest</li> <li> <p>Compare compiler output against known-good fixture</p> </li> <li> <p>Validation Testing:</p> </li> <li>Load fixture as expected output</li> <li>Run Python compiler on equivalent YAML config</li> <li> <p>Deep-compare the results</p> </li> <li> <p>Regression Testing:</p> </li> <li>Regenerate fixtures after Kibana updates</li> <li>Ensure compiler output still matches</li> </ol>"},{"location":"kibana-fixture-generator-guide/#creating-new-fixtures","title":"Creating New Fixtures","text":"<p>Quick workflow for new panel types (gauge, table, treemap):</p> <ol> <li>Research: Check <code>dev_docs/lens/{panel-type}.mdx</code> for required/optional fields</li> <li>Write: Create <code>examples/{panel-type}.js</code> using template from Step 3</li> <li>Test: <code>make run-example EXAMPLE={panel-type}.js</code></li> <li>Integrate: Add to <code>generate-all.js</code> generators array</li> </ol>"},{"location":"kibana-fixture-generator-guide/#testing-with-different-kibana-versions","title":"Testing with Different Kibana Versions","text":"<p>To generate fixtures for a specific Kibana version:</p> <pre><code># Build for specific version\nmake build KIBANA_VERSION=v9.3.0\n\n# Generate with that version\nmake run\n\n# Output goes to ./output/\n</code></pre> <p>Common Kibana Versions:</p> <ul> <li><code>v9.2.0</code> - Default version (recommended)</li> <li><code>main</code> - Latest development version</li> <li><code>v9.3.0</code> - Specific release tag</li> <li><code>8.15</code> - Branch for 8.15.x releases</li> </ul>"},{"location":"kibana-fixture-generator-guide/#troubleshooting","title":"Troubleshooting","text":""},{"location":"kibana-fixture-generator-guide/#build-issues","title":"Build Issues","text":"Problem Solution Node version mismatch - <code>Error: Expected version \"22.21.1\". Got \"20.19.4\"</code> The Node.js version is auto-detected from Kibana's <code>.node-version</code> file during build. Rebuild with <code>make build-no-cache</code> to pick up any version changes \"Kibana should not be run as root\" Add <code>--allow-root</code> flag to <code>yarn kbn bootstrap</code> in Dockerfile Out of memory during bootstrap Increase Docker memory limit in Docker Desktop settings (recommend 10GB+)"},{"location":"kibana-fixture-generator-guide/#generation-issues","title":"Generation Issues","text":"Problem Solution LensConfigBuilder not found Ensure bootstrap completed successfully. Run <code>make test-import</code> to verify Invalid configuration error - <code>missing required field 'breakdown'</code> Review chart-specific Kibana docs, ensure all required fields present with correct types ES|QL query syntax error Use uppercase keywords (<code>BY</code>, <code>STATS</code>, <code>FROM</code>), test query in Kibana Dev Tools first Permission denied writing to output Create output directory: <code>mkdir -p fixture-generator/output &amp;&amp; chmod 777 fixture-generator/output</code>"},{"location":"kibana-fixture-generator-guide/#debugging","title":"Debugging","text":"<p>Use <code>make shell</code> to get an interactive shell inside the container for debugging:</p> <pre><code>make shell\n# Inside container:\nnode -e \"require('@kbn/lens-embeddable-utils/config_builder')\"\nls /kibana/node_modules/@kbn/ | grep lens\n</code></pre>"},{"location":"kibana-fixture-generator-guide/#real-world-example-heatmaps","title":"Real-World Example: Heatmaps","text":"<p>Complete example of creating a heatmap fixture. Required fields from Kibana docs: <code>chartType</code>, <code>title</code>, <code>breakdown</code> (Y-axis), <code>xAxis</code> (X-axis), <code>value</code> (metric), <code>dataset</code>.</p> <p>File: <code>fixture-generator/examples/heatmap.js</code></p> <pre><code>#!/usr/bin/env node\nconst { LensConfigBuilder } = require('@kbn/lens-embeddable-utils/config_builder');\nconst fs = require('fs');\nconst path = require('path');\n\nasync function generateHeatmap() {\n  const builder = new LensConfigBuilder();\n\n  const config = {\n    chartType: 'heatmap',\n    title: 'Traffic Heatmap by Geographic Location',\n    dataset: { esql: 'FROM kibana_sample_data_logs | STATS bytes = SUM(bytes) BY geo.dest, geo.src' },\n    breakdown: 'geo.dest',\n    xAxis: 'geo.src',\n    value: 'bytes',\n    legend: { show: true, position: 'right' }\n  };\n\n  const lensAttributes = await builder.build(config, {\n    timeRange: { from: 'now-7d', to: 'now', type: 'relative' }\n  });\n\n  const outputDir = path.join(__dirname, '..', 'output');\n  if (!fs.existsSync(outputDir)) fs.mkdirSync(outputDir, { recursive: true });\n\n  fs.writeFileSync(\n    path.join(outputDir, 'heatmap.json'),\n    JSON.stringify(lensAttributes, null, 2)\n  );\n  console.log('\u2713 Generated: heatmap.json');\n}\n\nif (require.main === module) {\n  generateHeatmap().catch((err) =&gt; {\n    console.error('Failed to generate fixture:', err);\n    process.exit(1);\n  });\n}\n\nmodule.exports = { generateHeatmap };\n</code></pre> <p>Add to <code>generate-all.js</code>:</p> <pre><code>const { generateHeatmap } = require('./examples/heatmap');\ngenerators.push({ name: 'Heatmap', fn: generateHeatmap });\n</code></pre> <p>Run it:</p> <pre><code>make run-example EXAMPLE=heatmap.js\n# Or run all: make run\n</code></pre>"},{"location":"kibana-fixture-generator-guide/#available-make-commands","title":"Available Make Commands","text":"Command Description <code>make help</code> Show all available commands <code>make build</code> Build the Docker image <code>make build-no-cache</code> Full rebuild without cache <code>make run</code> Generate all fixtures <code>make run-example EXAMPLE=&lt;file&gt;</code> Run a specific example <code>make shell</code> Open shell for debugging <code>make test-import</code> Test @kbn module import <code>make clean</code> Remove output files <code>make clean-image</code> Remove Docker image"},{"location":"kibana-fixture-generator-guide/#summary","title":"Summary","text":"<p>Workflow: Research panel in Kibana docs \u2192 Build container (one-time) \u2192 Write generator script \u2192 Run to produce JSON \u2192 Use in test suite</p> <p>Benefits: Test data is authoritative (from Kibana itself), validates real-world compatibility, regenerable for new Kibana versions</p>"},{"location":"programmatic-usage/","title":"Programmatic Usage","text":"<p>The Dashboard Compiler provides a full programmatic API for creating dashboards in Python code, without writing any YAML configuration files.</p>"},{"location":"programmatic-usage/#why-use-python-code","title":"Why Use Python Code?","text":"<p>While YAML is great for simple, static dashboards, creating dashboards programmatically offers several advantages:</p> <ul> <li>Dynamic Generation: Create dashboards based on runtime data, configuration, or external sources</li> <li>Reusability: Build helper functions and templates for common dashboard patterns</li> <li>Type Safety: Leverage Pydantic models for validation and IDE autocomplete</li> <li>Programmatic Logic: Use loops, conditionals, and functions to generate complex layouts</li> <li>Integration: Easily integrate dashboard creation into your existing Python workflows</li> </ul>"},{"location":"programmatic-usage/#quick-example","title":"Quick Example","text":"<pre><code>from dashboard_compiler.dashboard.config import Dashboard\nfrom dashboard_compiler.dashboard_compiler import render\nfrom dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.markdown.config import MarkdownPanel\n\n# Create a dashboard\ndashboard = Dashboard(\n    name='My First Dashboard',\n    description='Created in Python',\n)\n\n# Add a markdown panel\npanel = MarkdownPanel(\n    grid=Grid(x=0, y=0, w=24, h=15),\n    content='# Hello from Python!',\n)\ndashboard.add_panel(panel)\n\n# Render to Kibana format\nkbn_dashboard = render(dashboard)\noutput = kbn_dashboard.model_dump_json(by_alias=True, exclude_none=True)\nprint(output)\n</code></pre>"},{"location":"programmatic-usage/#core-concepts","title":"Core Concepts","text":""},{"location":"programmatic-usage/#dashboard-object","title":"Dashboard Object","text":"<p>The <code>Dashboard</code> class is the main entry point for creating dashboards:</p> <pre><code>from dashboard_compiler.dashboard.config import Dashboard\n\ndashboard = Dashboard(\n    name='Dashboard Name',  # Required: Display name\n    description='Dashboard description',  # Optional: Description\n    data_view='logs-*',  # Optional: Default data view\n)\n</code></pre>"},{"location":"programmatic-usage/#grid-layout","title":"Grid Layout","text":"<p>Kibana uses a 48-column grid system. Panels are positioned using the <code>Grid</code> class:</p> <pre><code>from dashboard_compiler.panels.config import Grid\n\n# Full-width panel\ngrid = Grid(x=0, y=0, w=48, h=15)\n\n# Half-width panels (left and right)\nleft_grid = Grid(x=0, y=0, w=24, h=15)\nright_grid = Grid(x=24, y=0, w=24, h=15)\n\n# Quarter-width panels\ngrid1 = Grid(x=0, y=0, w=12, h=15)\ngrid2 = Grid(x=12, y=0, w=12, h=15)\ngrid3 = Grid(x=24, y=0, w=12, h=15)\ngrid4 = Grid(x=36, y=0, w=12, h=15)\n</code></pre> <p>Grid Parameters:</p> <ul> <li><code>x</code>: Horizontal position (0-47)</li> <li><code>y</code>: Vertical position (0+)</li> <li><code>w</code>: Width in grid units (1-48)</li> <li><code>h</code>: Height in grid units (1+)</li> </ul>"},{"location":"programmatic-usage/#adding-panels","title":"Adding Panels","text":"<p>Use the <code>add_panel()</code> method to add panels to your dashboard:</p> <pre><code>dashboard.add_panel(panel)\n</code></pre> <p>This method returns the dashboard instance, allowing for method chaining:</p> <pre><code>dashboard.add_panel(panel1).add_panel(panel2).add_panel(panel3)\n</code></pre>"},{"location":"programmatic-usage/#dynamic-dashboard-generation","title":"Dynamic Dashboard Generation","text":"<p>One of the key benefits of programmatic dashboards is the ability to generate them dynamically:</p>"},{"location":"programmatic-usage/#generating-panels-from-configuration","title":"Generating Panels from Configuration","text":"<pre><code>from dashboard_compiler.dashboard.config import Dashboard\nfrom dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensOtherAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.metric.config import LensMetricChart\nfrom dashboard_compiler.panels.config import Grid\n\ndashboard = Dashboard(name='Metrics Dashboard')\n\nmetrics_config = [\n    {'name': 'CPU Usage', 'field': 'cpu_percent'},\n    {'name': 'Memory Usage', 'field': 'memory_percent'},\n    {'name': 'Disk I/O', 'field': 'disk_io'},\n]\n\nfor i, metric in enumerate(metrics_config):\n    chart = LensMetricChart(\n        data_view='metrics-*',\n        primary=LensOtherAggregatedMetric(aggregation='average', field=metric['field']),\n    )\n\n    panel = LensPanel(\n        title=metric['name'],\n        grid=Grid(\n            x=(i % 3) * 16,  # 3 columns\n            y=(i // 3) * 15,\n            w=16,\n            h=15,\n        ),\n        chart=chart,\n    )\n\n    dashboard.add_panel(panel)\n</code></pre>"},{"location":"programmatic-usage/#building-reusable-helper-functions","title":"Building Reusable Helper Functions","text":"<pre><code>def create_metric_panel(title: str, field: str, x: int, y: int) -&gt; LensPanel:\n    \"\"\"Helper function to create a standard metric panel.\"\"\"\n    chart = LensMetricChart(\n        data_view='logs-*',\n        primary=LensOtherAggregatedMetric(aggregation='average', field=field),\n    )\n\n    return LensPanel(\n        title=title,\n        grid=Grid(x=x, y=y, w=24, h=15),\n        chart=chart,\n    )\n\n# Use the helper function\ndashboard.add_panel(create_metric_panel('Avg Response Time', 'response_time', 0, 0))\ndashboard.add_panel(create_metric_panel('Avg Bytes', 'bytes', 24, 0))\n</code></pre>"},{"location":"programmatic-usage/#filters-and-controls","title":"Filters and Controls","text":""},{"location":"programmatic-usage/#global-filters","title":"Global Filters","text":"<p>Add filters that apply to all panels in the dashboard:</p> <pre><code>from dashboard_compiler.dashboard.config import Dashboard\nfrom dashboard_compiler.filters.config import ExistsFilter, PhraseFilter, RangeFilter\n\ndashboard = Dashboard(name='Filtered Dashboard')\n\n# Phrase filter\ndashboard.add_filter(\n    PhraseFilter(\n        field='environment',\n        equals='production',\n    )\n)\n\n# Range filter\ndashboard.add_filter(\n    RangeFilter(\n        field='response_time',\n        gte='0',\n        lte='1000',\n    )\n)\n\n# Exists filter\ndashboard.add_filter(ExistsFilter(exists='error.message'))\n</code></pre>"},{"location":"programmatic-usage/#interactive-controls","title":"Interactive Controls","text":"<p>Add interactive controls for filtering data:</p> <pre><code>from dashboard_compiler.controls.config import (\n    OptionsListControl,\n    RangeSliderControl,\n)\nfrom dashboard_compiler.dashboard.config import Dashboard\n\ndashboard = Dashboard(name='Dashboard with Controls')\n\n# Options list (dropdown filter)\ndashboard.add_control(\n    OptionsListControl(\n        field='log.level',\n        label='Log Level',\n        width='medium',\n        data_view='logs-*',\n    )\n)\n\n# Range slider\ndashboard.add_control(\n    RangeSliderControl(\n        field='bytes',\n        label='Response Size',\n        step=100,\n        width='medium',\n        data_view='logs-*',\n    )\n)\n</code></pre>"},{"location":"programmatic-usage/#rendering-and-export","title":"Rendering and Export","text":""},{"location":"programmatic-usage/#rendering-to-kibana-format","title":"Rendering to Kibana Format","text":"<p>Convert your dashboard to Kibana's NDJSON format:</p> <pre><code>from pathlib import Path\n\nfrom dashboard_compiler.dashboard.config import Dashboard\nfrom dashboard_compiler.dashboard_compiler import render\n\ndashboard = Dashboard(name='My Dashboard')\nkbn_dashboard = render(dashboard)\noutput = kbn_dashboard.model_dump_json(by_alias=True, exclude_none=True)\n\n# Save to file\nPath('dashboard.ndjson').write_text(output)\n</code></pre>"},{"location":"programmatic-usage/#saving-multiple-dashboards","title":"Saving Multiple Dashboards","text":"<pre><code>from dashboard_compiler.dashboard.config import Dashboard\nfrom dashboard_compiler.dashboard_compiler import dump\n\ndashboard1 = Dashboard(name='Dashboard 1')\ndashboard2 = Dashboard(name='Dashboard 2')\ndashboard3 = Dashboard(name='Dashboard 3')\n\ndashboards = [dashboard1, dashboard2, dashboard3]\ndump(dashboards, 'dashboards.ndjson')\n</code></pre>"},{"location":"programmatic-usage/#panel-types","title":"Panel Types","text":"<p>The Dashboard Compiler supports various panel types. For detailed examples and API reference for each panel type, see the Panels API Reference.</p> <p>Available Panel Types:</p> <ul> <li>Markdown Panels - Display rich text content</li> <li>Metric Charts - Display key performance indicators (KPIs)</li> <li>Pie Charts - Show distribution of categorical data</li> <li>XY Charts - Create line, bar, and area charts for time series data</li> <li>Links Panels - Display collections of links</li> <li>Image Panels - Embed images in dashboards</li> <li>Search Panels - Display search results</li> </ul>"},{"location":"programmatic-usage/#api-reference","title":"API Reference","text":"<p>For detailed API documentation and more examples, see:</p> <ul> <li>API Reference - Complete API documentation</li> <li>Panels - Panel types with Python examples</li> <li>Dashboard - Dashboard configuration</li> <li>Controls - Control group configuration</li> <li>Filters - Filter compilation</li> <li>Queries - Query compilation</li> </ul>"},{"location":"quickstart/","title":"Quickstart Guide","text":"<p>This guide will help you get started with creating Kibana dashboards using the simplified YAML schema.</p>"},{"location":"quickstart/#installation","title":"Installation","text":"<p>This project uses uv for fast, reliable Python package management:</p> <pre><code># For development (includes testing, linting, type checking)\nuv sync --group dev\n\n# For building documentation\nuv sync --group dev --group docs\n\n# For runtime usage only\nuv sync\n</code></pre> <p>For more information, see the uv documentation.</p>"},{"location":"quickstart/#basic-dashboard-structure","title":"Basic Dashboard Structure","text":"<p>A basic dashboard YAML file has the following structure:</p> <pre><code>dashboards:\n-\n  name: Your Dashboard Title\n  description: An optional description\n  panels:\n    - # Your panel definitions go here\n</code></pre>"},{"location":"quickstart/#creating-a-simple-markdown-panel","title":"Creating a Simple Markdown Panel","text":"<p>Here's an example of a dashboard with a single markdown panel:</p> <pre><code>dashboards:\n-\n  name: My First Dashboard\n  description: A simple dashboard with a markdown panel\n  panels:\n    - type: markdown\n      grid: { x: 0, y: 0, w: 24, h: 15 }\n      content: |\n        # Hello, Kibana!\n\n        This is my first markdown panel.\n</code></pre>"},{"location":"quickstart/#creating-a-simple-lens-metric-panel","title":"Creating a Simple Lens Metric Panel","text":"<p>Here's an example of a dashboard with a single Lens metric panel displaying a count:</p> <pre><code>dashboards:\n-\n  name: Metric Dashboard\n  description: A dashboard with a single metric panel\n  panels:\n    - type: lens\n      grid: { x: 0, y: 0, w: 24, h: 15 }\n      index_pattern: your-index-pattern-*\n      chart:\n        type: metric\n        metrics:\n          - type: count\n            label: Total Documents\n</code></pre>"},{"location":"quickstart/#programmatic-alternative","title":"Programmatic Alternative","text":"<p>While this guide focuses on YAML, you can also create dashboards entirely in Python code! This approach offers:</p> <ul> <li>Dynamic dashboard generation based on runtime data</li> <li>Type safety with Pydantic models</li> <li>Reusable dashboard templates and components</li> <li>Integration with existing Python workflows</li> </ul> <p>See the Programmatic Usage Guide for examples and patterns.</p>"},{"location":"quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Explore the detailed documentation for each object type (dashboard, panels, controls, filters, queries) in the <code>src/dashboard_compiler/*/</code> directories.</li> <li>Refer to the example YAML files in the <code>inputs/</code> and <code>tests/dashboards/scenarios/</code> directories for more complex examples.</li> <li>See the YAML Reference for complete schema documentation.</li> <li>Check the CLI Documentation for compilation and upload instructions.</li> <li>Try the Programmatic Usage Guide for creating dashboards in Python code.</li> </ul>"},{"location":"yaml_reference/","title":"YAML Reference","text":""},{"location":"yaml_reference/#dashboard-configuration","title":"Dashboard Configuration","text":"<p>The <code>dashboards</code> array is the root element in your YAML configuration file. Each dashboard defines the overall structure, content, and global settings for a Kibana dashboard.</p>"},{"location":"yaml_reference/#minimal-configuration-example","title":"Minimal Configuration Example","text":"<p>A minimal dashboard requires a <code>name</code> and at least one panel.</p> <pre><code>dashboards:\n  -\n    name: \"Simple Log Dashboard\"\n    panels:\n      - type: markdown\n        content: \"Welcome to the dashboard!\"\n        grid:\n          x: 0\n          y: 0\n          w: 6\n          h: 3\n</code></pre>"},{"location":"yaml_reference/#complex-configuration-example","title":"Complex Configuration Example","text":"<p>This example showcases a dashboard with various settings, a default data view, a global query, filters, controls, and multiple panels.</p> <pre><code>dashboards:\n  -\n    name: \"Comprehensive Application Overview\"\n    id: \"app-overview-001\"\n    description: \"An overview of application performance and logs, with interactive filtering.\"\n    data_view: \"production-logs-*\" # Default data view for all items unless overridden\n    settings:\n      margins: true\n      titles: true\n      sync:\n        cursor: true\n        tooltips: true\n        colors: false # Use distinct color palettes per panel\n      controls:\n        label_position: \"above\"\n        chain_controls: true\n    query:\n      kql: \"NOT response_code:500\" # Global KQL query\n    filters:\n      - field: \"geo.country_iso_code\"\n        equals: \"US\"\n      - field: \"service.environment\"\n        in_list: [\"production\", \"staging\"]\n    controls:\n      - type: options\n        label: \"Filter by Region\"\n        data_view: \"user-sessions-*\"\n        field: \"user.geo.region_name\"\n        width: \"medium\"\n    panels:\n      - type: markdown\n        content: \"### Key Performance Indicators\"\n        grid: { x: 0, y: 0, w: 12, h: 2 }\n      - type: lens\n        title: \"Total Requests\"\n        data_view: \"apm-traces-*\"\n        chart:\n          type: metric\n          metrics:\n            - type: count\n        grid: { x: 0, y: 2, w: 4, h: 4 }\n      - type: lens\n        title: \"Requests by Response Code\"\n        data_view: \"apm-traces-*\"\n        chart:\n          type: bar\n          x_axis:\n            field: \"http.response.status_code\"\n          metrics:\n            - type: count\n        grid: { x: 4, y: 2, w: 8, h: 4 }\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#dashboard-object","title":"Dashboard Object","text":"<p>The main object defining the dashboard.</p> YAML Key Data Type Description Kibana Default Required <code>name</code> <code>string</code> The title of the dashboard displayed in Kibana. N/A Yes <code>id</code> <code>string</code> An optional unique identifier for the dashboard. If not provided, one will be generated based on the name. Generated ID No <code>description</code> <code>string</code> A brief description of the dashboard's purpose or content. <code>\"\"</code> (empty string) No <code>settings</code> <code>DashboardSettings</code> object Global settings for the dashboard. See Dashboard Settings. See defaults below No <code>data_view</code> <code>string</code> The default data view (index pattern) ID or title used by items in this dashboard unless overridden. <code>None</code> No <code>query</code> <code>Query</code> object A global query (KQL or Lucene) applied to the dashboard. See Queries Documentation. <code>None</code> No <code>filters</code> <code>list of Filter objects</code> A list of global filters applied to the dashboard. See Filters Documentation. <code>[]</code> (empty list) No <code>controls</code> <code>list of Control objects</code> A list of control panels for the dashboard. See Controls Documentation. <code>[]</code> (empty list) No <code>panels</code> <code>list of Panel objects</code> A list of panels defining the content and layout. See Panels Documentation. <code>[]</code> (empty list) Yes"},{"location":"yaml_reference/#dashboard-settings-settings","title":"Dashboard Settings (<code>settings</code>)","text":"<p>Global settings for the dashboard, configured under the <code>dashboard.settings</code> path.</p> YAML Key Data Type Description Kibana Default Required <code>margins</code> <code>boolean</code> Whether to put space (margins) between panels in the dashboard. <code>true</code> No <code>sync</code> <code>DashboardSyncSettings</code> object Configures synchronization of cursor, tooltips, and colors across panels. See Dashboard Sync Settings. See defaults below No <code>controls</code> <code>ControlSettings</code> object Global settings for controls on the dashboard. See Controls Documentation. See defaults in Controls docs No <code>titles</code> <code>boolean</code> Whether to display the titles in the panel headers. <code>true</code> No"},{"location":"yaml_reference/#dashboard-sync-settings-settingssync","title":"Dashboard Sync Settings (<code>settings.sync</code>)","text":"<p>Configure whether cursor, tooltips, and colors should synchronize across panels.</p> YAML Key Data Type Description Kibana Default Required <code>cursor</code> <code>boolean</code> Whether to synchronize the cursor across related panels. <code>true</code> No <code>tooltips</code> <code>boolean</code> Whether to synchronize tooltips across related panels. <code>true</code> No <code>colors</code> <code>boolean</code> Whether to apply the same color palette to all panels on the dashboard. <code>true</code> No"},{"location":"yaml_reference/#methods-for-programmatic-generation","title":"Methods (for programmatic generation)","text":"<p>While primarily declarative, the underlying Pydantic models for <code>Dashboard</code> support methods for adding components if you are generating configurations programmatically (not directly used in YAML):</p> <ul> <li><code>add_filter(filter: FilterTypes)</code>: Adds a filter to the <code>filters</code> list.</li> <li><code>add_control(control: ControlTypes)</code>: Adds a control to the <code>controls</code> list.</li> <li><code>add_panel(panel: PanelTypes)</code>: Adds a panel to the <code>panels</code> list.</li> </ul>"},{"location":"yaml_reference/#related-documentation","title":"Related Documentation","text":"<ul> <li>Controls Configuration</li> <li>Filters Configuration</li> <li>Queries Configuration</li> <li>Panels Overview</li> </ul>"},{"location":"yaml_reference/#agent-guidelines-dashboard-compiler-python","title":"Agent Guidelines: Dashboard Compiler (Python)","text":"<p>Dashboard Compiler converts human-readable YAML into Kibana dashboard JSON. Python 3.12+ \u00b7 Pydantic \u00b7 PyYAML \u00b7 uv package manager</p>"},{"location":"yaml_reference/#quick-reference","title":"Quick Reference","text":""},{"location":"yaml_reference/#essential-commands","title":"Essential Commands","text":"Command Purpose <code>make install</code> Install all dependencies <code>make check</code> Run before committing (lint + typecheck + test) <code>make test</code> Run pytest suite <code>make lint</code> Format and lint code <code>make typecheck</code> Run type checking with basedpyright <code>make compile</code> Compile YAML dashboards to NDJSON"},{"location":"yaml_reference/#common-workflows","title":"Common Workflows","text":"<pre><code># First time setup\nmake install\n\n# Development cycle\n# 1. Make changes\n# 2. Run checks\nmake check\n</code></pre>"},{"location":"yaml_reference/#project-architecture","title":"Project Architecture","text":""},{"location":"yaml_reference/#data-flow","title":"Data Flow","text":"<pre><code>YAML File \u2192 PyYAML Parser \u2192 Config Models (Pydantic) \u2192 Compile Functions \u2192 View Models \u2192 Kibana JSON\n</code></pre>"},{"location":"yaml_reference/#directory-structure","title":"Directory Structure","text":"Directory Purpose <code>src/dashboard_compiler/</code> Core compilation logic <code>src/dashboard_compiler/dashboard/</code> Top-level dashboard config and compilation <code>src/dashboard_compiler/panels/</code> Panel types (markdown, links, images, search, charts) <code>src/dashboard_compiler/panels/charts/</code> Lens/ESQL chart types (metric, pie, xy) <code>src/dashboard_compiler/controls/</code> Dashboard control groups <code>src/dashboard_compiler/filters/</code> Filter compilation <code>src/dashboard_compiler/queries/</code> KQL, Lucene, ESQL query support <code>src/dashboard_compiler/shared/</code> Base models and utilities <code>tests/</code> Unit tests with snapshot testing (inline snapshots via <code>inline-snapshot</code> library) <code>inputs/</code> Example YAML dashboards"},{"location":"yaml_reference/#three-layer-pattern","title":"Three-Layer Pattern","text":"<p>Each component follows this structure:</p> <ol> <li><code>config.py</code> \u2014 Pydantic models defining YAML schema (source of truth)</li> <li><code>view.py</code> \u2014 Pydantic models defining Kibana JSON output</li> <li><code>compile.py</code> \u2014 Functions transforming config \u2192 view models</li> </ol>"},{"location":"yaml_reference/#test-standards","title":"Test Standards","text":"<ul> <li>Use inline snapshots via <code>inline-snapshot</code> library (not external snapshot files)</li> <li>Prefer inline tests in Python test files over separate scenario files</li> <li>Note: Scenario-based tests in <code>tests/scenarios/</code> are being phased out in favor of inline snapshot tests</li> <li>See existing tests for patterns (e.g., <code>tests/panels/charts/lens/metrics/test_metrics.py</code>)</li> </ul>"},{"location":"yaml_reference/#code-conventions","title":"Code Conventions","text":""},{"location":"yaml_reference/#style","title":"Style","text":"<ul> <li>Line length: 140 characters (Ruff enforced)</li> <li>Dependency manager: <code>uv</code> (not Poetry)</li> <li>Docstring coverage: 80% threshold</li> </ul>"},{"location":"yaml_reference/#pydantic-models","title":"Pydantic Models","text":"<p>Configuration Models (<code>BaseCfgModel</code>):</p> <ul> <li>Settings: <code>strict=True</code>, <code>extra='forbid'</code>, <code>frozen=True</code>, <code>validate_default=True</code></li> <li>Use attribute docstrings for field descriptions</li> <li>Location: <code>**/config.py</code> files</li> </ul> <p>View Models (<code>BaseVwModel</code>):</p> <ul> <li>Custom serializer omits fields with <code>OmitIfNone</code> metadata when value is <code>None</code></li> <li>May narrow types in subclasses (e.g., <code>str</code> \u2192 <code>Literal['value']</code>)</li> <li><code>reportIncompatibleVariableOverride = false</code> in basedpyright allows this</li> </ul>"},{"location":"yaml_reference/#explicit-boolean-checks","title":"Explicit Boolean Checks","text":"<p>Always use explicit comparisons instead of implicit truthiness:</p> <p>\u2705 Correct:</p> <ul> <li><code>if my_var is not None:</code> (for optional types)</li> <li><code>if my_var is None:</code> (for None checks)</li> <li><code>if len(my_list) &gt; 0:</code> (for non-empty lists)</li> <li><code>if len(my_str) &gt; 0:</code> (for non-empty strings)</li> <li><code>if my_bool is True:</code> or <code>if my_bool:</code> (for actual booleans)</li> </ul> <p>\u274c Incorrect:</p> <ul> <li><code>if my_var:</code> (ambiguous: could be None, empty, False, 0, etc.)</li> <li><code>if not my_var:</code> (ambiguous truthiness check)</li> </ul> <p>Exception: <code>if TYPE_CHECKING:</code> is standard Python and acceptable.</p>"},{"location":"yaml_reference/#documentation-updates","title":"Documentation Updates","text":"<p>When updating YAML configuration docs:</p> <ol> <li><code>config.py</code> files are the source of truth for all configuration options</li> <li>Each component's markdown should include: overview, minimal example, complex example, full options table</li> <li>Table columns: <code>YAML Key</code>, <code>Data Type</code>, <code>Description</code>, <code>Default</code>, <code>Required</code></li> <li>Defaults are typically \"Kibana Default\" (defined in <code>compile.py</code>, not config models)</li> <li>Run <code>make compile-docs</code> to regenerate <code>docs/yaml_reference.md</code></li> </ol>"},{"location":"yaml_reference/#ai-agent-guidelines","title":"AI Agent Guidelines","text":""},{"location":"yaml_reference/#before-making-changes","title":"Before Making Changes","text":"<ol> <li>Read relevant files first \u2014 Never speculate about code you haven't inspected</li> <li>Search for existing patterns \u2014 Check how similar components handle the same problem</li> <li>Understand the architecture \u2014 Config models \u2192 compile functions \u2192 view models</li> <li>Use explicit Boolean comparisons \u2014 Never rely on implicit truthiness</li> <li><code>if x is not None:</code> instead of <code>if x:</code></li> <li><code>if len(items) &gt; 0:</code> instead of <code>if items:</code></li> </ol>"},{"location":"yaml_reference/#verification-requirements","title":"Verification Requirements","text":"<p>Before claiming work is complete:</p> <ul> <li>[ ] For schema changes: Cross-reference with official documentation (Kibana repo, API docs, etc.)</li> <li>[ ] For test changes: Explain WHY test data changed, not just WHAT changed</li> <li>[ ] For type errors: Verify the fix compiles AND is semantically correct</li> <li>[ ] For Boolean checks: All conditional statements use explicit comparisons</li> <li>[ ] For type checking: Run <code>make typecheck</code> to verify type correctness</li> <li>[ ] Run <code>make check</code> after EACH fix, not just at the end</li> <li>[ ] Test that the compiled output is valid (not just that it compiles)</li> </ul>"},{"location":"yaml_reference/#radical-honesty","title":"Radical Honesty","text":"<ul> <li>Document unresolved items \u2014 Explain why they weren't addressed</li> <li>Acknowledge uncertainty \u2014 Ask if unclear about patterns or requirements</li> <li>Report problems \u2014 Share issues encountered during implementation</li> <li>Share reasoning \u2014 Explain why you rejected or deferred feedback</li> <li>Admit limitations \u2014 Be clear if unable to verify fixes work correctly</li> </ul> <p>Never claim work is complete with unresolved critical or important issues.</p>"},{"location":"yaml_reference/#cicd","title":"CI/CD","text":""},{"location":"yaml_reference/#pre-commit-requirements","title":"Pre-commit Requirements","text":"<p>CI will fail if:</p> <ul> <li>Ruff linting fails</li> <li>Tests fail</li> <li>Type checking fails (basedpyright standard mode)</li> <li>Docstring coverage below 80%</li> </ul> <p>Run <code>make check</code> locally before pushing.</p>"},{"location":"yaml_reference/#additional-resources","title":"Additional Resources","text":"Resource Location Architecture details <code>docs/architecture.md</code> YAML schema reference <code>docs/yaml_reference.md</code> (generated via <code>make compile-docs</code>) Quickstart guide <code>docs/quickstart.md</code> Contributing guide <code>CONTRIBUTING.md</code> CLI documentation <code>docs/CLI.md</code>"},{"location":"yaml_reference/#agent-guidelines-dashboard-compiler-python_1","title":"Agent Guidelines: Dashboard Compiler (Python)","text":"<p>Dashboard Compiler converts human-readable YAML into Kibana dashboard JSON. Python 3.12+ \u00b7 Pydantic \u00b7 PyYAML \u00b7 uv package manager</p>"},{"location":"yaml_reference/#quick-reference_1","title":"Quick Reference","text":""},{"location":"yaml_reference/#essential-commands_1","title":"Essential Commands","text":"Command Purpose <code>make install</code> Install all dependencies <code>make check</code> Run before committing (lint + typecheck + test) <code>make test</code> Run pytest suite <code>make lint</code> Format and lint code <code>make typecheck</code> Run type checking with basedpyright <code>make compile</code> Compile YAML dashboards to NDJSON"},{"location":"yaml_reference/#common-workflows_1","title":"Common Workflows","text":"<pre><code># First time setup\nmake install\n\n# Development cycle\n# 1. Make changes\n# 2. Run checks\nmake check\n</code></pre>"},{"location":"yaml_reference/#project-architecture_1","title":"Project Architecture","text":""},{"location":"yaml_reference/#data-flow_1","title":"Data Flow","text":"<pre><code>YAML File \u2192 PyYAML Parser \u2192 Config Models (Pydantic) \u2192 Compile Functions \u2192 View Models \u2192 Kibana JSON\n</code></pre>"},{"location":"yaml_reference/#directory-structure_1","title":"Directory Structure","text":"Directory Purpose <code>src/dashboard_compiler/</code> Core compilation logic <code>src/dashboard_compiler/dashboard/</code> Top-level dashboard config and compilation <code>src/dashboard_compiler/panels/</code> Panel types (markdown, links, images, search, charts) <code>src/dashboard_compiler/panels/charts/</code> Lens/ESQL chart types (metric, pie, xy) <code>src/dashboard_compiler/controls/</code> Dashboard control groups <code>src/dashboard_compiler/filters/</code> Filter compilation <code>src/dashboard_compiler/queries/</code> KQL, Lucene, ESQL query support <code>src/dashboard_compiler/shared/</code> Base models and utilities <code>tests/</code> Unit tests with snapshot testing (inline snapshots via <code>inline-snapshot</code> library) <code>inputs/</code> Example YAML dashboards"},{"location":"yaml_reference/#three-layer-pattern_1","title":"Three-Layer Pattern","text":"<p>Each component follows this structure:</p> <ol> <li><code>config.py</code> \u2014 Pydantic models defining YAML schema (source of truth)</li> <li><code>view.py</code> \u2014 Pydantic models defining Kibana JSON output</li> <li><code>compile.py</code> \u2014 Functions transforming config \u2192 view models</li> </ol>"},{"location":"yaml_reference/#test-standards_1","title":"Test Standards","text":"<ul> <li>Use inline snapshots via <code>inline-snapshot</code> library (not external snapshot files)</li> <li>Prefer inline tests in Python test files over separate scenario files</li> <li>Note: Scenario-based tests in <code>tests/scenarios/</code> are being phased out in favor of inline snapshot tests</li> <li>See existing tests for patterns (e.g., <code>tests/panels/charts/lens/metrics/test_metrics.py</code>)</li> </ul>"},{"location":"yaml_reference/#code-conventions_1","title":"Code Conventions","text":""},{"location":"yaml_reference/#style_1","title":"Style","text":"<ul> <li>Line length: 140 characters (Ruff enforced)</li> <li>Dependency manager: <code>uv</code> (not Poetry)</li> <li>Docstring coverage: 80% threshold</li> </ul>"},{"location":"yaml_reference/#pydantic-models_1","title":"Pydantic Models","text":"<p>Configuration Models (<code>BaseCfgModel</code>):</p> <ul> <li>Settings: <code>strict=True</code>, <code>extra='forbid'</code>, <code>frozen=True</code>, <code>validate_default=True</code></li> <li>Use attribute docstrings for field descriptions</li> <li>Location: <code>**/config.py</code> files</li> </ul> <p>View Models (<code>BaseVwModel</code>):</p> <ul> <li>Custom serializer omits fields with <code>OmitIfNone</code> metadata when value is <code>None</code></li> <li>May narrow types in subclasses (e.g., <code>str</code> \u2192 <code>Literal['value']</code>)</li> <li><code>reportIncompatibleVariableOverride = false</code> in basedpyright allows this</li> </ul>"},{"location":"yaml_reference/#explicit-boolean-checks_1","title":"Explicit Boolean Checks","text":"<p>Always use explicit comparisons instead of implicit truthiness:</p> <p>\u2705 Correct:</p> <ul> <li><code>if my_var is not None:</code> (for optional types)</li> <li><code>if my_var is None:</code> (for None checks)</li> <li><code>if len(my_list) &gt; 0:</code> (for non-empty lists)</li> <li><code>if len(my_str) &gt; 0:</code> (for non-empty strings)</li> <li><code>if my_bool is True:</code> or <code>if my_bool:</code> (for actual booleans)</li> </ul> <p>\u274c Incorrect:</p> <ul> <li><code>if my_var:</code> (ambiguous: could be None, empty, False, 0, etc.)</li> <li><code>if not my_var:</code> (ambiguous truthiness check)</li> </ul> <p>Exception: <code>if TYPE_CHECKING:</code> is standard Python and acceptable.</p>"},{"location":"yaml_reference/#documentation-updates_1","title":"Documentation Updates","text":"<p>When updating YAML configuration docs:</p> <ol> <li><code>config.py</code> files are the source of truth for all configuration options</li> <li>Each component's markdown should include: overview, minimal example, complex example, full options table</li> <li>Table columns: <code>YAML Key</code>, <code>Data Type</code>, <code>Description</code>, <code>Default</code>, <code>Required</code></li> <li>Defaults are typically \"Kibana Default\" (defined in <code>compile.py</code>, not config models)</li> <li>Run <code>make compile-docs</code> to regenerate <code>docs/yaml_reference.md</code></li> </ol>"},{"location":"yaml_reference/#ai-agent-guidelines_1","title":"AI Agent Guidelines","text":""},{"location":"yaml_reference/#before-making-changes_1","title":"Before Making Changes","text":"<ol> <li>Read relevant files first \u2014 Never speculate about code you haven't inspected</li> <li>Search for existing patterns \u2014 Check how similar components handle the same problem</li> <li>Understand the architecture \u2014 Config models \u2192 compile functions \u2192 view models</li> <li>Use explicit Boolean comparisons \u2014 Never rely on implicit truthiness</li> <li><code>if x is not None:</code> instead of <code>if x:</code></li> <li><code>if len(items) &gt; 0:</code> instead of <code>if items:</code></li> </ol>"},{"location":"yaml_reference/#verification-requirements_1","title":"Verification Requirements","text":"<p>Before claiming work is complete:</p> <ul> <li>[ ] For schema changes: Cross-reference with official documentation (Kibana repo, API docs, etc.)</li> <li>[ ] For test changes: Explain WHY test data changed, not just WHAT changed</li> <li>[ ] For type errors: Verify the fix compiles AND is semantically correct</li> <li>[ ] For Boolean checks: All conditional statements use explicit comparisons</li> <li>[ ] For type checking: Run <code>make typecheck</code> to verify type correctness</li> <li>[ ] Run <code>make check</code> after EACH fix, not just at the end</li> <li>[ ] Test that the compiled output is valid (not just that it compiles)</li> </ul>"},{"location":"yaml_reference/#radical-honesty_1","title":"Radical Honesty","text":"<ul> <li>Document unresolved items \u2014 Explain why they weren't addressed</li> <li>Acknowledge uncertainty \u2014 Ask if unclear about patterns or requirements</li> <li>Report problems \u2014 Share issues encountered during implementation</li> <li>Share reasoning \u2014 Explain why you rejected or deferred feedback</li> <li>Admit limitations \u2014 Be clear if unable to verify fixes work correctly</li> </ul> <p>Never claim work is complete with unresolved critical or important issues.</p>"},{"location":"yaml_reference/#cicd_1","title":"CI/CD","text":""},{"location":"yaml_reference/#pre-commit-requirements_1","title":"Pre-commit Requirements","text":"<p>CI will fail if:</p> <ul> <li>Ruff linting fails</li> <li>Tests fail</li> <li>Type checking fails (basedpyright standard mode)</li> <li>Docstring coverage below 80%</li> </ul> <p>Run <code>make check</code> locally before pushing.</p>"},{"location":"yaml_reference/#additional-resources_1","title":"Additional Resources","text":"Resource Location Architecture details <code>docs/architecture.md</code> YAML schema reference <code>docs/yaml_reference.md</code> (generated via <code>make compile-docs</code>) Quickstart guide <code>docs/quickstart.md</code> Contributing guide <code>CONTRIBUTING.md</code> CLI documentation <code>docs/CLI.md</code>"},{"location":"yaml_reference/#controls-configuration","title":"Controls Configuration","text":"<p>Controls are interactive elements that can be added to a dashboard, allowing users to filter data or adjust visualization settings dynamically. They are defined as a list of control objects within each dashboard's <code>controls</code> field in the <code>dashboards:</code> array. Global behavior of controls can be managed via the <code>settings.controls</code> object.</p>"},{"location":"yaml_reference/#minimal-configuration-examples","title":"Minimal Configuration Examples","text":"<p>Here's a minimal example of an <code>options</code> list control:</p> <pre><code>dashboards:\n  -\n    controls:\n      - type: options\n        label: \"Filter by Status\"\n        data_view: \"your-data-view-id\" # Replace with your data view ID or title\n        field: \"status.keyword\"      # Replace with the field to filter on\n</code></pre> <p>Here's a minimal example of a <code>range</code> slider control:</p> <pre><code>dashboards:\n  -\n    controls:\n      - type: range\n        label: \"Response Time (ms)\"\n        data_view: \"your-data-view-id\" # Replace with your data view ID or title\n        field: \"response.time\"       # Replace with the numeric field\n</code></pre>"},{"location":"yaml_reference/#complex-configuration-example_1","title":"Complex Configuration Example","text":"<p>This example demonstrates multiple controls with custom widths and global control settings:</p> <pre><code>dashboards:\n  -\n    name: \"Application Monitoring Dashboard\"\n    description: \"Dashboard with interactive controls.\"\n    data_view: \"logs-*\" # Default data view for panels\n    settings:\n      controls:\n        label_position: \"above\"\n        chain_controls: true\n        click_to_apply: false\n    controls:\n      - type: options\n        label: \"Service Name\"\n        id: \"service_filter\"\n        width: \"medium\"\n        data_view: \"apm-*\"\n        field: \"service.name\"\n        singular: false\n        match_technique: \"contains\"\n        preselected: [\"checkout-service\"]\n      - type: range\n        label: \"CPU Usage (%)\"\n        id: \"cpu_range_filter\"\n        width: \"large\"\n        data_view: \"metrics-*\"\n        field: \"system.cpu.user.pct\"\n        step: 0.05\n      - type: time\n        label: \"Custom Time Slice\"\n        id: \"time_slice_control\"\n        width: \"small\"\n        start_offset: 0.1  # 10% from the start of the global time range\n        end_offset: 0.9    # 90% from the start of the global time range\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_1","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#control-settings-settingscontrols","title":"Control Settings (<code>settings.controls</code>)","text":"<p>Global settings for all controls on the dashboard. These are configured under the <code>settings.controls</code> path in your main dashboard YAML.</p> YAML Key Data Type Description Kibana Default Required <code>label_position</code> <code>Literal['inline', 'above']</code> The position of the control label. <code>inline</code> No <code>apply_global_filters</code> <code>boolean</code> Whether to apply global filters to the control. <code>true</code> No <code>apply_global_timerange</code> <code>boolean</code> Whether to apply the global time range to the control. <code>true</code> No <code>ignore_zero_results</code> <code>boolean</code> Whether to ignore controls that return zero results. If <code>true</code>, controls with no results will be hidden. <code>false</code> (controls with zero results are shown) No <code>chain_controls</code> <code>boolean</code> Whether to chain controls together, allowing one control's selection to filter the options in the next. <code>true</code> (hierarchical chaining) No <code>click_to_apply</code> <code>boolean</code> Whether to require users to click an apply button before applying changes. <code>false</code> (changes apply immediately) No"},{"location":"yaml_reference/#options-list-control","title":"Options List Control","text":"<p>Allows users to select one or more values from a list to filter data.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['options']</code> Specifies the control type. <code>options</code> Yes <code>id</code> <code>string</code> A unique identifier for the control. If not provided, one will be generated. Generated UUID No <code>width</code> <code>Literal['small', 'medium', 'large']</code> The width of the control in the dashboard layout. <code>medium</code> No <code>label</code> <code>string</code> The display label for the control. If not provided, a label may be inferred. <code>None</code> No <code>data_view</code> <code>string</code> The ID or title of the data view (index pattern) the control operates on. N/A Yes <code>field</code> <code>string</code> The name of the field within the data view that the control is associated with. N/A Yes <code>fill_width</code> <code>boolean</code> If true, the control will automatically adjust its width to fill available space. <code>false</code> No <code>match_technique</code> <code>Literal['prefix', 'contains', 'exact']</code> The search technique used for filtering options. See Match Technique Enum. <code>prefix</code> No <code>wait_for_results</code> <code>boolean</code> If set to true, delay the display of the list of values until the results are fully loaded. <code>false</code> No <code>preselected</code> <code>list of strings</code> A list of options that are preselected when the control is initialized. <code>[]</code> (empty list) No <code>singular</code> <code>boolean</code> If true, the control allows only a single selection from the options list. <code>false</code> No"},{"location":"yaml_reference/#range-slider-control","title":"Range Slider Control","text":"<p>Allows users to select a range of numeric values to filter data.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['range']</code> Specifies the control type. <code>range</code> Yes <code>id</code> <code>string</code> A unique identifier for the control. If not provided, one will be generated. Generated UUID No <code>width</code> <code>Literal['small', 'medium', 'large']</code> The width of the control in the dashboard layout. <code>medium</code> No <code>label</code> <code>string</code> The display label for the control. If not provided, a label may be inferred. <code>None</code> No <code>data_view</code> <code>string</code> The ID or title of the data view (index pattern) the control operates on. N/A Yes <code>field</code> <code>string</code> The name of the field within the data view that the control is associated with. N/A Yes <code>fill_width</code> <code>boolean</code> If true, the control will automatically adjust its width to fill available space. <code>false</code> No <code>step</code> <code>integer</code> or <code>float</code> The step value for the range, defining the granularity of selections. <code>1</code> No"},{"location":"yaml_reference/#time-slider-control","title":"Time Slider Control","text":"<p>Allows users to select a sub-section of the dashboard's current time range. This control does not use a <code>data_view</code> or <code>field</code> as it operates on the global time context.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['time']</code> Specifies the control type. <code>time</code> Yes <code>id</code> <code>string</code> A unique identifier for the control. If not provided, one will be generated. Generated UUID No <code>width</code> <code>Literal['small', 'medium', 'large']</code> The width of the control in the dashboard layout. <code>medium</code> No <code>label</code> <code>string</code> The display label for the control. If not provided, a label may be inferred. <code>None</code> No <code>start_offset</code> <code>float</code> (between 0.0 and 1.0) The start offset for the time range as a percentage of the global time range (e.g., <code>0.25</code> for 25%). Must be less than <code>end_offset</code>. <code>0.0</code> (0%) No <code>end_offset</code> <code>float</code> (between 0.0 and 1.0) The end offset for the time range as a percentage of the global time range (e.g., <code>0.75</code> for 75%). Must be greater than <code>start_offset</code>. <code>1.0</code> (100%) No <p>Note on Time Slider Offsets: The YAML configuration expects <code>start_offset</code> and <code>end_offset</code> as float values between 0.0 (0%) and 1.0 (100%). Kibana internally represents these as percentages from 0.0 to 100.0. If not provided, Kibana defaults to <code>0.0</code> for start and <code>100.0</code> for end.</p>"},{"location":"yaml_reference/#match-technique-enum-match_technique","title":"Match Technique Enum (<code>match_technique</code>)","text":"<p>This enum defines the possible search techniques used for filtering options in an <code>OptionsListControl</code>.</p> <ul> <li><code>prefix</code>: (Default) Filters options starting with the input text.</li> <li><code>contains</code>: Filters options containing the input text.</li> <li><code>exact</code>: Filters options matching the input text exactly.</li> </ul>"},{"location":"yaml_reference/#related-documentation_1","title":"Related Documentation","text":"<ul> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#filters-configuration","title":"Filters Configuration","text":"<p>Filters are used to narrow down the data displayed on a dashboard or within individual panels. They are defined as a list of filter objects, typically under the <code>filters</code> key of a <code>dashboard</code> object or a panel that supports filtering.</p>"},{"location":"yaml_reference/#minimal-configuration-examples_1","title":"Minimal Configuration Examples","text":"<p>Exists Filter: Check if the <code>error.message</code> field exists.</p> <pre><code>filters:\n  - exists: \"error.message\"\n</code></pre> <p>Phrase Filter: Find documents where <code>status.keyword</code> is exactly \"active\".</p> <pre><code>filters:\n  - field: \"status.keyword\"\n    equals: \"active\"\n</code></pre> <p>Phrases Filter (using <code>in</code> alias): Find documents where <code>event.category</code> is \"authentication\" OR \"network\".</p> <pre><code>filters:\n  - field: \"event.category\"\n    in: [\"authentication\", \"network\"]\n</code></pre> <p>Range Filter: Find documents where <code>response_time</code> is between 100 (inclusive) and 500 (exclusive).</p> <pre><code>filters:\n  - field: \"response_time\"\n    gte: \"100\" # Values are typically strings, Kibana handles conversion\n    lt: \"500\"\n</code></pre>"},{"location":"yaml_reference/#complex-configuration-example_2","title":"Complex Configuration Example","text":"<p>This example demonstrates a combination of filter types, including logical junctions (<code>and</code>, <code>or</code>) and a modifier (<code>not</code>).</p> <pre><code>filters:\n  - alias: \"Successful Logins from US or CA\"\n    and: # `and_filters` in Pydantic, `and` in YAML\n      - field: \"event.action\"\n        equals: \"user_login\"\n      - field: \"event.outcome\"\n        equals: \"success\"\n      - or: # `or_filters` in Pydantic, `or` in YAML\n          - field: \"source.geo.country_iso_code\"\n            equals: \"US\"\n          - field: \"source.geo.country_iso_code\"\n            equals: \"CA\"\n  - alias: \"Exclude test users\"\n    not: # `not_filter` in Pydantic, `not` in YAML\n      field: \"user.name\"\n      in: [\"test_user_01\", \"qa_bot\"]\n  - exists: \"transaction.id\"\n    disabled: true # This filter is defined but currently disabled\n  - dsl:\n      query_string:\n        query: \"message:(*error* OR *exception*) AND NOT logger_name:debug\"\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_2","title":"Full Configuration Options","text":"<p>All filter types can include the following base fields:</p> YAML Key Data Type Description Kibana Default Required <code>alias</code> <code>string</code> An optional alias for the filter, used for display purposes in Kibana. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"yaml_reference/#exists-filter","title":"Exists Filter","text":"<p>Checks for the existence of a specific field.</p> YAML Key Data Type Description Kibana Default Required <code>exists</code> <code>string</code> The field name to check for existence. N/A Yes <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"yaml_reference/#phrase-filter","title":"Phrase Filter","text":"<p>Matches documents where a specific field contains an exact phrase.</p> YAML Key Data Type Description Kibana Default Required <code>field</code> <code>string</code> The field name to apply the filter to. N/A Yes <code>equals</code> <code>string</code> The exact phrase value that the field must match. N/A Yes <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"yaml_reference/#phrases-filter","title":"Phrases Filter","text":"<p>Matches documents where a specific field contains one or more of the specified phrases.</p> YAML Key Data Type Description Kibana Default Required <code>field</code> <code>string</code> The field name to apply the filter to. N/A Yes <code>in</code> <code>list of strings</code> A list of phrases. Documents must match at least one of these phrases. N/A Yes <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"yaml_reference/#range-filter","title":"Range Filter","text":"<p>Matches documents where a numeric or date field falls within a specified range. At least one of <code>gte</code>, <code>lte</code>, <code>gt</code>, or <code>lt</code> must be provided.</p> YAML Key Data Type Description Kibana Default Required <code>field</code> <code>string</code> The field name to apply the filter to. N/A Yes <code>gte</code> <code>string</code> Greater than or equal to value. <code>None</code> No (but one must exist) <code>lte</code> <code>string</code> Less than or equal to value. <code>None</code> No (but one must exist) <code>gt</code> <code>string</code> Greater than value. <code>None</code> No (but one must exist) <code>lt</code> <code>string</code> Less than value. <code>None</code> No (but one must exist) <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"yaml_reference/#custom-filter","title":"Custom Filter","text":"<p>Allows for defining a custom Elasticsearch Query DSL filter.</p> YAML Key Data Type Description Kibana Default Required <code>dsl</code> <code>object (dict)</code> The custom Elasticsearch query definition. N/A Yes <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"yaml_reference/#negate-filter-not","title":"Negate Filter (<code>not</code>)","text":"<p>Excludes documents that match the nested filter. This filter itself does not have <code>alias</code> or <code>disabled</code> directly; those would apply to the filter it contains or a parent filter.</p> YAML Key Data Type Description Kibana Default Required <code>not</code> <code>FilterTypes</code> The filter object to negate. Can be any of the other filter types or junctions. N/A Yes"},{"location":"yaml_reference/#and-filter-and","title":"And Filter (<code>and</code>)","text":"<p>Matches documents that satisfy ALL of the specified nested filters.</p> YAML Key Data Type Description Kibana Default Required <code>and</code> <code>list of FilterTypes</code> A list of filter objects. All filters must match for a document to be included. N/A Yes <code>alias</code> <code>string</code> An optional alias for the AND group. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the entire AND group is defined but not applied. <code>false</code> No"},{"location":"yaml_reference/#or-filter-or","title":"Or Filter (<code>or</code>)","text":"<p>Matches documents that satisfy AT LEAST ONE of the specified nested filters.</p> YAML Key Data Type Description Kibana Default Required <code>or</code> <code>list of FilterTypes</code> A list of filter objects. At least one filter must match. N/A Yes <code>alias</code> <code>string</code> An optional alias for the OR group. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the entire OR group is defined but not applied. <code>false</code> No"},{"location":"yaml_reference/#related-documentation_2","title":"Related Documentation","text":"<ul> <li>Dashboard Configuration</li> <li>Queries Configuration</li> </ul>"},{"location":"yaml_reference/#base-panel-configuration","title":"Base Panel Configuration","text":"<p>All panel types used within a dashboard (e.g., Markdown, Lens charts, Search panels) share a common set of base configuration fields. These fields define fundamental properties like the panel's title, its position and size on the dashboard grid, and an optional description.</p> <p>When defining a panel in your YAML, you will specify its <code>type</code> (e.g., <code>markdown</code>, <code>lens_metric</code>) and then include these base fields alongside type-specific configurations.</p>"},{"location":"yaml_reference/#minimal-example-illustrating-base-fields-within-a-specific-panel-type","title":"Minimal Example (Illustrating Base Fields within a Specific Panel Type)","text":"<p>This example shows how base panel fields are used within a <code>markdown</code> panel:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: markdown  # Specific panel type\n#   title: \"Status Overview\"\n#   grid:\n#     x: 0\n#     y: 0\n#     w: 6\n#     h: 4\n#   # ... other markdown-specific fields ...\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Example Dashboard\"\n  panels:\n    - type: markdown # This 'type' field is part of the MarkdownPanel model, not BasePanel\n      title: \"Status Overview\"\n      description: \"A quick look at system status.\" # BasePanel field\n      hide_title: false                             # BasePanel field\n      grid:                                         # BasePanel field\n        x: 0\n        y: 0\n        w: 6\n        h: 4\n      # --- MarkdownPanel specific fields would go here ---\n      content: \"System is **operational**.\"\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_3","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#base-panel-fields","title":"Base Panel Fields","text":"<p>These fields are available for all panel types and are inherited from the <code>BasePanel</code> configuration.</p> YAML Key Data Type Description Kibana Default Required <code>id</code> <code>string</code> A unique identifier for the panel. If not provided, one will be generated during compilation. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Can be an empty string if you wish for no visible title. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title (even if defined) will be hidden. <code>false</code> (title is shown) No <code>description</code> <code>string</code> A brief description of the panel's content or purpose. This is often shown on hover or in panel information. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size on the dashboard grid. See Grid Object Configuration. N/A Yes <p>Note on <code>type</code>: The <code>type</code> field (e.g., <code>type: markdown</code>, <code>type: lens_metric</code>) is required for every panel definition in your YAML. However, it is not part of the <code>BasePanel</code> model itself but is a discriminator field defined in each specific panel type's configuration (e.g., <code>MarkdownPanel</code>, <code>LensPanel</code>). It tells the compiler which specific panel configuration to use.</p>"},{"location":"yaml_reference/#grid-object-configuration-grid","title":"Grid Object Configuration (<code>grid</code>)","text":"<p>The <code>grid</code> object is required for every panel and defines its placement and dimensions on the dashboard. The dashboard is typically a 12-column grid, but <code>w</code> and <code>h</code> are unitless and relative to this grid system.</p> YAML Key Data Type Description Kibana Default Required <code>x</code> <code>integer</code> The horizontal starting position of the panel on the grid (0-based index). N/A Yes <code>y</code> <code>integer</code> The vertical starting position of the panel on the grid (0-based index). N/A Yes <code>w</code> <code>integer</code> The width of the panel in grid units. N/A Yes <code>h</code> <code>integer</code> The height of the panel in grid units. N/A Yes <p>Example of <code>grid</code> usage:</p> <pre><code># ...\n# panels:\n#   - type: markdown\n#     title: \"Top Left Panel\"\n#     grid:\n#       x: 0  # Starts at the far left\n#       y: 0  # Starts at the very top\n#       w: 6  # Occupies 6 out of 12 columns (half width)\n#       h: 5  # Height of 5 grid units\n#     content: \"...\"\n#   - type: lens_metric\n#     title: \"Top Right Panel\"\n#     grid:\n#       x: 6  # Starts at the 7th column (0-indexed)\n#       y: 0  # Starts at the very top\n#       w: 6  # Occupies the remaining 6 columns\n#       h: 5  # Same height\n#     # ... lens configuration ...\n</code></pre>"},{"location":"yaml_reference/#panel-types-specific-configurations","title":"Panel Types (Specific Configurations)","text":"<p>The <code>BasePanel</code> fields are common to all panel types. For details on the specific configuration fields available for each panel <code>type</code>, refer to their individual documentation pages:</p> <ul> <li>Markdown Panel</li> <li>Links Panel</li> <li>Search Panel (Documentation to be created/updated)</li> <li>Charts:</li> <li>Lens Panel (for various chart types like bar, line, area, pie, metric, table)</li> <li>ESQL Panel (for ESQL-driven visualizations) (Documentation to be created/updated)</li> <li>(Other chart types like Vega, Timelion, TSVB might be added here if supported)</li> </ul>"},{"location":"yaml_reference/#related-documentation_3","title":"Related Documentation","text":"<ul> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#esql-panel","title":"ESQL Panel","text":"<p>The <code>esql</code> panel is used to display data visualizations based on an ESQL query.</p> <pre><code>- panel:\n    type: esql\n    # Common panel fields (id, title, description, grid, hide_title) also apply\n    query: string         # (Required) The ESQL query string.\n    chart: object         # (Required) The chart configuration for the ESQL panel.\n</code></pre>"},{"location":"yaml_reference/#fields","title":"Fields","text":"<ul> <li><code>type</code> (required, string): Must be <code>esql</code>.</li> <li><code>query</code> (required, string): The ESQL query string that determines the data for the chart.</li> <li><code>chart</code> (required, object): The chart configuration for the ESQL panel. See ESQL Chart Types for details.</li> </ul>"},{"location":"yaml_reference/#esql-chart-types","title":"ESQL Chart Types","text":"<p>ESQL panels can display various chart types based on the results of the ESQL query. The configuration for the chart is defined within the <code>chart</code> object.</p>"},{"location":"yaml_reference/#esql-pie-chart","title":"ESQL Pie Chart","text":"<p>Represents a Pie chart configuration within an ESQL panel. Pie charts are used to visualize the proportion of categories from the ESQL query results.</p> <pre><code>chart:\n  type: pie           # (Required) Must be 'pie'.\n  metric: object      # (Required) The metric that determines the size of the slices.\n  slice_by: list      # (Required) The dimensions that determine the slices.\n  appearance: object  # (Optional) Chart appearance formatting options.\n  titles_and_text: object # (Optional) Titles and text formatting options.\n  legend: object      # (Optional) Legend formatting options.\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>pie</code>.</li> <li><code>metric</code> (required, object): A metric that determines the size of the slice of the pie chart. This should be an ESQL Metric Object referencing a column from the ESQL query results.</li> <li><code>slice_by</code> (required, list of objects): The dimensions that determine the slices of the pie chart. This is a list of ESQL Dimension Objects referencing columns from the ESQL query results.</li> <li><code>appearance</code> (optional, object): Formatting options for the chart appearance, including donut size. See Pie Chart Appearance for details.</li> <li><code>titles_and_text</code> (optional, object): Formatting options for the chart titles and text. See Pie Chart Titles and Text for details.</li> <li><code>legend</code> (optional, object): Formatting options for the chart legend. See Pie Chart Legend for details.</li> </ul>"},{"location":"yaml_reference/#esql-metric-chart","title":"ESQL Metric Chart","text":"<p>Represents a Metric chart configuration within an ESQL panel. Metric charts display a single value or a list of values from the ESQL query results.</p> <pre><code>chart:\n  type: metric        # (Required) Must be 'metric'.\n  primary: object     # (Required) The primary metric to display.\n  secondary: object   # (Optional) An optional secondary metric.\n  maximum: object     # (Optional) An optional maximum metric.\n  breakdown: object   # (Optional) An optional breakdown dimension.\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>metric</code>.</li> <li><code>primary</code> (required, object): The primary metric to display in the chart. This should be an ESQL Metric Object referencing a column from the ESQL query results.</li> <li><code>secondary</code> (optional, object): An optional secondary metric to display alongside the primary metric. This should be an ESQL Metric Object referencing a column from the ESQL query results.</li> <li><code>maximum</code> (optional, object): An optional maximum metric to display, often used for comparison or thresholds. This should be an ESQL Metric Object referencing a column from the ESQL query results.</li> <li><code>breakdown</code> (optional, object): An optional breakdown dimension to display. This should be an ESQL Dimension Object referencing a column from the ESQL query results.</li> </ul>"},{"location":"yaml_reference/#related-documentation_4","title":"Related Documentation","text":"<ul> <li>Base Panel Object</li> <li>Metric Objects</li> <li>Dimension Objects</li> <li>Pie Chart Appearance</li> <li>Pie Chart Titles and Text</li> <li>Pie Chart Legend</li> </ul>"},{"location":"yaml_reference/#esql-panel-configuration","title":"ESQL Panel Configuration","text":"<p>ESQL panels leverage the power of Elasticsearch Query Language (ESQL) to create visualizations. This allows for more complex data transformations and aggregations directly within the query that feeds the chart.</p> <p>The <code>ESQLPanel</code> is the primary container. Its <code>esql</code> field holds the ESQL query, and its <code>chart</code> field defines the specific type of visualization (e.g., <code>metric</code>, <code>pie</code>).</p>"},{"location":"yaml_reference/#minimal-configuration-examples_2","title":"Minimal Configuration Examples","text":"<p>Minimal ESQL Metric Chart:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: charts  # This is the ESQLPanel type (distinguished by `esql` field)\n#   title: \"Total Processed Events\"\n#   grid: { x: 0, y: 0, w: 4, h: 3 }\n#   esql: |\n#     FROM my_event_stream\n#     | STATS total_events = COUNT(event_id)\n#   chart:\n#     type: metric\n#     primary:\n#       field: \"total_events\" # Must match a column name from ESQL query\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"ESQL Metrics Dashboard\"\n  panels:\n    - type: charts\n      title: \"Total Processed Events\"\n      grid: { x: 0, y: 0, w: 4, h: 3 }\n      esql: |\n        FROM my_event_stream\n        | STATS total_events = COUNT(event_id)\n      chart:\n        type: metric # Specifies an ESQLMetricChart\n        primary:\n          field: \"total_events\"\n          # Label can be inferred from field if not provided\n</code></pre> <p>Minimal ESQL Pie Chart:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: charts\n#   title: \"Events by Type (ESQL)\"\n#   grid: { x: 4, y: 0, w: 8, h: 3 }\n#   esql: |\n#     FROM my_event_stream\n#     | STATS event_count = COUNT(event_id) BY event_type\n#     | LIMIT 5\n#   chart:\n#     type: pie\n#     metric:\n#       field: \"event_count\" # Must match a metric column from ESQL\n#     slice_by:\n#       - field: \"event_type\"  # Must match a dimension column from ESQL\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"ESQL Event Analysis\"\n  panels:\n    - type: charts\n      title: \"Events by Type (ESQL)\"\n      grid: { x: 4, y: 0, w: 8, h: 3 }\n      esql: |\n        FROM my_event_stream\n        | STATS event_count = COUNT(event_id) BY event_type\n        | ORDER event_count DESC\n        | LIMIT 5\n      chart:\n        type: pie # Specifies an ESQLPieChart\n        metric:\n          field: \"event_count\"\n        slice_by:\n          - field: \"event_type\"\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_4","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#esql-panel-type-charts-with-an-esql-field","title":"ESQL Panel (<code>type: charts</code> with an <code>esql</code> field)","text":"<p>This is the main object for an ESQL-based visualization. It inherits from the Base Panel Configuration. The presence of the <code>esql</code> field distinguishes it from a Lens panel.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['charts']</code> Specifies the panel type. For ESQL panels, this is <code>charts</code>. <code>charts</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> A brief description of the panel. Inherited from BasePanel. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>esql</code> <code>string</code> or <code>ESQLQuery</code> object The ESQL query string. See Queries Documentation. N/A Yes <code>chart</code> <code>ESQLChartTypes</code> object Defines the actual ESQL visualization configuration. This will be one of ESQL Metric Chart or ESQL Pie Chart. N/A Yes"},{"location":"yaml_reference/#esql-metric-chart-charttype-metric","title":"ESQL Metric Chart (<code>chart.type: metric</code>)","text":"<p>Displays a single primary metric derived from an ESQL query, optionally with a secondary metric, a maximum value, and a breakdown dimension. The <code>field</code> names in the chart configuration must correspond to column names produced by the ESQL query.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['metric']</code> Specifies the chart type as an ESQL Metric visualization. <code>metric</code> Yes <code>id</code> <code>string</code> An optional unique identifier for this specific chart layer. Generated ID No <code>primary</code> <code>ESQLMetric</code> object The primary metric to display. Its <code>field</code> refers to an ESQL result column. See ESQL Metric Column. N/A Yes <code>secondary</code> <code>ESQLMetric</code> object An optional secondary metric. Its <code>field</code> refers to an ESQL result column. See ESQL Metric Column. <code>None</code> No <code>maximum</code> <code>ESQLMetric</code> object An optional maximum metric. Its <code>field</code> refers to an ESQL result column. See ESQL Metric Column. <code>None</code> No <code>breakdown</code> <code>ESQLDimension</code> object An optional dimension to break down the metric by. Its <code>field</code> refers to an ESQL result column. See ESQL Dimension Column. <code>None</code> No <p>Example (ESQL Metric Chart):</p> <pre><code># Within an ESQLPanel's 'chart' field:\n# type: metric\n# primary:\n#   field: \"avg_response_time\" # Column from ESQL: ... | STATS avg_response_time = AVG(response.time)\n# secondary:\n#   field: \"p95_response_time\" # Column from ESQL: ... | STATS p95_response_time = PERCENTILE(response.time, 95.0)\n# breakdown:\n#   field: \"service_name\"      # Column from ESQL: ... BY service_name\n</code></pre>"},{"location":"yaml_reference/#esql-pie-chart-charttype-pie","title":"ESQL Pie Chart (<code>chart.type: pie</code>)","text":"<p>Visualizes proportions of categories using slices of a pie or a donut chart, with data sourced from an ESQL query. The <code>field</code> names in the chart configuration must correspond to column names produced by the ESQL query.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['pie']</code> Specifies the chart type as an ESQL Pie visualization. <code>pie</code> Yes <code>id</code> <code>string</code> An optional unique identifier for this specific chart layer. Generated ID No <code>metric</code> <code>ESQLMetric</code> object The metric that determines the size of each slice. Its <code>field</code> refers to an ESQL result column. See ESQL Metric Column. N/A Yes <code>slice_by</code> <code>list of ESQLDimension</code> objects One or more dimensions that determine how the pie is sliced. Each <code>field</code> refers to an ESQL result column. See ESQL Dimension Column. N/A Yes <code>appearance</code> <code>PieChartAppearance</code> object Formatting options for the chart appearance. See Pie Chart Appearance (shared with Lens). <code>None</code> No <code>titles_and_text</code> <code>PieTitlesAndText</code> object Formatting options for slice labels and values. See Pie Titles and Text (shared with Lens). <code>None</code> No <code>legend</code> <code>PieLegend</code> object Formatting options for the chart legend. See Pie Legend (shared with Lens). <code>None</code> No <code>color</code> <code>ColorMapping</code> object Formatting options for the chart color palette. See Color Mapping (shared with Lens). <code>None</code> No <p>Example (ESQL Pie Chart):</p> <pre><code># Within an ESQLPanel's 'chart' field:\n# type: pie\n# metric:\n#   field: \"error_count\"  # Column from ESQL: ... | STATS error_count = COUNT(error.code) BY error.type\n# slice_by:\n#   - field: \"error_type\" # Column from ESQL\n# appearance:\n#   donut: \"small\"\n</code></pre>"},{"location":"yaml_reference/#esql-columns","title":"ESQL Columns","text":"<p>For ESQL panels, the <code>primary</code>, <code>secondary</code>, <code>maximum</code> (in metric charts) and <code>metric</code>, <code>slice_by</code> (in pie charts) fields refer to columns that must be present in the output of your ESQL query.</p>"},{"location":"yaml_reference/#esql-metric-column","title":"ESQL Metric Column","text":"<p>Used to specify a metric column from your ESQL query result.</p> YAML Key Data Type Description Kibana Default Required <code>id</code> <code>string</code> An optional unique identifier for this metric column definition. Generated ID No <code>field</code> <code>string</code> The name of the column in your ESQL query result that represents the metric value. N/A Yes"},{"location":"yaml_reference/#esql-dimension-column","title":"ESQL Dimension Column","text":"<p>Used to specify a dimension/grouping column from your ESQL query result.</p> YAML Key Data Type Description Kibana Default Required <code>id</code> <code>string</code> An optional unique identifier for this dimension column definition. Generated ID No <code>field</code> <code>string</code> The name of the column in your ESQL query result that represents the dimension. N/A Yes"},{"location":"yaml_reference/#pie-chart-specific-formatting-shared-with-lens","title":"Pie Chart Specific Formatting (Shared with Lens)","text":"<p>ESQL Pie Charts share the same formatting options for appearance, titles/text, legend, and colors as Lens Pie Charts.</p>"},{"location":"yaml_reference/#pie-chart-appearance-formatting-appearance-field","title":"Pie Chart Appearance Formatting (<code>appearance</code> field)","text":"YAML Key Data Type Description Kibana Default Required <code>donut</code> <code>Literal['small', 'medium', 'large']</code> If set, creates a donut chart with the specified hole size. <code>None</code> (pie) No"},{"location":"yaml_reference/#pie-titles-and-text-formatting-titles_and_text-field","title":"Pie Titles and Text Formatting (<code>titles_and_text</code> field)","text":"YAML Key Data Type Description Kibana Default Required <code>slice_labels</code> <code>Literal['hide', 'inside', 'auto']</code> How to display labels for each slice. <code>auto</code> No <code>slice_values</code> <code>Literal['hide', 'integer', 'percent']</code> How to display the value for each slice. <code>percent</code> No <code>value_decimal_places</code> <code>integer</code> (0-10) Number of decimal places for slice values. <code>2</code> No"},{"location":"yaml_reference/#pie-legend-formatting-legend-field","title":"Pie Legend Formatting (<code>legend</code> field)","text":"YAML Key Data Type Description Kibana Default Required <code>visible</code> <code>Literal['show', 'hide', 'auto']</code> Controls legend visibility. <code>auto</code> No <code>width</code> <code>Literal['small', 'medium', 'large', 'extra_large']</code> Width of the legend area. <code>medium</code> No <code>truncate_labels</code> <code>integer</code> (0-5) Max number of lines for legend labels before truncating. <code>0</code> disables truncation. <code>1</code> No"},{"location":"yaml_reference/#color-mapping-formatting-color-field","title":"Color Mapping Formatting (<code>color</code> field)","text":"YAML Key Data Type Description Kibana Default Required <code>palette</code> <code>string</code> The ID of the color palette to use (e.g., <code>default</code>, <code>elasticColors</code>). <code>default</code> Yes"},{"location":"yaml_reference/#related-documentation_5","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> <li>Queries Configuration</li> <li>Elasticsearch ESQL Reference (external)</li> </ul>"},{"location":"yaml_reference/#lens-panel","title":"Lens Panel","text":"<p>The <code>lens</code> panel is used to display data visualizations created with Kibana Lens.</p> <pre><code>- panel:\n    type: lens\n    # Common panel fields (id, title, description, grid, hide_title) also apply\n    chart: object         # (Required) The chart configuration for the Lens panel.\n</code></pre>"},{"location":"yaml_reference/#fields_1","title":"Fields","text":"<ul> <li><code>type</code> (required, string): Must be <code>lens</code>.</li> <li><code>chart</code> (required, object): The chart configuration for the Lens panel. See Lens Chart Types for details.</li> </ul>"},{"location":"yaml_reference/#lens-chart-types","title":"Lens Chart Types","text":"<p>Lens panels can display various chart types. The configuration for the chart is defined within the <code>chart</code> object.</p>"},{"location":"yaml_reference/#lens-pie-chart","title":"Lens Pie Chart","text":"<p>Represents a Pie chart configuration within a Lens panel. Pie charts are used to visualize the proportion of categories.</p> <pre><code>chart:\n  type: pie           # (Required) Must be 'pie'.\n  metric: object      # (Required) The metric that determines the size of the slices.\n  slice_by: list      # (Required) The dimensions that determine the slices.\n  appearance: object  # (Optional) Chart appearance formatting options.\n  titles_and_text: object # (Optional) Titles and text formatting options.\n  legend: object      # (Optional) Legend formatting options.\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>pie</code>.</li> <li><code>metric</code> (required, object): A metric that determines the size of the slice of the pie chart. See Metric Objects for details on Lens metric types.</li> <li><code>slice_by</code> (required, list of objects): The dimensions that determine the slices of the pie chart. This is a list of Lens dimension objects. See Dimension Objects for details on Lens dimension types.</li> <li><code>appearance</code> (optional, object): Formatting options for the chart appearance, including donut size. See Pie Chart Appearance for details.</li> <li><code>titles_and_text</code> (optional, object): Formatting options for the chart titles and text. See Pie Chart Titles and Text for details.</li> <li><code>legend</code> (optional, object): Formatting options for the chart legend. See Pie Chart Legend for details.</li> </ul>"},{"location":"yaml_reference/#lens-metric-chart","title":"Lens Metric Chart","text":"<p>Represents a Metric chart configuration within a Lens panel. Metric charts display a single value or a list of values, often representing key performance indicators.</p> <pre><code>chart:\n  type: metric        # (Required) Must be 'metric'.\n  primary: object     # (Required) The primary metric to display.\n  secondary: object   # (Optional) An optional secondary metric.\n  maximum: object     # (Optional) An optional maximum metric.\n  breakdown: object   # (Optional) An optional breakdown dimension.\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>metric</code>.</li> <li><code>primary</code> (required, object): The primary metric to display in the chart. This is the main value shown in the metric visualization. See Metric Objects for details on Lens metric types.</li> <li><code>secondary</code> (optional, object): An optional secondary metric to display alongside the primary metric. See Metric Objects for details on Lens metric types.</li> <li><code>maximum</code> (optional, object): An optional maximum metric to display, often used for comparison or thresholds. See Metric Objects for details on Lens metric types.</li> <li><code>breakdown</code> (optional, object): An optional breakdown dimension to display. See Dimension Objects for details on Lens dimension types.</li> </ul>"},{"location":"yaml_reference/#pie-chart-appearance","title":"Pie Chart Appearance","text":"<p>Represents chart appearance formatting options for pie charts.</p> <pre><code>appearance:\n  donut: string       # (Optional) The size of the donut hole (small, medium, large).\n</code></pre> <ul> <li><code>donut</code> (optional, string): The size of the donut hole in the pie chart. Options are <code>small</code>, <code>medium</code>, or <code>large</code>.</li> </ul>"},{"location":"yaml_reference/#pie-chart-titles-and-text","title":"Pie Chart Titles and Text","text":"<p>Represents titles and text formatting options for pie charts.</p> <pre><code>titles_and_text:\n  slice_labels: string # (Optional) Controls slice label visibility (hide, show, auto). Defaults to \"auto\".\n  slice_values: string # (Optional) Controls slice value display (hide, integer, percent). Defaults to \"percent\".\n  value_decimal_places: integer # (Optional) Number of decimal places for slice values (0-10). Defaults to 2.\n</code></pre> <ul> <li><code>slice_labels</code> (optional, string): Controls the visibility of slice labels in the pie chart. Valid values are <code>hide</code>, <code>show</code>, or <code>auto</code>. Kibana defaults to <code>auto</code> if not specified.</li> <li><code>slice_values</code> (optional, string): Controls the display of slice values in the pie chart. Valid values are <code>hide</code>, <code>integer</code>, or <code>percent</code>. Kibana defaults to <code>percentage</code> if not specified.</li> <li><code>value_decimal_places</code> (optional, integer): Controls the number of decimal places for slice values in the pie chart. Value should be between 0 and 10. Kibana defaults to 2, if not specified.</li> </ul>"},{"location":"yaml_reference/#pie-chart-legend","title":"Pie Chart Legend","text":"<p>Represents legend formatting options for pie charts.</p> <pre><code>legend:\n  visible: string     # (Optional) Visibility of the legend (show, hide, auto). Defaults to \"auto\".\n  width: string       # (Optional) Width of the legend (small, medium, large, extra_large). Defaults to \"medium\".\n  truncate_labels: integer # (Optional) Number of lines to truncate labels (0-5). Defaults to 1.\n</code></pre> <ul> <li><code>visible</code> (optional, string): Visibility of the legend in the pie chart. Valid values are <code>show</code>, <code>hide</code>, or <code>auto</code>. Kibana defaults to <code>auto</code> if not specified.</li> <li><code>width</code> (optional, string): Width of the legend in the pie chart. Valid values are <code>small</code>, <code>medium</code>, <code>large</code>, or <code>extra_large</code>. Kibana defaults to <code>medium</code> if not specified.</li> <li><code>truncate_labels</code> (optional, integer): Number of lines to truncate the legend labels to. Value should be between 0 and 5. Kibana defaults to 1 if not specified. Set to 0 to disable truncation.</li> </ul>"},{"location":"yaml_reference/#related-documentation_6","title":"Related Documentation","text":"<ul> <li>Base Panel Object</li> <li>Metric Objects</li> <li>Dimension Objects</li> </ul>"},{"location":"yaml_reference/#dimension-objects","title":"Dimension Objects","text":"<p>Dimension objects are used within chart panels (Lens and ESQL) to define how data is grouped or categorized, often corresponding to an axis or a breakdown.</p>"},{"location":"yaml_reference/#base-dimension-fields","title":"Base Dimension Fields","text":"<p>All dimension types inherit from a base dimension with the following optional field:</p> <ul> <li><code>id</code> (optional, string): A unique identifier for the dimension. If not provided, one may be generated during compilation.</li> </ul>"},{"location":"yaml_reference/#lens-dimension-types","title":"Lens Dimension Types","text":"<p>Lens charts use the following dimension types:</p>"},{"location":"yaml_reference/#base-lens-dimension-fields","title":"Base Lens Dimension Fields","text":"<p>All Lens dimension types inherit from a base Lens dimension with the following optional fields:</p> <ul> <li><code>label</code> (optional, string): The display label for the dimension. If not provided, a label may be inferred from the field and type.</li> </ul>"},{"location":"yaml_reference/#lens-top-values-dimension","title":"Lens Top Values Dimension","text":"<p>Represents a top values dimension configuration within a Lens chart. Top values dimensions are used for aggregating data based on unique values of a field.</p> <pre><code>- type: values        # (Required) Must be 'values'.\n  field: string       # (Required) The name of the field to use for the dimension.\n  size: integer       # (Optional) The number of top terms to display.\n  sort: object        # (Optional) Sort configuration. See [Sort Object](../shared/config.md#sort-object) for details.\n  other_bucket: boolean # (Optional) If true, show a bucket for terms not included in the top size. Defaults to false.\n  missing_bucket: boolean # (Optional) If true, show a bucket for documents with a missing value. Defaults to false.\n  include: list       # (Optional) A list of terms to include.\n  exclude: list       # (Optional) A list of terms to exclude.\n  include_is_regex: boolean # (Optional) If true, treat include values as regex. Defaults to false.\n  exclude_is_regex: boolean # (Optional) If true, treat exclude values as regex. Defaults to false.\n  # Base Lens Dimension fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>values</code>.</li> <li><code>field</code> (required, string): The name of the field in the data view that this dimension is based on.</li> <li><code>size</code> (optional, integer): The number of top terms to display.</li> <li><code>sort</code> (optional, object): Defines how the terms are sorted. See Sort Object.</li> <li><code>other_bucket</code> (optional, boolean): If <code>true</code>, a bucket for all other terms not included in the top <code>size</code> will be shown. Defaults to <code>false</code>.</li> <li><code>missing_bucket</code> (optional, boolean): If <code>true</code>, a bucket for documents with a missing value for the field will be shown. Defaults to <code>false</code>.</li> <li><code>include</code> (optional, list of strings): A list of term values or regex patterns to include.</li> <li><code>exclude</code> (optional, list of strings): A list of term values or regex patterns to exclude.</li> <li><code>include_is_regex</code> (optional, boolean): If <code>true</code>, the values in the <code>include</code> list will be treated as regular expressions. Defaults to <code>false</code>.</li> <li><code>exclude_is_regex</code> (optional, boolean): If <code>true</code>, the values in the <code>exclude</code> list will be treated as regular expressions. Defaults to <code>false</code>.</li> <li> <p>Example:</p> <pre><code>- type: values\n  field: user.country\n  label: Users by Country\n  size: 5\n  sort:\n    by: \"_count\"\n    direction: desc\n  other_bucket: true\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-date-histogram-dimension","title":"Lens Date Histogram Dimension","text":"<p>Represents a date histogram dimension configuration within a Lens chart. Date histogram dimensions are used for aggregating data into buckets based on time intervals.</p> <pre><code>- type: date_histogram # (Required) Must be 'date_histogram'.\n  field: string       # (Required) The name of the field to use for the dimension.\n  minimum_interval: string # (Optional) The minimum time interval for the buckets (e.g., 'auto', '1h', '1d'). Defaults to 'auto'.\n  partial_intervals: boolean # (Optional) If true, show partial intervals. Defaults to true.\n  collapse: string    # (Optional) The aggregation to use for collapsing intervals. See [Collapse Aggregation Enum](#collapse-aggregation-enum) for details.\n  # Base Lens Dimension fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>date_histogram</code>.</li> <li><code>field</code> (required, string): The name of the field in the data view that this dimension is based on.</li> <li><code>minimum_interval</code> (optional, string): The minimum time interval for the histogram buckets. Defaults to <code>auto</code> if not specified.</li> <li><code>partial_intervals</code> (optional, boolean): If <code>true</code>, show partial intervals. Kibana defaults to <code>true</code> if not specified.</li> <li><code>collapse</code> (optional, string): The aggregation to use for the dimension when intervals are collapsed. See Collapse Aggregation Enum.</li> <li> <p>Example:</p> <pre><code>- type: date_histogram\n  field: \"@timestamp\"\n  label: Events over Time\n  minimum_interval: 1d\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-filters-dimension","title":"Lens Filters Dimension","text":"<p>Represents a filters dimension configuration within a Lens chart. Filters dimensions are used for filtering data based on a set of defined filters.</p> <pre><code>- type: filters       # (Required) Must be 'filters'.\n  filters: list       # (Required) A list of filters to use for the dimension.\n  # Base Lens Dimension fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>filters</code>.</li> <li><code>filters</code> (required, list of objects): A list of filter objects. Each object should have a <code>query</code> (see Queries Documentation) and an optional <code>label</code> (string).</li> <li> <p>Example:</p> <pre><code>- type: filters\n  label: Response Status\n  filters:\n    - query:\n        kql: \"http.response.status_code &gt;= 200 and http.response.status_code &lt; 300\"\n      label: Success\n    - query:\n        kql: \"http.response.status_code &gt;= 400 and http.response.status_code &lt; 500\"\n      label: Client Error\n    - query:\n        kql: \"http.response.status_code &gt;= 500\"\n      label: Server Error\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-intervals-dimension","title":"Lens Intervals Dimension","text":"<p>Represents an intervals dimension configuration within a Lens chart. Intervals dimensions are used for aggregating data based on numeric ranges.</p> <pre><code>- type: intervals     # (Required) Must be 'intervals'.\n  field: string       # (Required) The name of the field to use for the dimension.\n  intervals: list     # (Optional) A list of interval objects.\n  granularity: integer # (Optional) Interval granularity (1-7). Defaults to 4.\n  collapse: string    # (Optional) The aggregation to use for collapsing intervals. See [Collapse Aggregation Enum](#collapse-aggregation-enum) for details.\n  empty_bucket: boolean # (Optional) If true, show a bucket for documents with a missing value. Defaults to false.\n  # Base Lens Dimension fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>intervals</code>.</li> <li><code>field</code> (required, string): The name of the field in the data view that this dimension is based on.</li> <li><code>intervals</code> (optional, list of objects): A list of interval objects. Each object should have optional <code>from</code> (integer) and <code>to</code> (integer) values and an optional <code>label</code> (string). If not provided, intervals will be automatically picked.</li> <li><code>granularity</code> (optional, integer): Interval granularity divides the field into evenly spaced intervals based on the minimum and maximum values for the field. Kibana defaults to 4 if not specified. Value should be between 1 and 7.</li> <li><code>collapse</code> (optional, string): The aggregation to use for the dimension when intervals are collapsed. See Collapse Aggregation Enum.</li> <li><code>empty_bucket</code> (optional, boolean): If <code>true</code>, show a bucket for documents with a missing value for the field. Defaults to <code>false</code>.</li> <li> <p>Example:</p> <pre><code>- type: intervals\n  field: response_time\n  label: Response Time Intervals\n  intervals:\n    - to: 100\n      label: \"&lt; 100ms\"\n    - from: 100\n      to: 500\n      label: \"100ms - 500ms\"\n    - from: 500\n      label: \"&gt; 500ms\"\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#esql-dimension-type","title":"ESQL Dimension Type","text":"<p>ESQL charts use a single dimension type defined by the ESQL query.</p>"},{"location":"yaml_reference/#esql-dimension","title":"ESQL Dimension","text":"<p>A dimension that is defined in the ESQL query.</p> <pre><code>- field: string       # (Required) The field in the data view that this dimension is based on.\n  # Base Dimension fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>field</code> (required, string): The field in the data view that this dimension is based on. This field should correspond to a column returned by the ESQL query.</li> <li> <p>Example:</p> <pre><code>- field: country\n  label: Country from ESQL\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#collapse-aggregation-enum","title":"Collapse Aggregation Enum","text":"<p>This enum defines the possible aggregation types to use when collapsing intervals in Lens Date Histogram and Intervals dimensions.</p> <ul> <li><code>SUM</code></li> <li><code>MIN</code></li> <li><code>MAX</code></li> <li><code>AVG</code></li> </ul>"},{"location":"yaml_reference/#related-structures","title":"Related Structures","text":"<ul> <li>Sort Object</li> <li>Queries Documentation</li> </ul>"},{"location":"yaml_reference/#lens-panel-configuration","title":"Lens Panel Configuration","text":"<p>Lens panels in Kibana provide a flexible and user-friendly way to create various types of visualizations, such as metric displays, pie charts, bar charts, line charts, and more. This document covers the YAML configuration for Lens panels using this compiler.</p> <p>The <code>LensPanel</code> is the primary container. Its <code>chart</code> field will define the specific type of visualization (e.g., <code>metric</code>, <code>pie</code>).</p>"},{"location":"yaml_reference/#minimal-configuration-examples_3","title":"Minimal Configuration Examples","text":"<p>Minimal Lens Metric Chart:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: charts  # This is the LensPanel type\n#   title: \"Total Users\"\n#   grid: { x: 0, y: 0, w: 4, h: 3 }\n#   chart:\n#     type: metric\n#     primary:\n#       aggregation: \"unique_count\"\n#       field: \"user.id\" # Field for unique count\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Key Metrics Dashboard\"\n  panels:\n    - type: charts\n      title: \"Total Users\"\n      grid: { x: 0, y: 0, w: 4, h: 3 }\n      query: # Optional panel-specific query\n        kql: \"event.dataset:website.visits\"\n      chart:\n        type: metric # Specifies a LensMetricChart\n        primary:\n          aggregation: \"unique_count\"\n          field: \"user.id\"\n          label: \"Unique Visitors\"\n</code></pre> <p>Minimal Lens Pie Chart:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: charts\n#   title: \"Traffic by Source\"\n#   grid: { x: 4, y: 0, w: 8, h: 3 }\n#   chart:\n#     type: pie\n#     data_view: \"your-data-view-id\" # Required for pie chart\n#     metric:\n#       aggregation: \"count\" # Count of documents for slice size\n#     slice_by:\n#       - type: values\n#         field: \"source.medium\" # Field to create slices from\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Traffic Analysis\"\n  panels:\n    - type: charts\n      title: \"Traffic by Source\"\n      grid: { x: 4, y: 0, w: 8, h: 3 }\n      chart:\n        type: pie # Specifies a LensPieChart\n        data_view: \"weblogs-*\"\n        metric:\n          aggregation: \"count\"\n          label: \"Sessions\"\n        slice_by:\n          - type: values\n            field: \"source.medium\"\n            label: \"Traffic Source\"\n            size: 5 # Top 5 sources\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_5","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#lens-panel-type-charts","title":"Lens Panel (<code>type: charts</code>)","text":"<p>This is the main object for a Lens-based visualization. It inherits from the Base Panel Configuration.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['charts']</code> Specifies the panel type as a Lens panel. <code>charts</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> A brief description of the panel. Inherited from BasePanel. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>query</code> <code>LegacyQueryTypes</code> object (KQL or Lucene) A panel-specific query to filter data for this Lens visualization. See Queries Documentation. <code>None</code> (uses dashboard query) No <code>filters</code> <code>list of FilterTypes</code> A list of panel-specific filters. See Filters Documentation. <code>[]</code> (empty list) No <code>chart</code> <code>LensChartTypes</code> object Defines the actual Lens visualization configuration. This will be one of Lens Metric Chart or Lens Pie Chart. N/A Yes <code>layers</code> <code>list of MultiLayerChartTypes</code> For multi-layer charts (e.g., multiple pie charts on one panel). Currently, only <code>LensPieChart</code> is supported as a multi-layer type. <code>None</code> No <p>Note on <code>layers</code> vs <code>chart</code>:</p> <ul> <li>Use the <code>chart</code> field for single-layer visualizations (most common use case, e.g., one metric display, one pie chart).</li> <li>Use the <code>layers</code> field if you need to define multiple, distinct visualizations within the same Lens panel (e.g., overlaying different chart types or configurations). If <code>layers</code> is used, the <code>chart</code> field should not be.</li> </ul>"},{"location":"yaml_reference/#lens-metric-chart-charttype-metric","title":"Lens Metric Chart (<code>chart.type: metric</code>)","text":"<p>Displays a single primary metric, optionally with a secondary metric, a maximum value, and a breakdown dimension.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['metric']</code> Specifies the chart type as a Lens Metric visualization. <code>metric</code> Yes <code>id</code> <code>string</code> An optional unique identifier for this specific chart layer. Generated ID No <code>primary</code> <code>LensMetricTypes</code> object The primary metric to display. This is the main value shown. See Lens Metrics. N/A Yes <code>secondary</code> <code>LensMetricTypes</code> object An optional secondary metric to display alongside the primary. See Lens Metrics. <code>None</code> No <code>maximum</code> <code>LensMetricTypes</code> object An optional maximum metric, often used for context (e.g., showing a value out of a total). See Lens Metrics. <code>None</code> No <code>breakdown</code> <code>LensDimensionTypes</code> object An optional dimension to break down the metric by (e.g., showing primary metric per country). See Lens Dimensions. <code>None</code> No <p>Example (Lens Metric Chart):</p> <pre><code># Within a LensPanel's 'chart' field:\n# type: metric\n# primary:\n#   aggregation: \"sum\"\n#   field: \"bytes_transferred\"\n#   label: \"Total Data\"\n#   format: { type: \"bytes\" }\n# secondary:\n#   aggregation: \"average\"\n#   field: \"response_time_ms\"\n#   label: \"Avg Response\"\n#   format: { type: \"duration\", suffix: \" ms\" }\n# breakdown:\n#   type: values\n#   field: \"host.name\"\n#   size: 3\n#   label: \"Top Hosts\"\n</code></pre>"},{"location":"yaml_reference/#lens-pie-chart-charttype-pie","title":"Lens Pie Chart (<code>chart.type: pie</code>)","text":"<p>Visualizes proportions of categories using slices of a pie or a donut chart.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['pie']</code> Specifies the chart type as a Lens Pie visualization. <code>pie</code> Yes <code>id</code> <code>string</code> An optional unique identifier for this specific chart layer. Generated ID No <code>data_view</code> <code>string</code> The ID or title of the data view (index pattern) for this pie chart. N/A Yes <code>metric</code> <code>LensMetricTypes</code> object The metric that determines the size of each slice. See Lens Metrics. N/A Yes <code>slice_by</code> <code>list of LensDimensionTypes</code> objects One or more dimensions that determine how the pie is sliced. See Lens Dimensions. N/A Yes <code>appearance</code> <code>PieChartAppearance</code> object Formatting options for the chart appearance. See Pie Chart Appearance. <code>None</code> No <code>titles_and_text</code> <code>PieTitlesAndText</code> object Formatting options for slice labels and values. See Pie Titles and Text. <code>None</code> No <code>legend</code> <code>PieLegend</code> object Formatting options for the chart legend. See Pie Legend. <code>None</code> No <code>color</code> <code>ColorMapping</code> object Formatting options for the chart color palette. See Color Mapping. <code>None</code> No <p>Example (Lens Pie Chart):</p> <pre><code># Within a LensPanel's 'chart' field:\n# type: pie\n# data_view: \"ecommerce-orders\"\n# metric:\n#   aggregation: \"sum\"\n#   field: \"order_value\"\n#   label: \"Total Order Value\"\n# slice_by:\n#   - type: values\n#     field: \"product.category\"\n#     size: 5\n#     label: \"Product Category\"\n# appearance:\n#   donut: \"medium\"\n# legend:\n#   visible: \"show\"\n#   width: \"large\"\n# titles_and_text:\n#   slice_labels: \"inside\"\n#   slice_values: \"percent\"\n</code></pre>"},{"location":"yaml_reference/#lens-dimensions-breakdown-for-metric-slice_by-for-pie","title":"Lens Dimensions (<code>breakdown</code> for Metric, <code>slice_by</code> for Pie)","text":"<p>Dimensions define how data is grouped or bucketed in Lens visualizations.</p>"},{"location":"yaml_reference/#common-dimension-fields-baselensdimension","title":"Common Dimension Fields (<code>BaseLensDimension</code>)","text":"<p>All specific dimension types below can include:</p> YAML Key Data Type Description Kibana Default Required <code>id</code> <code>string</code> An optional unique identifier for the dimension. Generated ID No <code>label</code> <code>string</code> A custom display label for the dimension. If not provided, a label is inferred. Inferred No"},{"location":"yaml_reference/#top-values-dimension-type-values","title":"Top Values Dimension (<code>type: values</code>)","text":"<p>Groups data by the most frequent unique values of a field.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['values']</code> Specifies the dimension type. <code>values</code> Yes <code>field</code> <code>string</code> The field to get top values from. N/A Yes <code>size</code> <code>integer</code> The number of top values to display. <code>3</code> No <code>sort</code> <code>Sort</code> object How to sort the terms. <code>by</code> can be a metric label or <code>_term</code> (alphabetical). <code>direction</code> is <code>asc</code> or <code>desc</code>. Sort by metric, <code>desc</code> No <code>other_bucket</code> <code>boolean</code> If <code>true</code>, groups remaining values into an \"Other\" bucket. <code>true</code> No <code>missing_bucket</code> <code>boolean</code> If <code>true</code>, creates a bucket for documents where the field is missing. <code>false</code> No <code>include</code> <code>list of strings</code> A list of specific terms to include. <code>None</code> No <code>exclude</code> <code>list of strings</code> A list of specific terms to exclude. <code>None</code> No <code>include_is_regex</code> <code>boolean</code> If <code>true</code>, treats <code>include</code> values as regex patterns. <code>false</code> No <code>exclude_is_regex</code> <code>boolean</code> If <code>true</code>, treats <code>exclude</code> values as regex patterns. <code>false</code> No"},{"location":"yaml_reference/#date-histogram-dimension-type-date_histogram","title":"Date Histogram Dimension (<code>type: date_histogram</code>)","text":"<p>Groups data into time-based buckets (e.g., per hour, day).</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['date_histogram']</code> Specifies the dimension type. <code>date_histogram</code> Yes <code>field</code> <code>string</code> The date field to use for the histogram. N/A Yes <code>minimum_interval</code> <code>string</code> The time interval (e.g., <code>auto</code>, <code>1h</code>, <code>1d</code>, <code>1w</code>). <code>auto</code> No <code>partial_intervals</code> <code>boolean</code> If <code>true</code>, includes buckets for time periods that are only partially covered by the data. <code>true</code> No <code>collapse</code> <code>CollapseAggregationEnum</code> For stacked charts, how to aggregate values within the same time bucket if multiple series exist. (<code>sum</code>, <code>min</code>, <code>max</code>, <code>avg</code>) <code>None</code> No"},{"location":"yaml_reference/#filters-dimension-type-filters","title":"Filters Dimension (<code>type: filters</code>)","text":"<p>Creates buckets based on a list of custom KQL/Lucene queries.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['filters']</code> Specifies the dimension type. <code>filters</code> Yes <code>filters</code> <code>list of LensFiltersDimensionFilter</code> objects A list of filter definitions. Each filter object has <code>query</code> (KQL/Lucene) and an optional <code>label</code>. N/A Yes <p><code>LensFiltersDimensionFilter</code> Object:</p> YAML Key Data Type Description Kibana Default Required <code>query</code> <code>LegacyQueryTypes</code> object The KQL or Lucene query for this filter bucket. N/A Yes <code>label</code> <code>string</code> A display label for this filter bucket. Query string No"},{"location":"yaml_reference/#intervals-dimension-type-intervals","title":"Intervals Dimension (<code>type: intervals</code>)","text":"<p>Groups data into numeric ranges (buckets).</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['intervals']</code> Specifies the dimension type. <code>intervals</code> Yes <code>field</code> <code>string</code> The numeric field to create intervals from. N/A Yes <code>intervals</code> <code>list of LensIntervalsDimensionInterval</code> objects A list of custom interval ranges. If not provided, <code>granularity</code> is used. <code>None</code> No <code>granularity</code> <code>integer</code> (1-7) Divides the field into evenly spaced intervals. 1 is coarsest, 7 is finest. <code>4</code> No <code>collapse</code> <code>CollapseAggregationEnum</code> For stacked charts, how to aggregate values within the same interval if multiple series exist. (<code>sum</code>, <code>min</code>, <code>max</code>, <code>avg</code>) <code>None</code> No <code>empty_bucket</code> <code>boolean</code> If <code>true</code>, shows a bucket for documents with missing values for the field. <code>false</code> No <p><code>LensIntervalsDimensionInterval</code> Object:</p> YAML Key Data Type Description Kibana Default Required <code>from</code> <code>integer</code> The start of the interval (inclusive). <code>None</code> No <code>to</code> <code>integer</code> The end of the interval (exclusive). <code>None</code> No <code>label</code> <code>string</code> A display label for this interval bucket. Auto-generated No"},{"location":"yaml_reference/#lens-metrics-primary-secondary-maximum-for-metric-metric-for-pie","title":"Lens Metrics (<code>primary</code>, <code>secondary</code>, <code>maximum</code> for Metric; <code>metric</code> for Pie)","text":"<p>Metrics define the calculations performed on your data (e.g., count, sum, average).</p>"},{"location":"yaml_reference/#common-metric-fields-baselensmetric","title":"Common Metric Fields (<code>BaseLensMetric</code>)","text":"<p>All specific metric types below can include:</p> YAML Key Data Type Description Kibana Default Required <code>id</code> <code>string</code> An optional unique identifier for the metric. Generated ID No <code>label</code> <code>string</code> A custom display label for the metric. If not provided, a label is inferred. Inferred No <code>format</code> <code>LensMetricFormatTypes</code> object How to format the metric's value (e.g., number, bytes, percent). See Metric Formatting. Default for type No <code>filter</code> <code>LegacyQueryTypes</code> object A KQL or Lucene query to filter data before this metric is calculated. <code>None</code> No"},{"location":"yaml_reference/#aggregated-metric-types","title":"Aggregated Metric Types","text":"<p>These metrics perform an aggregation on a field.</p> <p>Count / Unique Count (<code>aggregation: count</code> or <code>aggregation: unique_count</code>)</p> YAML Key Data Type Description Kibana Default Required <code>aggregation</code> <code>Literal['count', 'unique_count']</code> Type of count. N/A Yes <code>field</code> <code>string</code> For <code>unique_count</code>, the field whose unique values are counted. For <code>count</code>, optional (counts all documents if <code>None</code>). <code>None</code> for <code>count</code> No (Yes for <code>unique_count</code>) <code>exclude_zeros</code> <code>boolean</code> If <code>true</code>, zero values are excluded from the aggregation. <code>true</code> No <p>Sum (<code>aggregation: sum</code>)</p> YAML Key Data Type Description Kibana Default Required <code>aggregation</code> <code>Literal['sum']</code> Specifies sum aggregation. <code>sum</code> Yes <code>field</code> <code>string</code> The numeric field to sum. N/A Yes <code>exclude_zeros</code> <code>boolean</code> If <code>true</code>, zero values are excluded from the sum. <code>true</code> No <p>Min, Max, Average, Median (<code>aggregation: min</code> / <code>max</code> / <code>average</code> / <code>median</code>)</p> YAML Key Data Type Description Kibana Default Required <code>aggregation</code> <code>Literal['min', 'max', 'average', 'median']</code> The aggregation type. N/A Yes <code>field</code> <code>string</code> The numeric field for the aggregation. N/A Yes <p>Last Value (<code>aggregation: last_value</code>)</p> YAML Key Data Type Description Kibana Default Required <code>aggregation</code> <code>Literal['last_value']</code> Retrieves the most recent value of a field. <code>last_value</code> Yes <code>field</code> <code>string</code> The field whose last value is retrieved. N/A Yes <code>date_field</code> <code>string</code> The date field used to determine the \"last\" value. <code>@timestamp</code> No <p>Percentile (<code>aggregation: percentile</code>)</p> YAML Key Data Type Description Kibana Default Required <code>aggregation</code> <code>Literal['percentile']</code> Calculates the value at a specific percentile. <code>percentile</code> Yes <code>field</code> <code>string</code> The numeric field for percentile calculation. N/A Yes <code>percentile</code> <code>integer</code> The percentile to calculate (e.g., <code>95</code> for 95th percentile). N/A Yes <p>Percentile Rank (<code>aggregation: percentile_rank</code>)</p> YAML Key Data Type Description Kibana Default Required <code>aggregation</code> <code>Literal['percentile_rank']</code> Determines the rank of a specific value within the dataset. <code>percentile_rank</code> Yes <code>field</code> <code>string</code> The numeric field for percentile rank calculation. N/A Yes <code>rank</code> <code>integer</code> The value for which to find the percentile rank. N/A Yes"},{"location":"yaml_reference/#formula-metric","title":"Formula Metric","text":"<p>Allows custom calculations using a formula string. Note: Formula structure is complex and detailed parsing/compilation for its internal operations is not fully covered here but is handled by the compiler.</p> YAML Key Data Type Description Kibana Default Required <code>formula</code> <code>string</code> The formula string (e.g., <code>count() / unique_count(user.id)</code>). N/A Yes"},{"location":"yaml_reference/#metric-formatting-format-field-within-a-metric","title":"Metric Formatting (<code>format</code> field within a metric)","text":"<p>Defines how metric values are displayed.</p>"},{"location":"yaml_reference/#standard-format-formattype-number-bytes-bits-percent-duration","title":"Standard Format (<code>format.type: number</code> / <code>bytes</code> / <code>bits</code> / <code>percent</code> / <code>duration</code>)","text":"YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['number', 'bytes', 'bits', 'percent', 'duration']</code> The general type of formatting. N/A Yes <code>suffix</code> <code>string</code> A suffix to append to the value (e.g., \"ms\", \" GB\"). <code>None</code> No <code>compact</code> <code>boolean</code> If <code>true</code>, uses compact notation (e.g., \"1K\" instead of \"1000\"). <code>None</code> (false) No <code>pattern</code> <code>string</code> A Numeral.js format pattern (used if <code>type</code> is <code>number</code> or <code>percent</code>). Default for type No <p>Default Decimal Places (Kibana):</p> <ul> <li><code>number</code>: 2</li> <li><code>bytes</code>: 2</li> <li><code>bits</code>: 0</li> <li><code>percent</code>: 2</li> <li><code>duration</code>: 0 (Kibana often uses smart duration formatting like \"1m 30s\")</li> </ul>"},{"location":"yaml_reference/#custom-format-formattype-custom","title":"Custom Format (<code>format.type: custom</code>)","text":"YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['custom']</code> Specifies custom formatting. <code>custom</code> Yes <code>pattern</code> <code>string</code> A Numeral.js format pattern. N/A Yes"},{"location":"yaml_reference/#pie-chart-specific-formatting","title":"Pie Chart Specific Formatting","text":"<p>These objects are used within the <code>LensPieChart</code> configuration.</p>"},{"location":"yaml_reference/#pie-chart-appearance-appearance-field","title":"Pie Chart Appearance (<code>appearance</code> field)","text":"YAML Key Data Type Description Kibana Default Required <code>donut</code> <code>Literal['small', 'medium', 'large']</code> If set, creates a donut chart with the specified hole size. <code>None</code> (pie) No"},{"location":"yaml_reference/#pie-titles-and-text-titles_and_text-field","title":"Pie Titles and Text (<code>titles_and_text</code> field)","text":"YAML Key Data Type Description Kibana Default Required <code>slice_labels</code> <code>Literal['hide', 'inside', 'auto']</code> How to display labels for each slice. <code>auto</code> No <code>slice_values</code> <code>Literal['hide', 'integer', 'percent']</code> How to display the value for each slice. <code>percent</code> No <code>value_decimal_places</code> <code>integer</code> (0-10) Number of decimal places for slice values. <code>2</code> No"},{"location":"yaml_reference/#pie-legend-legend-field","title":"Pie Legend (<code>legend</code> field)","text":"YAML Key Data Type Description Kibana Default Required <code>visible</code> <code>Literal['show', 'hide', 'auto']</code> Controls legend visibility. <code>auto</code> No <code>width</code> <code>Literal['small', 'medium', 'large', 'extra_large']</code> Width of the legend area. <code>medium</code> No <code>truncate_labels</code> <code>integer</code> (0-5) Max number of lines for legend labels before truncating. <code>0</code> disables truncation. <code>1</code> No"},{"location":"yaml_reference/#color-mapping-color-field","title":"Color Mapping (<code>color</code> field)","text":"YAML Key Data Type Description Kibana Default Required <code>palette</code> <code>string</code> The ID of the color palette to use (e.g., <code>default</code>, <code>elasticColors</code>). <code>default</code> Yes"},{"location":"yaml_reference/#related-documentation_7","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> <li>Queries Configuration</li> <li>Filters Configuration</li> </ul>"},{"location":"yaml_reference/#metric-objects","title":"Metric Objects","text":"<p>Metric objects are used within chart panels (Lens and ESQL) to define the values being visualized, typically corresponding to the y-axis or the size of elements.</p>"},{"location":"yaml_reference/#base-metric-fields","title":"Base Metric Fields","text":"<p>All metric types inherit from a base metric with the following optional field:</p> <ul> <li><code>id</code> (optional, string): A unique identifier for the metric. If not provided, one may be generated during compilation.</li> </ul>"},{"location":"yaml_reference/#lens-metric-types","title":"Lens Metric Types","text":"<p>Lens charts use the following metric types:</p>"},{"location":"yaml_reference/#base-lens-metric-fields","title":"Base Lens Metric Fields","text":"<p>All Lens metric types inherit from a base Lens metric with the following optional fields:</p> <ul> <li><code>label</code> (optional, string): The display label for the metric. If not provided, a label may be inferred from the type and field.</li> <li><code>format</code> (optional, object): The format of the metric. See Lens Metric Format for details.</li> <li><code>filter</code> (optional, object): A query (KQL or Lucene) applied before determining the metric value. See Queries Documentation for details.</li> </ul>"},{"location":"yaml_reference/#lens-formula-metric","title":"Lens Formula Metric","text":"<p>Represents a formula metric configuration within a Lens chart. Formula metrics allow for custom calculations based on other fields or metrics.</p> <pre><code>- type: formula       # (Required) Must be 'formula'.\n  formula: string     # (Required) The formula string to be evaluated.\n  # Base Lens Metric fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>formula</code>.</li> <li><code>formula</code> (required, string): The formula string to be evaluated for this metric.</li> <li> <p>Example:</p> <pre><code>- type: formula\n  label: Error Rate\n  formula: \"count(kql='event.outcome:failure') / count() * 100\"\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-aggregated-metric-types","title":"Lens Aggregated Metric Types","text":"<p>These metric types represent various standard aggregations.</p>"},{"location":"yaml_reference/#lens-count-aggregated-metric","title":"Lens Count Aggregated Metric","text":"<p>Represents a count metric configuration within a Lens chart. Count metrics are used to count the number of documents or unique values in a data view.</p> <pre><code>- aggregation: string # (Required) Aggregation type ('count' or 'unique_count').\n  field: string       # (Optional for 'count', Required for 'unique_count') The field to count.\n  exclude_zeros: boolean # (Optional) Whether to exclude zero values. Defaults to true.\n  # Base Lens Metric fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>aggregation</code> (required, string): The aggregation type. Must be <code>count</code> or <code>unique_count</code>.</li> <li><code>field</code> (optional, string): The field to count. Required for <code>unique_count</code>. If not provided for <code>count</code>, it will count all documents.</li> <li><code>exclude_zeros</code> (optional, boolean): Whether to exclude zero values from the count. Kibana defaults to true if not specified.</li> <li> <p>Example (Count):</p> <pre><code>- aggregation: count\n  label: Total Documents\n</code></pre> </li> <li> <p>Example (Unique Count):</p> <pre><code>- aggregation: unique_count\n  field: user.id\n  label: Unique Users\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-sum-aggregated-metric","title":"Lens Sum Aggregated Metric","text":"<p>Represents a sum metric configuration within a Lens chart. Sum metrics are used to sum the values of a field.</p> <pre><code>- aggregation: sum    # (Required) Must be 'sum'.\n  field: string       # (Required) The field to sum.\n  exclude_zeros: boolean # (Optional) Whether to exclude zero values. Defaults to true.\n  # Base Lens Metric fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>aggregation</code> (required, string): Must be <code>sum</code>.</li> <li><code>field</code> (required, string): The field to sum.</li> <li><code>exclude_zeros</code> (optional, boolean): Whether to exclude zero values from the count. Kibana defaults to true if not specified.</li> <li> <p>Example:</p> <pre><code>- aggregation: sum\n  field: bytes\n  label: Total Bytes\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-other-aggregated-metric","title":"Lens Other Aggregated Metric","text":"<p>Represents various aggregated metric configurations within a Lens chart, including min, max, median, and average.</p> <pre><code>- aggregation: string # (Required) Aggregation type ('min', 'max', 'median', 'average').\n  field: string       # (Required) The field to aggregate on.\n  # Base Lens Metric fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>aggregation</code> (required, string): The aggregation type. Must be <code>min</code>, <code>max</code>, <code>median</code>, or <code>average</code>.</li> <li><code>field</code> (required, string): The field to aggregate on.</li> <li> <p>Example (Average):</p> <pre><code>- aggregation: average\n  field: response_time\n  label: Average Response Time\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-last-value-aggregated-metric","title":"Lens Last Value Aggregated Metric","text":"<p>Represents a last value metric configuration within a Lens chart. Last value metrics retrieve the most recent value of a field based on a specified sort order.</p> <pre><code>- aggregation: last_value # (Required) Must be 'last_value'.\n  field: string       # (Required) The field whose last value is retrieved.\n  date_field: string  # (Optional) The field used to determine the 'last' value (e.g., @timestamp).\n  # Base Lens Metric fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>aggregation</code> (required, string): Must be <code>last_value</code>.</li> <li><code>field</code> (required, string): The field whose last value is retrieved.</li> <li><code>date_field</code> (optional, string): The field used to determine the 'last' value. If not provided, the default time field for the data view is used.</li> <li> <p>Example:</p> <pre><code>- aggregation: last_value\n  field: system.load.5\n  label: Last 5-minute Load Average\n  date_field: \"@timestamp\"\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-percentile-rank-aggregated-metric","title":"Lens Percentile Rank Aggregated Metric","text":"<p>Represents a percentile rank metric configuration within a Lens chart. Percentile rank metrics determine the rank of a value in a data set.</p> <pre><code>- aggregation: percentile_rank # (Required) Must be 'percentile_rank'.\n  field: string       # (Required) The field to calculate the percentile rank on.\n  rank: integer       # (Required) The rank to determine the percentile for.\n  # Base Lens Metric fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>aggregation</code> (required, string): Must be <code>percentile_rank</code>.</li> <li><code>field</code> (required, string): The field to calculate the percentile rank on.</li> <li><code>rank</code> (required, integer): The rank to determine the percentile for.</li> <li> <p>Example:</p> <pre><code>- aggregation: percentile_rank\n  field: response_time\n  rank: 95\n  label: 95th Percentile Rank Response Time\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-percentile-aggregated-metric","title":"Lens Percentile Aggregated Metric","text":"<p>Represents a percentile metric configuration within a Lens chart. Percentile metrics determine the value at a specific percentile in a data set.</p> <pre><code>- aggregation: percentile # (Required) Must be 'percentile'.\n  field: string       # (Required) The field to calculate the percentile on.\n  percentile: integer # (Required) The percentile to determine the value for.\n  # Base Lens Metric fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>aggregation</code> (required, string): Must be <code>percentile</code>.</li> <li><code>field</code> (required, string): The field to calculate the percentile on.</li> <li><code>percentile</code> (required, integer): The percentile to determine the value for.</li> <li> <p>Example:</p> <pre><code>- aggregation: percentile\n  field: response_time\n  percentile: 99\n  label: 99th Percentile Response Time\n</code></pre> </li> </ul>"},{"location":"yaml_reference/#lens-metric-format","title":"Lens Metric Format","text":"<p>Configures the display format of a Lens metric.</p> <pre><code>format:\n  type: string        # (Required) The format type (number, bytes, bits, percent, duration, custom).\n  suffix: string      # (Optional) Suffix to display after the number.\n  compact: boolean    # (Optional) Whether to display in a compact format.\n  pattern: string     # (Optional for type: custom, Required for other types) The pattern to display the number in.\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): The format type. Valid values are <code>number</code>, <code>bytes</code>, <code>bits</code>, <code>percent</code>, <code>duration</code>, or <code>custom</code>.</li> <li><code>suffix</code> (optional, string): The suffix to display after the number.</li> <li><code>compact</code> (optional, boolean): Whether to display the number in a compact format (e.g., 1k instead of 1000).</li> <li><code>pattern</code> (optional, string): The pattern to display the number in. Required for <code>custom</code> type.</li> </ul>"},{"location":"yaml_reference/#lens-custom-metric-format","title":"Lens Custom Metric Format","text":"<p>Allows for defining a custom format pattern for a Lens metric.</p> <pre><code>format:\n  type: custom        # (Required) Must be 'custom'.\n  pattern: string     # (Required) The custom pattern to display the number in.\n</code></pre> <ul> <li>Fields:</li> <li><code>type</code> (required, string): Must be <code>custom</code>.</li> <li><code>pattern</code> (required, string): The custom pattern to display the number in.</li> </ul>"},{"location":"yaml_reference/#esql-metric-type","title":"ESQL Metric Type","text":"<p>ESQL charts use a single metric type defined by the ESQL query.</p>"},{"location":"yaml_reference/#esql-metric","title":"ESQL Metric","text":"<p>A metric that is defined in the ESQL query.</p> <pre><code>- field: string       # (Required) The field in the data view that this metric is based on.\n  # Base Metric fields also apply\n</code></pre> <ul> <li>Fields:</li> <li><code>field</code> (required, string): The field in the data view that this metric is based on. This field should correspond to a column returned by the ESQL query.</li> <li> <p>Example:</p> <p>```yaml - field: total_requests   label: Total Requests from ESQL</p> </li> </ul>"},{"location":"yaml_reference/#metric-chart-panel-configuration","title":"Metric Chart Panel Configuration","text":"<p>The Metric chart panel displays a single value or a small set of key metrics, often used for KPIs or summary statistics.</p>"},{"location":"yaml_reference/#minimal-configuration-example_1","title":"Minimal Configuration Example","text":"<pre><code>dashboards:\n-\n  name: \"KPI Dashboard\"\n  panels:\n    - type: metric\n      title: \"Total Revenue\"\n      grid: { x: 0, y: 0, w: 3, h: 2 }\n      data:\n        index: \"sales-data\"\n        value: \"revenue\"\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_6","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#lens-metric-chart_1","title":"Lens Metric Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['metric']</code> Specifies the chart type as metric. <code>'metric'</code> No <code>data_view</code> <code>string</code> The data view that determines the data for the metric chart. N/A Yes <code>primary</code> <code>LensMetricTypes</code> The primary metric to display (main value). N/A Yes <code>secondary</code> <code>LensMetricTypes \\| None</code> Optional secondary metric to display alongside the primary. <code>None</code> No <code>maximum</code> <code>LensMetricTypes \\| None</code> Optional maximum metric for comparison or thresholds. <code>None</code> No <code>breakdown</code> <code>LensDimensionTypes \\| None</code> Optional breakdown dimension for splitting the metric. <code>None</code> No"},{"location":"yaml_reference/#esql-metric-chart_1","title":"ESQL Metric Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['metric']</code> Specifies the chart type as metric. <code>'metric'</code> No <code>primary</code> <code>ESQLMetricTypes</code> The primary metric to display (main value). N/A Yes <code>secondary</code> <code>ESQLMetricTypes \\| None</code> Optional secondary metric to display alongside the primary. <code>None</code> No <code>maximum</code> <code>ESQLMetricTypes \\| None</code> Optional maximum metric for comparison or thresholds. <code>None</code> No <code>breakdown</code> <code>ESQLDimensionTypes \\| None</code> Optional breakdown dimension for splitting the metric. <code>None</code> No"},{"location":"yaml_reference/#programmatic-usage-python","title":"Programmatic Usage (Python)","text":"<p>You can create Metric chart panels programmatically using Python:</p>"},{"location":"yaml_reference/#count-metric-example","title":"Count Metric Example","text":"<pre><code>from dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensCountAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.metric.config import LensMetricChart\nfrom dashboard_compiler.panels.config import Grid\n\n# Simple count metric\ncount_chart = LensMetricChart(\n    data_view='logs-*',\n    primary=LensCountAggregatedMetric(aggregation='count'),\n)\n\npanel = LensPanel(\n    title='Total Documents',\n    grid=Grid(x=0, y=0, w=24, h=15),\n    chart=count_chart,\n)\n</code></pre>"},{"location":"yaml_reference/#average-metric-example","title":"Average Metric Example","text":"<pre><code>from dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensOtherAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.metric.config import LensMetricChart\nfrom dashboard_compiler.panels.config import Grid\n\n# Average metric with field\navg_chart = LensMetricChart(\n    data_view='logs-*',\n    primary=LensOtherAggregatedMetric(aggregation='average', field='response_time'),\n)\n\npanel = LensPanel(\n    title='Avg Response Time',\n    grid=Grid(x=0, y=0, w=24, h=15),\n    chart=avg_chart,\n)\n</code></pre>"},{"location":"yaml_reference/#related","title":"Related","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#pie-chart-panel-configuration","title":"Pie Chart Panel Configuration","text":"<p>The Pie chart panel visualizes data as a pie or donut chart, useful for showing proportions of a whole.</p>"},{"location":"yaml_reference/#minimal-configuration-example_2","title":"Minimal Configuration Example","text":"<pre><code>dashboards:\n-\n  name: \"Traffic Sources\"\n  panels:\n    - type: pie\n      title: \"Website Traffic Sources\"\n      grid: { x: 0, y: 0, w: 6, h: 6 }\n      data:\n        index: \"traffic-data\"\n        category: \"source\"\n        value: \"visits\"\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_7","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#lens-pie-chart_1","title":"Lens Pie Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['pie']</code> Specifies the chart type as pie. <code>'pie'</code> No <code>data_view</code> <code>string</code> The data view that determines the data for the pie chart. N/A Yes <code>metric</code> <code>LensMetricTypes \\| None</code> A metric for single metric charts (size of slices). <code>None</code> No <code>metrics</code> <code>list[LensMetricTypes] \\| None</code> Multiple metrics for multi-metric charts. <code>None</code> No <code>slice_by</code> <code>list[LensDimensionTypes]</code> Dimensions that determine the slices (first is primary, rest are secondary). N/A Yes <code>appearance</code> <code>PieChartAppearance \\| None</code> Chart appearance options (e.g., donut size). <code>None</code> No <code>titles_and_text</code> <code>PieTitlesAndText \\| None</code> Formatting options for titles and text. <code>None</code> No <code>legend</code> <code>PieLegend \\| None</code> Legend formatting options. <code>None</code> No <code>color</code> <code>ColorMapping \\| None</code> Color palette mapping for the chart. <code>None</code> No"},{"location":"yaml_reference/#piechartappearance-options","title":"PieChartAppearance Options","text":"YAML Key Data Type Description Default Required <code>donut</code> <code>Literal['small', 'medium', 'large'] \\| None</code> Controls the size of the donut hole (Kibana defaults to 'medium'). <code>None</code> No"},{"location":"yaml_reference/#pietitlesandtext-options","title":"PieTitlesAndText Options","text":"YAML Key Data Type Description Default Required <code>slice_labels</code> <code>Literal['hide', 'inside', 'auto'] \\| None</code> Controls slice label visibility (Kibana defaults to 'auto'). <code>None</code> No <code>slice_values</code> <code>Literal['hide', 'integer', 'percent'] \\| None</code> Controls slice value display (Kibana defaults to 'percent'). <code>None</code> No <code>value_decimal_places</code> <code>int \\| None</code> Number of decimal places for values (0-10, Kibana defaults to 2). <code>None</code> No"},{"location":"yaml_reference/#pielegend-options","title":"PieLegend Options","text":"YAML Key Data Type Description Default Required <code>visible</code> <code>Literal['show', 'hide', 'auto'] \\| None</code> Legend visibility (Kibana defaults to 'auto'). <code>None</code> No <code>width</code> <code>Literal['small', 'medium', 'large', 'extra_large'] \\| None</code> Legend width (Kibana defaults to 'medium'). <code>None</code> No <code>truncate_labels</code> <code>int \\| None</code> Lines to truncate labels to (0-5, Kibana defaults to 1, 0=disable). <code>None</code> No"},{"location":"yaml_reference/#esql-pie-chart_1","title":"ESQL Pie Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['pie']</code> Specifies the chart type as pie. <code>'pie'</code> No <code>metric</code> <code>ESQLMetricTypes \\| None</code> A metric for single metric charts (size of slices). <code>None</code> No <code>metrics</code> <code>list[ESQLMetricTypes] \\| None</code> Multiple metrics for multi-metric charts. <code>None</code> No <code>slice_by</code> <code>list[ESQLDimensionTypes]</code> Dimensions that determine the slices (first is primary, rest are secondary). N/A Yes <code>esql</code> <code>string</code> The ES|QL query that determines the data for the pie chart. N/A Yes <code>appearance</code> <code>PieChartAppearance \\| None</code> Chart appearance options (e.g., donut size). <code>None</code> No <code>titles_and_text</code> <code>PieTitlesAndText \\| None</code> Formatting options for titles and text. <code>None</code> No <code>legend</code> <code>PieLegend \\| None</code> Legend formatting options. <code>None</code> No <code>color</code> <code>ColorMapping \\| None</code> Color palette mapping for the chart. <code>None</code> No"},{"location":"yaml_reference/#programmatic-usage-python_1","title":"Programmatic Usage (Python)","text":"<p>You can create Pie chart panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.dimensions.config import (\n    LensTopValuesDimension,\n)\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensCountAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.pie.config import LensPieChart\nfrom dashboard_compiler.panels.config import Grid\n\npie_chart = LensPieChart(\n    data_view='logs-*',\n    slice_by=[LensTopValuesDimension(field='status')],\n    metric=LensCountAggregatedMetric(aggregation='count'),\n)\n\npanel = LensPanel(\n    title='Status Distribution',\n    grid=Grid(x=0, y=0, w=24, h=15),\n    chart=pie_chart,\n)\n</code></pre>"},{"location":"yaml_reference/#related_1","title":"Related","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#tag-cloud-chart-panel-configuration","title":"Tag Cloud Chart Panel Configuration","text":"<p>The Tag Cloud chart panel visualizes term frequency as a word cloud, where the size of each tag is proportional to its metric value. This is useful for showing the most common or significant terms in your data.</p>"},{"location":"yaml_reference/#minimal-configuration-example-lens","title":"Minimal Configuration Example (Lens)","text":"<pre><code>dashboards:\n-\n  name: \"Log Analysis\"\n  panels:\n    - type: charts\n      title: \"Top Error Messages\"\n      grid: { x: 0, y: 0, w: 12, h: 6 }\n      chart:\n        type: tagcloud\n        data_view: \"logs-*\"\n        tags:\n          field: \"error.message\"\n        metric:\n          aggregation: count\n</code></pre>"},{"location":"yaml_reference/#minimal-configuration-example-esql","title":"Minimal Configuration Example (ES|QL)","text":"<pre><code>dashboards:\n-\n  name: \"Log Analysis\"\n  panels:\n    - type: charts\n      title: \"Top Error Messages\"\n      grid: { x: 0, y: 0, w: 12, h: 6 }\n      esql: \"FROM logs-* | STATS count(*) BY error.message\"\n      chart:\n        type: tagcloud\n        tags:\n          field: \"error.message\"\n        metric:\n          field: \"count(*)\"\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_8","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#lenstagcloudchart","title":"LensTagcloudChart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['tagcloud']</code> Specifies the chart type. tagcloud Yes <code>data_view</code> <code>string</code> The data view that determines the data source. - Yes <code>tags</code> <code>LensDimensionTypes</code> The dimension for grouping (terms/tags). - Yes <code>metric</code> <code>LensMetricTypes</code> The metric for sizing each tag. - Yes <code>appearance</code> <code>TagcloudAppearance</code> Appearance settings (fonts, orientation). None No <code>color</code> <code>ColorMapping</code> Color palette configuration. None No"},{"location":"yaml_reference/#esqltagcloudchart","title":"ESQLTagcloudChart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['tagcloud']</code> Specifies the chart type. tagcloud Yes <code>esql</code> <code>string</code> The ES|QL query that determines the data. - Yes <code>tags</code> <code>ESQLDimensionTypes</code> The dimension for grouping (terms/tags). - Yes <code>metric</code> <code>ESQLMetricTypes</code> The metric for sizing each tag. - Yes <code>appearance</code> <code>TagcloudAppearance</code> Appearance settings (fonts, orientation). None No <code>color</code> <code>ColorMapping</code> Color palette configuration. None No"},{"location":"yaml_reference/#tagcloudappearance","title":"TagcloudAppearance","text":"YAML Key Data Type Description Default Required <code>min_font_size</code> <code>int</code> (1-100) Minimum font size for tags. 18 No <code>max_font_size</code> <code>int</code> (1-200) Maximum font size for tags. 72 No <code>orientation</code> <code>TagcloudOrientationEnum</code> Text orientation configuration. single No <code>show_label</code> <code>boolean</code> Toggle for label visibility. true No"},{"location":"yaml_reference/#tagcloudorientationenum","title":"TagcloudOrientationEnum","text":"<ul> <li><code>single</code>: Single horizontal orientation</li> <li><code>right angled</code>: Mix of horizontal and vertical orientations</li> <li><code>multiple</code>: Multiple angles</li> </ul>"},{"location":"yaml_reference/#colormapping","title":"ColorMapping","text":"YAML Key Data Type Description Default Required <code>palette</code> <code>string</code> The palette to use for tag cloud colors. default No <p>Common palette values include: <code>default</code>, <code>kibana_palette</code>, <code>eui_amsterdam_color_blind</code>, etc.</p>"},{"location":"yaml_reference/#advanced-configuration-example","title":"Advanced Configuration Example","text":"<pre><code>dashboards:\n-\n  name: \"Advanced Tag Cloud\"\n  panels:\n    - type: charts\n      title: \"Kubernetes Pod Labels\"\n      grid: { x: 0, y: 0, w: 12, h: 8 }\n      chart:\n        type: tagcloud\n        data_view: \"k8s-*\"\n        tags:\n          field: \"kubernetes.labels.app\"\n        metric:\n          aggregation: count\n        appearance:\n          min_font_size: 12\n          max_font_size: 96\n          orientation: \"multiple\"\n          show_label: false\n        color:\n          palette: \"kibana_palette\"\n</code></pre>"},{"location":"yaml_reference/#related_2","title":"Related","text":"<ul> <li>Base Chart Configuration</li> <li>Lens Dimensions</li> <li>Lens Metrics</li> <li>ES|QL Dimensions</li> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#xy-chart-panel-configuration","title":"XY Chart Panel Configuration","text":"<p>The XY chart panel creates line, bar, and area charts for time series and other data visualizations.</p>"},{"location":"yaml_reference/#minimal-configuration-example_3","title":"Minimal Configuration Example","text":"<pre><code>dashboards:\n-\n  name: \"Time Series Dashboard\"\n  panels:\n    - type: xy\n      title: \"Events Over Time\"\n      grid: { x: 0, y: 0, w: 12, h: 6 }\n      data:\n        index: \"logs-*\"\n        x_axis: \"@timestamp\"\n        metric: \"count\"\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_9","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#lens-bar-chart","title":"Lens Bar Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['bar']</code> Specifies the chart type as bar. <code>'bar'</code> No <code>mode</code> <code>Literal['stacked', 'unstacked', 'percentage']</code> Stacking mode for bar charts. <code>'stacked'</code> No <code>data_view</code> <code>string</code> The data view to use for the chart. N/A Yes <code>dimensions</code> <code>list[LensDimensionTypes]</code> Defines the dimensions (e.g., X-axis) for the chart. <code>[]</code> No <code>metrics</code> <code>list[LensMetricTypes]</code> Defines the metrics (e.g., Y-axis values) for the chart. <code>[]</code> No <code>breakdown</code> <code>LensDimensionTypes \\| None</code> Optional dimension to split the series by (creates multiple series). <code>None</code> No <code>appearance</code> <code>XYAppearance \\| None</code> Chart appearance formatting options. <code>None</code> No <code>titles_and_text</code> <code>XYTitlesAndText \\| None</code> Titles and text formatting options. <code>None</code> No <code>legend</code> <code>XYLegend \\| None</code> Legend formatting options. <code>None</code> No"},{"location":"yaml_reference/#lens-line-chart","title":"Lens Line Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['line']</code> Specifies the chart type as line. <code>'line'</code> No <code>data_view</code> <code>string</code> The data view to use for the chart. N/A Yes <code>dimensions</code> <code>list[LensDimensionTypes]</code> Defines the dimensions (e.g., X-axis) for the chart. <code>[]</code> No <code>metrics</code> <code>list[LensMetricTypes]</code> Defines the metrics (e.g., Y-axis values) for the chart. <code>[]</code> No <code>breakdown</code> <code>LensDimensionTypes \\| None</code> Optional dimension to split the series by (creates multiple series). <code>None</code> No <code>appearance</code> <code>XYAppearance \\| None</code> Chart appearance formatting options. <code>None</code> No <code>titles_and_text</code> <code>XYTitlesAndText \\| None</code> Titles and text formatting options. <code>None</code> No <code>legend</code> <code>XYLegend \\| None</code> Legend formatting options. <code>None</code> No"},{"location":"yaml_reference/#lens-area-chart","title":"Lens Area Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['area']</code> Specifies the chart type as area. <code>'area'</code> No <code>mode</code> <code>Literal['stacked', 'unstacked', 'percentage']</code> Stacking mode for area charts. <code>'stacked'</code> No <code>data_view</code> <code>string</code> The data view to use for the chart. N/A Yes <code>dimensions</code> <code>list[LensDimensionTypes]</code> Defines the dimensions (e.g., X-axis) for the chart. <code>[]</code> No <code>metrics</code> <code>list[LensMetricTypes]</code> Defines the metrics (e.g., Y-axis values) for the chart. <code>[]</code> No <code>breakdown</code> <code>LensDimensionTypes \\| None</code> Optional dimension to split the series by (creates multiple series). <code>None</code> No <code>appearance</code> <code>XYAppearance \\| None</code> Chart appearance formatting options. <code>None</code> No <code>titles_and_text</code> <code>XYTitlesAndText \\| None</code> Titles and text formatting options. <code>None</code> No <code>legend</code> <code>XYLegend \\| None</code> Legend formatting options. <code>None</code> No"},{"location":"yaml_reference/#xylegend-options","title":"XYLegend Options","text":"YAML Key Data Type Description Default Required <code>visible</code> <code>bool \\| None</code> Whether the legend is visible. <code>None</code> No"},{"location":"yaml_reference/#esql-barlinearea-charts","title":"ESQL Bar/Line/Area Charts","text":"<p>ESQL chart configuration is similar to Lens charts, but uses <code>ESQLDimensionTypes</code> and <code>ESQLMetricTypes</code> instead, and does not require a <code>data_view</code> field.</p>"},{"location":"yaml_reference/#programmatic-usage-python_2","title":"Programmatic Usage (Python)","text":"<p>You can create XY chart panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.dimensions.config import (\n    LensDateHistogramDimension,\n)\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensCountAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.xy.config import LensLineChart\nfrom dashboard_compiler.panels.config import Grid\n\n# Time series line chart\nline_chart = LensLineChart(\n    data_view='logs-*',\n    dimensions=[LensDateHistogramDimension(field='@timestamp')],\n    breakdown=None,\n    metrics=[LensCountAggregatedMetric(aggregation='count')],\n)\n\npanel = LensPanel(\n    title='Documents Over Time',\n    grid=Grid(x=0, y=0, w=48, h=20),\n    chart=line_chart,\n)\n</code></pre>"},{"location":"yaml_reference/#related_3","title":"Related","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#image-panel-configuration","title":"Image Panel Configuration","text":"<p>The <code>image</code> panel type is used to display an image directly on your dashboard. This can be useful for branding, diagrams, or other visual elements.</p>"},{"location":"yaml_reference/#minimal-configuration-example_4","title":"Minimal Configuration Example","text":"<p>To add an Image panel, you need to specify its <code>type</code>, <code>grid</code> position, and the <code>from_url</code> for the image source.</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: image\n#   title: \"Company Logo\"\n#   grid:\n#     x: 0\n#     y: 0\n#     w: 4  # Width of 4 grid units\n#     h: 3  # Height of 3 grid units\n#   from_url: \"https://example.com/path/to/your/logo.png\"\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Branded Dashboard\"\n  panels:\n    - type: image\n      title: \"Company Logo\"\n      grid:\n        x: 0\n        y: 0\n        w: 4\n        h: 3\n      from_url: \"https://example.com/path/to/your/logo.png\"\n</code></pre>"},{"location":"yaml_reference/#complex-configuration-example_3","title":"Complex Configuration Example","text":"<p>This example demonstrates an Image panel with specific <code>fit</code> behavior, alternative text for accessibility, and a background color.</p> <pre><code>dashboards:\n-\n  name: \"Dashboard with Informative Image\"\n  panels:\n    - type: image\n      title: \"System Architecture Diagram\"\n      grid:\n        x: 0\n        y: 0\n        w: 12 # Full width\n        h: 6\n      from_url: \"https://example.com/path/to/architecture.svg\"\n      fit: \"contain\"  # Ensure the whole image is visible within the panel\n      description: \"Overview of the system components and their interactions.\" # Alt text\n      background_color: \"#f0f0f0\" # Light grey background\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_10","title":"Full Configuration Options","text":"<p>Image panels inherit from the Base Panel Configuration and have the following specific fields:</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['image']</code> Specifies the panel type. <code>image</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> Alternative text for the image, used for accessibility. This overrides the BasePanel <code>description</code> if you want specific alt text for the image itself. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>from_url</code> <code>string</code> The URL of the image to be displayed in the panel. N/A Yes <code>fit</code> <code>Literal['contain', 'cover', 'fill', 'none']</code> The sizing of the image within the panel boundaries. <code>contain</code> No <code>background_color</code> <code>string</code> Background color for the image panel (e.g., hex code like <code>#FFFFFF</code> or color name like <code>transparent</code>). <code>\"\"</code> (empty string, likely transparent in Kibana) No <p>Details for <code>fit</code> options:</p> <ul> <li><code>contain</code>: (Default) Scales the image to fit within the panel while maintaining its aspect ratio. The entire image will be visible.</li> <li><code>cover</code>: Scales the image to fill the panel while maintaining its aspect ratio. Some parts of the image may be cropped to achieve this.</li> <li><code>fill</code>: Stretches or compresses the image to fill the panel completely, potentially altering its original aspect ratio.</li> <li><code>none</code>: Displays the image at its original size. If the image is larger than the panel, it will be cropped. If smaller, it will sit within the panel, respecting its original dimensions.</li> </ul>"},{"location":"yaml_reference/#programmatic-usage-python_3","title":"Programmatic Usage (Python)","text":"<p>You can create Image panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.images.config import ImagePanel\n\npanel = ImagePanel(\n    grid=Grid(x=0, y=0, w=24, h=20),\n    from_url='https://example.com/logo.png',\n)\n</code></pre>"},{"location":"yaml_reference/#related-documentation_8","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#links-panel-configuration","title":"Links Panel Configuration","text":"<p>The <code>links</code> panel type is used to display a collection of hyperlinks on your dashboard. These links can point to other Kibana dashboards or external web URLs. This panel is useful for creating navigation hubs or providing quick access to related resources.</p>"},{"location":"yaml_reference/#minimal-configuration-examples_4","title":"Minimal Configuration Examples","text":"<p>Linking to another Dashboard:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: links\n#   title: \"Navigate to User Details\"\n#   grid: { x: 0, y: 0, w: 6, h: 2 }\n#   links:\n#     - label: \"View User Activity Dashboard\"\n#       dashboard: \"user-activity-dashboard-id\" # ID of the target dashboard\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Main Overview\"\n  panels:\n    - type: links\n      title: \"Navigate to User Details\"\n      grid: { x: 0, y: 0, w: 6, h: 2 }\n      links:\n        - label: \"View User Activity Dashboard\"\n          dashboard: \"user-activity-dashboard-id\"\n</code></pre> <p>Linking to an External URL:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: links\n#   title: \"External Resources\"\n#   grid: { x: 6, y: 0, w: 6, h: 2 }\n#   links:\n#     - label: \"Project Documentation\"\n#       url: \"https://docs.example.com/project-alpha\"\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Main Overview\"\n  panels:\n    - type: links\n      title: \"External Resources\"\n      grid: { x: 6, y: 0, w: 6, h: 2 }\n      links:\n        - label: \"Project Documentation\"\n          url: \"https://docs.example.com/project-alpha\"\n          new_tab: true # Open this external link in a new tab\n</code></pre>"},{"location":"yaml_reference/#complex-configuration-example_4","title":"Complex Configuration Example","text":"<p>This example demonstrates a Links panel with multiple link types, a vertical layout, and specific options for how links behave.</p> <pre><code>dashboards:\n-\n  name: \"Operations Hub\"\n  panels:\n    - type: links\n      title: \"Quick Access\"\n      description: \"Links to key operational dashboards and tools.\"\n      grid: { x: 0, y: 0, w: 12, h: 3 }\n      layout: \"vertical\" # Display links one above the other\n      links:\n        - label: \"Service Health Dashboard\"\n          dashboard: \"service-health-monitor-v2\"\n          with_time: true      # Carry over current time range\n          with_filters: true   # Carry over current filters\n          new_tab: false       # Open in the same tab\n        - label: \"System Logs (Last 1 Hour)\"\n          dashboard: \"system-logs-deep-dive\"\n          # This link will use the target dashboard's default time/filters\n        - label: \"Runbook Wiki\"\n          url: \"https://internal.wiki/ops/runbooks\"\n          new_tab: true\n          encode: false # If the URL should not be encoded\n        - label: \"Grafana Metrics\"\n          url: \"https://grafana.example.com/d/abcdef/service-metrics\"\n          new_tab: true\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_11","title":"Full Configuration Options","text":""},{"location":"yaml_reference/#links-panel","title":"Links Panel","text":"<p>Defines the main container for a list of links. It inherits from the Base Panel Configuration.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['links']</code> Specifies the panel type. <code>links</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> A brief description of the panel. Inherited from BasePanel. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>layout</code> <code>Literal['horizontal', 'vertical']</code> The layout of the links in the panel. <code>horizontal</code> No <code>links</code> <code>list of LinkTypes</code> A list of link objects to be displayed. Each object can be a Dashboard Link or a URL Link. <code>[]</code> (empty list) Yes"},{"location":"yaml_reference/#link-types","title":"Link Types","text":"<p>Each item in the <code>links</code> list will be one of the following types. They share common base fields.</p>"},{"location":"yaml_reference/#base-link-fields-common-to-dashboardlink-and-urllink","title":"Base Link Fields (Common to DashboardLink and UrlLink)","text":"YAML Key Data Type Description Kibana Default Required <code>id</code> <code>string</code> An optional unique identifier for the individual link item. Not typically needed. Generated ID No <code>label</code> <code>string</code> The text displayed for the link. If not provided for a URL link, Kibana may show the URL itself. For dashboard links, a label is recommended. <code>None</code> (or URL for URL links) No"},{"location":"yaml_reference/#dashboard-link","title":"Dashboard Link","text":"<p>Represents a link to another Kibana dashboard.</p> YAML Key Data Type Description Kibana Default Required <code>dashboard</code> <code>string</code> The ID of the target Kibana dashboard. N/A Yes <code>id</code> <code>string</code> An optional unique identifier for this link item. Generated ID No <code>label</code> <code>string</code> The display text for the link. <code>None</code> No <code>new_tab</code> <code>boolean</code> If <code>true</code>, the linked dashboard will open in a new browser tab. <code>false</code> No <code>with_time</code> <code>boolean</code> If <code>true</code>, the linked dashboard will inherit the current time range from the source dashboard. <code>true</code> No <code>with_filters</code> <code>boolean</code> If <code>true</code>, the linked dashboard will inherit the current filters from the source dashboard. <code>true</code> No"},{"location":"yaml_reference/#url-link","title":"URL Link","text":"<p>Represents a link to an external web URL.</p> YAML Key Data Type Description Kibana Default Required <code>url</code> <code>string</code> The full web URL that the link points to (e.g., <code>https://www.example.com</code>). N/A Yes <code>id</code> <code>string</code> An optional unique identifier for this link item. Generated ID No <code>label</code> <code>string</code> The display text for the link. If not set, Kibana defaults to showing the URL. <code>\"\"</code> (empty string) or URL No <code>encode</code> <code>boolean</code> If <code>true</code>, the URL will be URL-encoded before navigation. <code>true</code> No <code>new_tab</code> <code>boolean</code> If <code>true</code>, the link will open in a new browser tab. <code>false</code> No"},{"location":"yaml_reference/#programmatic-usage-python_4","title":"Programmatic Usage (Python)","text":"<p>You can create Links panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.links.config import LinksPanel, UrlLink\n\npanel = LinksPanel(\n    grid=Grid(x=0, y=0, w=24, h=10),\n    links=[\n        UrlLink(\n            label='Documentation',\n            url='https://example.com/docs',\n        ),\n        UrlLink(\n            label='API Reference',\n            url='https://example.com/api',\n        ),\n    ],\n)\n</code></pre> <p>The <code>LinksPanel</code> model includes an <code>add_link(link: LinkTypes)</code> method for adding links dynamically:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.links.config import LinksPanel, UrlLink\n\npanel = LinksPanel(\n    grid=Grid(x=0, y=0, w=24, h=10),\n    links=[],\n)\n\npanel.add_link(UrlLink(label='Docs', url='https://example.com/docs'))\npanel.add_link(UrlLink(label='API', url='https://example.com/api'))\n</code></pre>"},{"location":"yaml_reference/#related-documentation_9","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#markdown-panel-configuration","title":"Markdown Panel Configuration","text":"<p>The <code>markdown</code> panel type is used to display rich text content, formatted using Markdown syntax, directly on your dashboard. This is equivalent to the \"Text\" visualization in Kibana.</p>"},{"location":"yaml_reference/#minimal-configuration-example_5","title":"Minimal Configuration Example","text":"<p>To add a simple Markdown panel, you need to specify its <code>type</code>, <code>grid</code> position, and the <code>content</code>.</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: markdown\n#   title: \"Welcome Note\"\n#   grid:\n#     x: 0\n#     y: 0\n#     w: 12 # Full width\n#     h: 3  # Height of 3 grid units\n#   content: \"## Welcome to the Dashboard!\\nThis panel provides an overview.\"\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Dashboard with Markdown\"\n  panels:\n    - type: markdown\n      title: \"Welcome Note\"\n      grid:\n        x: 0\n        y: 0\n        w: 12\n        h: 3\n      content: |\n        ## Welcome to the Dashboard!\n        This panel provides an overview of the key metrics and reports available.\n\n        - Item 1\n        - Item 2\n</code></pre>"},{"location":"yaml_reference/#complex-configuration-example_5","title":"Complex Configuration Example","text":"<p>This example demonstrates a Markdown panel with a custom font size and a setting for how links are opened.</p> <pre><code>dashboards:\n-\n  name: \"Informational Dashboard\"\n  panels:\n    - type: markdown\n      title: \"Important Instructions &amp; Links\"\n      description: \"Follow these steps for system setup.\"\n      grid:\n        x: 0\n        y: 0\n        w: 8\n        h: 5\n      content: |\n        # Setup Guide\n\n        Please follow the [official documentation](https://example.com/docs) for detailed setup instructions.\n\n        Key steps include:\n        1.  **Download** the installer.\n        2.  **Configure** the `config.yaml` file.\n        3.  **Run** the start script.\n\n        For issues, refer to the [Troubleshooting Page](https://example.com/troubleshooting).\n      font_size: 14\n      links_in_new_tab: false # Links will open in the same tab\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_12","title":"Full Configuration Options","text":"<p>Markdown panels inherit from the Base Panel Configuration and have the following specific fields:</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['markdown']</code> Specifies the panel type. <code>markdown</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> A brief description of the panel. Inherited from BasePanel. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>content</code> <code>string</code> The Markdown content to be displayed in the panel. You can use YAML multi-line string syntax (e.g., <code>\\|</code> or <code>&gt;</code>) for readability. N/A Yes <code>font_size</code> <code>integer</code> The font size for the Markdown content, in pixels. <code>12</code> No <code>links_in_new_tab</code> <code>boolean</code> If <code>true</code>, links in the Markdown content will open in a new tab. <code>true</code> No"},{"location":"yaml_reference/#programmatic-usage-python_5","title":"Programmatic Usage (Python)","text":"<p>You can also create Markdown panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.markdown.config import MarkdownPanel\n\npanel = MarkdownPanel(\n    grid=Grid(x=0, y=0, w=24, h=15),\n    content=\"\"\"\n# Dashboard Title\n\nThis is a **markdown** panel with:\n- Lists\n- **Bold** and *italic* text\n- [Links](https://example.com)\n    \"\"\",\n)\n</code></pre>"},{"location":"yaml_reference/#related-documentation_10","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"yaml_reference/#search-panel-configuration","title":"Search Panel Configuration","text":"<p>The <code>search</code> panel type is used to embed the results of a pre-existing, saved Kibana search directly onto your dashboard. This allows you to display dynamic log views, event lists, or any other data set defined by a saved search in Discover.</p>"},{"location":"yaml_reference/#minimal-configuration-example_6","title":"Minimal Configuration Example","text":"<p>To add a Search panel, you need to specify its <code>type</code>, <code>grid</code> position, and the <code>saved_search_id</code>.</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: search\n#   title: \"All System Logs\"\n#   grid:\n#     x: 0\n#     y: 0\n#     w: 12 # Full width\n#     h: 10 # Height of 10 grid units\n#   saved_search_id: \"your-saved-search-id\" # Replace with the actual ID\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Log Monitoring Dashboard\"\n  panels:\n    - type: search\n      title: \"All System Logs\"\n      grid:\n        x: 0\n        y: 0\n        w: 12\n        h: 10\n      saved_search_id: \"a1b2c3d4-e5f6-7890-1234-567890abcdef\" # Example ID\n</code></pre>"},{"location":"yaml_reference/#complex-configuration-example-illustrative","title":"Complex Configuration Example (Illustrative)","text":"<p>Search panels primarily rely on the configuration of the saved search itself (columns, sort order, query within the saved search). The panel configuration in the dashboard YAML is straightforward. This example shows it with a description and a hidden title.</p> <pre><code>dashboards:\n-\n  name: \"Security Incidents Overview\"\n  panels:\n    - type: search\n      # Title is defined in the saved search, so we hide the panel's own title\n      hide_title: true\n      description: \"Displays critical security alerts from the last 24 hours, as defined in the 'Critical Alerts' saved search.\"\n      grid:\n        x: 0\n        y: 0\n        w: 12\n        h: 8\n      saved_search_id: \"critical-security-alerts-saved-search\"\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_13","title":"Full Configuration Options","text":"<p>Search panels inherit from the Base Panel Configuration and have one specific required field:</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['search']</code> Specifies the panel type. <code>search</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. This can override the title of the saved search if desired. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> A brief description of the panel. Inherited from BasePanel. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>saved_search_id</code> <code>string</code> The ID of the saved Kibana search object (from Discover app) to display in the panel. N/A Yes <p>Note on Behavior: The appearance, columns displayed, sort order, and underlying query of the Search panel are primarily controlled by the configuration of the saved search itself within Kibana's Discover application. The dashboard panel configuration mainly serves to embed that saved search.</p>"},{"location":"yaml_reference/#programmatic-usage-python_6","title":"Programmatic Usage (Python)","text":"<p>You can create Search panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.search.config import SearchPanel\n\npanel = SearchPanel(\n    grid=Grid(x=0, y=0, w=48, h=20),\n    saved_search_id='my-saved-search',\n)\n</code></pre>"},{"location":"yaml_reference/#related-documentation_11","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> <li>Kibana Discover and Saved Searches documentation (external to this project).</li> </ul>"},{"location":"yaml_reference/#queries-configuration","title":"Queries Configuration","text":"<p>Queries are used to define the search criteria for retrieving data. They can be applied globally at the dashboard level or specifically to individual panels that support them. This compiler supports KQL (Kibana Query Language), Lucene, and ESQL (Elasticsearch Query Language).</p>"},{"location":"yaml_reference/#minimal-configuration-examples_5","title":"Minimal Configuration Examples","text":"<p>KQL Query:</p> <pre><code># Applied at the dashboard level\ndashboards:\n-\n  # ...\n  query:\n    kql: 'response_code:200 AND \"user.id\": \"test-user\"'\n</code></pre> <p>Lucene Query:</p> <pre><code># Applied at the dashboard level\ndashboards:\n-\n  # ...\n  query:\n    lucene: 'event.module:nginx AND event.dataset:nginx.access'\n</code></pre> <p>ESQL Query (typically for specific panel types like ESQL-backed charts):</p> <pre><code># Example within a panel configuration that supports ESQL\npanels:\n  - type: some_esql_panel # Hypothetical panel type\n    # ... other panel config\n    query: |\n      FROM my_index\n      | STATS RARE(clientip)\n</code></pre>"},{"location":"yaml_reference/#full-configuration-options_14","title":"Full Configuration Options","text":"<p>Queries are typically defined under a <code>query</code> key, either at the root of the <code>dashboard</code> object or within a specific panel's configuration. The structure of the <code>query</code> object determines the language.</p>"},{"location":"yaml_reference/#kql-query","title":"KQL Query","text":"<p>Filters documents using the Kibana Query Language (KQL). This is often the default query language in Kibana.</p> YAML Key Data Type Description Kibana Default Required <code>kql</code> <code>string</code> The KQL query string to apply. N/A Yes <code>query</code> <code>object</code> The parent object containing the <code>kql</code> key. N/A Yes <p>Usage Example (Dashboard Level):</p> <pre><code>dashboards:\n-\n  # ...\n  query:\n    kql: 'event.action:\"user_login\" AND event.outcome:success'\n</code></pre>"},{"location":"yaml_reference/#lucene-query","title":"Lucene Query","text":"<p>Filters documents using the more expressive, but complex, Lucene query syntax.</p> YAML Key Data Type Description Kibana Default Required <code>lucene</code> <code>string</code> The Lucene query string to apply. N/A Yes <code>query</code> <code>object</code> The parent object containing the <code>lucene</code> key. N/A Yes <p>Usage Example (Dashboard Level):</p> <pre><code>dashboards:\n-\n  # ...\n  query:\n    lucene: '(geo.src:\"US\" OR geo.src:\"CA\") AND tags:\"production\"'\n</code></pre>"},{"location":"yaml_reference/#esql-query","title":"ESQL Query","text":"<p>Uses Elasticsearch Query Language (ESQL) for data retrieval and aggregation. ESQL queries are typically used by specific panel types that are designed to work with ESQL's tabular results (e.g., ESQL-driven charts or tables). The configuration is a direct string under the <code>query</code> key for such panels.</p> YAML Key Data Type Description Kibana Default Required <code>query</code> <code>string</code> The ESQL query string. The Pydantic model uses <code>root</code> for this direct string. N/A Yes <p>Usage Example (Panel Level - for a hypothetical ESQL panel):</p> <pre><code>panels:\n  - type: esql_backed_chart # This panel type would be designed to use ESQL\n    title: \"Top User Agents by Count\"\n    query: |\n      FROM \"web-logs-*\"\n      | STATS count = COUNT(user_agent.name) BY user_agent.name\n      | SORT count DESC\n      | LIMIT 10\n    # ... other panel-specific configurations\n</code></pre>"},{"location":"yaml_reference/#query-scope","title":"Query Scope","text":"<ul> <li>Dashboard Level Query: Defined under <code>dashboard.query</code>. This query is applied globally to all panels that do not explicitly override it or ignore global queries. KQL and Lucene are supported at this level.</li> <li>Panel Level Query: Defined under <code>panel.query</code> (for panels that support it, e.g., Lens panels, ESQL panels). This query is specific to the panel and is often combined with (or can override) the dashboard-level query, depending on the panel's behavior.</li> <li>Lens panels typically use KQL for their panel-specific query.</li> <li>ESQL-specific panels will use an ESQL query string.</li> </ul>"},{"location":"yaml_reference/#related-documentation_12","title":"Related Documentation","text":"<ul> <li>Dashboard Configuration</li> <li>Filters Configuration</li> <li>Panel Documentation (e.g., Lens, ESQL specific panels)</li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>This section contains the complete API documentation for the Dashboard Compiler.</p>"},{"location":"api/#overview","title":"Overview","text":"<p>The Dashboard Compiler provides a Python API for creating Kibana dashboards programmatically. For a high-level guide on programmatic usage, see the Programmatic Usage Guide.</p>"},{"location":"api/#core-modules","title":"Core Modules","text":"<ul> <li>Dashboard \u2013 Dashboard configuration and compilation</li> <li>Panels \u2013 Panel types and compilation logic (includes Python examples)</li> <li>Controls \u2013 Control group configuration</li> <li>Filters \u2013 Filter compilation</li> <li>Queries \u2013 Query compilation</li> </ul>"},{"location":"api/#core-functions","title":"Core Functions","text":"<p>The Dashboard Compiler provides these core functions for working with dashboards:</p>"},{"location":"api/#dashboard_compiler.dashboard_compiler","title":"dashboard_compiler","text":"<p>Provides functions to load, render, and dump YAML-to-Lens Dashboards.</p>"},{"location":"api/#dashboard_compiler.dashboard_compiler.load","title":"load","text":"<pre><code>load(path)\n</code></pre> <p>Load dashboard configurations from a YAML file.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>The path to the YAML file containing the dashboard configuration.</p> required <p>Returns:</p> Type Description <code>list[Dashboard]</code> <p>list[Dashboard]: The loaded Dashboard objects.</p> Source code in <code>src/dashboard_compiler/dashboard_compiler.py</code> <pre><code>def load(path: str) -&gt; list[Dashboard]:\n    \"\"\"Load dashboard configurations from a YAML file.\n\n    Args:\n        path (str): The path to the YAML file containing the dashboard configuration.\n\n    Returns:\n        list[Dashboard]: The loaded Dashboard objects.\n\n    \"\"\"\n    load_path = Path(path)\n\n    with load_path.open() as file:\n        config = yaml.safe_load(file)  # pyright: ignore[reportAny]\n\n    dashboards_data = config.get('dashboards', [])  # pyright: ignore[reportAny]\n    if not isinstance(dashboards_data, list):\n        msg = f\"'dashboards' must be a list in YAML file: {path}\"\n        raise TypeError(msg)\n\n    return [Dashboard(**dashboard_data) for dashboard_data in dashboards_data]  # pyright: ignore[reportUnknownVariableType, reportUnknownArgumentType]\n</code></pre>"},{"location":"api/#dashboard_compiler.dashboard_compiler.render","title":"render","text":"<pre><code>render(dashboard)\n</code></pre> <p>Render a Dashboard object into its Kibana JSON representation.</p> <p>Parameters:</p> Name Type Description Default <code>dashboard</code> <code>Dashboard</code> <p>The Dashboard object to render.</p> required <p>Returns:</p> Name Type Description <code>KbnDashboard</code> <code>KbnDashboard</code> <p>The rendered Kibana dashboard view model.</p> Source code in <code>src/dashboard_compiler/dashboard_compiler.py</code> <pre><code>def render(dashboard: Dashboard) -&gt; KbnDashboard:\n    \"\"\"Render a Dashboard object into its Kibana JSON representation.\n\n    Args:\n        dashboard (Dashboard): The Dashboard object to render.\n\n    Returns:\n        KbnDashboard: The rendered Kibana dashboard view model.\n\n    \"\"\"\n    return compile_dashboard(dashboard)\n</code></pre>"},{"location":"api/#dashboard_compiler.dashboard_compiler.dump","title":"dump","text":"<pre><code>dump(dashboards, path)\n</code></pre> <p>Dump Dashboard objects to a YAML file.</p> <p>Parameters:</p> Name Type Description Default <code>dashboards</code> <code>list[Dashboard]</code> <p>The Dashboard objects to dump.</p> required <code>path</code> <code>str</code> <p>The path where the YAML file will be saved.</p> required Source code in <code>src/dashboard_compiler/dashboard_compiler.py</code> <pre><code>def dump(dashboards: list[Dashboard], path: str) -&gt; None:\n    \"\"\"Dump Dashboard objects to a YAML file.\n\n    Args:\n        dashboards (list[Dashboard]): The Dashboard objects to dump.\n        path (str): The path where the YAML file will be saved.\n\n    \"\"\"\n    dashboard_path = Path(path)\n\n    with dashboard_path.open(mode='w', encoding='utf-8') as file:\n        dashboards_as_list = [dashboard.model_dump(serialize_as_any=True, exclude_none=True) for dashboard in dashboards]\n        config = {'dashboards': dashboards_as_list}\n        yaml.dump(config, file, default_flow_style=False, sort_keys=False)\n</code></pre>"},{"location":"api/controls/","title":"Controls","text":"<p>Control configuration and compilation.</p>"},{"location":"api/controls/#control-settings","title":"Control Settings","text":""},{"location":"api/controls/#dashboard_compiler.controls.config.ControlSettings","title":"ControlSettings","text":"<p>               Bases: <code>BaseCfgModel</code></p> <p>Settings for controls in a dashboard, defining their behavior and appearance.</p> Source code in <code>src/dashboard_compiler/controls/config.py</code> <pre><code>class ControlSettings(BaseCfgModel):\n    \"\"\"Settings for controls in a dashboard, defining their behavior and appearance.\"\"\"\n\n    label_position: Literal['inline', 'above'] | None = Field(default=None)\n    \"\"\"The position of the control label, either 'inline' or 'above'. Defaults to 'inline' if not set.\"\"\"\n\n    apply_global_filters: bool | None = Field(default=None)\n    \"\"\"Whether to apply global filters to the control. Defaults to true if not set.\"\"\"\n\n    apply_global_timerange: bool | None = Field(default=None)\n    \"\"\"Whether to apply the global time range to the control. Defaults to true if not set.\"\"\"\n\n    ignore_zero_results: bool | None = Field(default=None)\n    \"\"\"Whether to ignore controls that return zero results. Defaults to true if not set.\"\"\"\n\n    chain_controls: bool | None = Field(default=None)\n    \"\"\"Whether to chain controls together, allowing one control's selection to filter the next. Defaults to true if not set.\"\"\"\n\n    click_to_apply: bool | None = Field(default=None)\n    \"\"\"Whether to require users to click the apply button before applying changes. Defaults to false if not set.\"\"\"\n</code></pre>"},{"location":"api/controls/#dashboard_compiler.controls.config.ControlSettings.apply_global_filters","title":"apply_global_filters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>apply_global_filters = Field(default=None)\n</code></pre> <p>Whether to apply global filters to the control. Defaults to true if not set.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.ControlSettings.apply_global_timerange","title":"apply_global_timerange  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>apply_global_timerange = Field(default=None)\n</code></pre> <p>Whether to apply the global time range to the control. Defaults to true if not set.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.ControlSettings.chain_controls","title":"chain_controls  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>chain_controls = Field(default=None)\n</code></pre> <p>Whether to chain controls together, allowing one control's selection to filter the next. Defaults to true if not set.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.ControlSettings.click_to_apply","title":"click_to_apply  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>click_to_apply = Field(default=None)\n</code></pre> <p>Whether to require users to click the apply button before applying changes. Defaults to false if not set.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.ControlSettings.ignore_zero_results","title":"ignore_zero_results  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>ignore_zero_results = Field(default=None)\n</code></pre> <p>Whether to ignore controls that return zero results. Defaults to true if not set.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.ControlSettings.label_position","title":"label_position  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>label_position = Field(default=None)\n</code></pre> <p>The position of the control label, either 'inline' or 'above'. Defaults to 'inline' if not set.</p>"},{"location":"api/controls/#base-control","title":"Base Control","text":""},{"location":"api/controls/#dashboard_compiler.controls.config.BaseControl","title":"BaseControl","text":"<p>               Bases: <code>BaseCfgModel</code></p> <p>Base class for defining controls within the YAML schema.</p> <p>These controls are used to filter data or adjust visualization settings on a dashboard.</p> Source code in <code>src/dashboard_compiler/controls/config.py</code> <pre><code>class BaseControl(BaseCfgModel):\n    \"\"\"Base class for defining controls within the YAML schema.\n\n    These controls are used to filter data or adjust visualization settings\n    on a dashboard.\n    \"\"\"\n\n    id: str | None = Field(default=None)\n    \"\"\"A unique identifier for the control. If not provided, one may be generated.\"\"\"\n\n    width: Literal['small', 'medium', 'large'] | None = Field(default=None)\n    \"\"\"The width of the control in the dashboard layout. If not set, defaults to 'medium'.\"\"\"\n\n    label: str | None = Field(default=None)\n    \"\"\"The display label for the control. If not provided, a label may be inferred.\"\"\"\n</code></pre>"},{"location":"api/controls/#dashboard_compiler.controls.config.BaseControl.id","title":"id  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>id = Field(default=None)\n</code></pre> <p>A unique identifier for the control. If not provided, one may be generated.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.BaseControl.label","title":"label  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>label = Field(default=None)\n</code></pre> <p>The display label for the control. If not provided, a label may be inferred.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.BaseControl.width","title":"width  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>width = Field(default=None)\n</code></pre> <p>The width of the control in the dashboard layout. If not set, defaults to 'medium'.</p>"},{"location":"api/controls/#options-list-control","title":"Options List Control","text":""},{"location":"api/controls/#dashboard_compiler.controls.config.OptionsListControl","title":"OptionsListControl","text":"<p>               Bases: <code>BaseControl</code></p> <p>Represents an Options List control.</p> <p>This control allows users to select one or more values from a list to filter data.</p> Source code in <code>src/dashboard_compiler/controls/config.py</code> <pre><code>class OptionsListControl(BaseControl):\n    \"\"\"Represents an Options List control.\n\n    This control allows users to select one or more values from a list\n    to filter data.\n    \"\"\"\n\n    type: Literal['options'] = 'options'\n\n    field: str = Field(...)\n    \"\"\"The name of the field within the data view that the control is associated with.\"\"\"\n\n    fill_width: bool = Field(default=False)\n    \"\"\"If true, the control will automatically adjust its width to fill available space.\"\"\"\n\n    match_technique: MatchTechnique | None = Field(default=None, strict=False)  # strict=False for enum coercion\n    \"\"\"The search technique used for filtering options (e.g., 'prefix', 'contains', 'exact').\"\"\"\n\n    wait_for_results: bool = Field(default=False)\n    \"\"\"If set to true, delay the display of the list of values until the results are fully loaded.\"\"\"\n\n    preselected: list[str] = Field(default_factory=list)\n    \"\"\"A list of options that are preselected when the control is initialized.\"\"\"\n\n    singular: bool = Field(default=False)\n    \"\"\"If true, the control allows only a single selection from the options list.\"\"\"\n\n    data_view: str = Field(...)\n    \"\"\"The ID or title of the data view (index pattern) the control operates on.\"\"\"\n</code></pre>"},{"location":"api/controls/#dashboard_compiler.controls.config.OptionsListControl.data_view","title":"data_view  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>data_view = Field(...)\n</code></pre> <p>The ID or title of the data view (index pattern) the control operates on.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.OptionsListControl.field","title":"field  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>field = Field(...)\n</code></pre> <p>The name of the field within the data view that the control is associated with.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.OptionsListControl.fill_width","title":"fill_width  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>fill_width = Field(default=False)\n</code></pre> <p>If true, the control will automatically adjust its width to fill available space.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.OptionsListControl.match_technique","title":"match_technique  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>match_technique = Field(default=None, strict=False)\n</code></pre> <p>The search technique used for filtering options (e.g., 'prefix', 'contains', 'exact').</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.OptionsListControl.preselected","title":"preselected  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>preselected = Field(default_factory=list)\n</code></pre> <p>A list of options that are preselected when the control is initialized.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.OptionsListControl.singular","title":"singular  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>singular = Field(default=False)\n</code></pre> <p>If true, the control allows only a single selection from the options list.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.OptionsListControl.wait_for_results","title":"wait_for_results  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>wait_for_results = Field(default=False)\n</code></pre> <p>If set to true, delay the display of the list of values until the results are fully loaded.</p>"},{"location":"api/controls/#range-slider-control","title":"Range Slider Control","text":""},{"location":"api/controls/#dashboard_compiler.controls.config.RangeSliderControl","title":"RangeSliderControl","text":"<p>               Bases: <code>BaseControl</code></p> <p>Represents a Range Slider control.</p> <p>This control allows users to select a range of numeric or date values to filter data.</p> Source code in <code>src/dashboard_compiler/controls/config.py</code> <pre><code>class RangeSliderControl(BaseControl):\n    \"\"\"Represents a Range Slider control.\n\n    This control allows users to select a range of numeric or date values\n    to filter data.\n    \"\"\"\n\n    type: Literal['range'] = 'range'\n\n    fill_width: bool = Field(default=False)\n    \"\"\"If true, the control will automatically adjust its width to fill available space.\"\"\"\n\n    field: str = Field(...)\n    \"\"\"The name of the field within the data view that the control is associated with.\"\"\"\n\n    step: int | float | None = Field(default=None)\n    \"\"\"The step value for the range, defining the granularity of selections.\"\"\"\n\n    data_view: str = Field(...)\n    \"\"\"The ID or title of the data view (index pattern) the control operates on.\"\"\"\n</code></pre>"},{"location":"api/controls/#dashboard_compiler.controls.config.RangeSliderControl.data_view","title":"data_view  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>data_view = Field(...)\n</code></pre> <p>The ID or title of the data view (index pattern) the control operates on.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.RangeSliderControl.field","title":"field  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>field = Field(...)\n</code></pre> <p>The name of the field within the data view that the control is associated with.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.RangeSliderControl.fill_width","title":"fill_width  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>fill_width = Field(default=False)\n</code></pre> <p>If true, the control will automatically adjust its width to fill available space.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.RangeSliderControl.step","title":"step  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>step = Field(default=None)\n</code></pre> <p>The step value for the range, defining the granularity of selections.</p>"},{"location":"api/controls/#time-slider-control","title":"Time Slider Control","text":""},{"location":"api/controls/#dashboard_compiler.controls.config.TimeSliderControl","title":"TimeSliderControl","text":"<p>               Bases: <code>BaseControl</code></p> <p>Represents a Time Slider control.</p> <p>This control allows users to select a time range to filter data by adjusting start and end offsets within the global time range.</p> Source code in <code>src/dashboard_compiler/controls/config.py</code> <pre><code>class TimeSliderControl(BaseControl):\n    \"\"\"Represents a Time Slider control.\n\n    This control allows users to select a time range to filter data\n    by adjusting start and end offsets within the global time range.\n    \"\"\"\n\n    type: Literal['time'] = 'time'\n\n    start_offset: float | None = Field(default=None, ge=0, le=1)\n    \"\"\"The start offset for the time range as a %, defining the beginning of the selection.\"\"\"\n\n    end_offset: float | None = Field(default=None, ge=0, le=1)\n    \"\"\"The end offset for the time range as a %, defining the end of the selection.\"\"\"\n\n    @model_validator(mode='after')\n    def validate_offsets(self) -&gt; Self:\n        \"\"\"Ensure that start_offset is less than end_offset.\"\"\"\n        if self.start_offset is not None and self.end_offset is not None and self.start_offset &gt; self.end_offset:\n            msg = 'start_offset must be less than end_offset'\n            raise ValueError(msg)\n\n        return self\n</code></pre>"},{"location":"api/controls/#dashboard_compiler.controls.config.TimeSliderControl.end_offset","title":"end_offset  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>end_offset = Field(default=None, ge=0, le=1)\n</code></pre> <p>The end offset for the time range as a %, defining the end of the selection.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.TimeSliderControl.start_offset","title":"start_offset  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>start_offset = Field(default=None, ge=0, le=1)\n</code></pre> <p>The start offset for the time range as a %, defining the beginning of the selection.</p>"},{"location":"api/controls/#dashboard_compiler.controls.config.TimeSliderControl.validate_offsets","title":"validate_offsets","text":"<pre><code>validate_offsets()\n</code></pre> <p>Ensure that start_offset is less than end_offset.</p> Source code in <code>src/dashboard_compiler/controls/config.py</code> <pre><code>@model_validator(mode='after')\ndef validate_offsets(self) -&gt; Self:\n    \"\"\"Ensure that start_offset is less than end_offset.\"\"\"\n    if self.start_offset is not None and self.end_offset is not None and self.start_offset &gt; self.end_offset:\n        msg = 'start_offset must be less than end_offset'\n        raise ValueError(msg)\n\n    return self\n</code></pre>"},{"location":"api/dashboard/","title":"Dashboard","text":"<p>Dashboard configuration and compilation.</p>"},{"location":"api/dashboard/#configuration-model","title":"Configuration Model","text":""},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard","title":"Dashboard","text":"<p>               Bases: <code>BaseCfgModel</code></p> <p>A dashboard with filters, controls, panels and more.</p> Source code in <code>src/dashboard_compiler/dashboard/config.py</code> <pre><code>class Dashboard(BaseCfgModel):\n    \"\"\"A dashboard with filters, controls, panels and more.\"\"\"\n\n    name: str = Field(...)\n    \"\"\"The name of the dashboard.\"\"\"\n\n    id: str | None = Field(default=None)\n    \"\"\"An optional unique identifier for the dashboard, useful for giving the generated dashboard a specific ID.\"\"\"\n\n    description: str | None = Field(default=None)\n    \"\"\"A brief description of the dashboard's purpose or content.\"\"\"\n\n    settings: DashboardSettings = Field(default_factory=DashboardSettings)\n\n    data_view: str | None = Field(default=None)\n    \"\"\"The default data view (index pattern) used by items in this dashboard.\"\"\"\n\n    query: LegacyQueryTypes | None = Field(default=None)\n    \"\"\"A query (KQL or Lucene) applied to the dashboard.\"\"\"\n\n    filters: list[FilterTypes] = Field(default_factory=list)\n    \"\"\"A list of filters applied to the dashboard.\"\"\"\n\n    controls: list[ControlTypes] = Field(default_factory=list)\n    \"\"\"A list of Controls for the dashboard.\"\"\"\n\n    panels: list[PanelTypes] = Field(default_factory=list)\n    \"\"\"A list of Panels defining the content and layout of the dashboard.\"\"\"\n\n    def add_filter(self, filter: FilterTypes) -&gt; Self:  # noqa: A002\n        \"\"\"Add a filter to the dashboard's global filters list.\n\n        Args:\n            filter: The filter object to add.\n\n        Returns:\n            Self: The current instance of the Dashboard for method chaining.\n\n        \"\"\"\n        self.filters.append(filter)\n\n        return self\n\n    def add_control(self, control: ControlTypes) -&gt; Self:\n        \"\"\"Add a control panel configuration to the dashboard's controls list.\n\n        Args:\n            control: The control object to add.\n\n        Returns:\n            Self: The current instance of the Dashboard for method chaining.\n\n        \"\"\"\n        self.controls.append(control)\n\n        return self\n\n    def add_panel(self, panel: PanelTypes) -&gt; Self:\n        \"\"\"Add a panel object to the dashboard's panels list.\n\n        Args:\n            panel: The panel object to add.\n\n        Returns:\n            Self: The current instance of the Dashboard for method chaining.\n\n        \"\"\"\n        self.panels.append(panel)\n\n        return self\n\n    @model_validator(mode='after')\n    def validate_no_overlapping_panels(self) -&gt; Self:\n        \"\"\"Validate that no panels overlap on the grid.\n\n        Returns:\n            Self: The current instance of the Dashboard.\n\n        Raises:\n            ValueError: If any panels overlap.\n\n        \"\"\"\n        for i, panel1 in enumerate(self.panels):\n            for panel2 in self.panels[i + 1 :]:\n                if panel1.grid.overlaps_with(panel2.grid):\n                    panel1_title = getattr(panel1, 'title', 'Untitled')\n                    panel2_title = getattr(panel2, 'title', 'Untitled')\n                    msg = (\n                        f'Panel \"{panel1_title}\" at (x={panel1.grid.x}, y={panel1.grid.y}, '\n                        f'w={panel1.grid.w}, h={panel1.grid.h}) overlaps with '\n                        f'panel \"{panel2_title}\" at (x={panel2.grid.x}, y={panel2.grid.y}, '\n                        f'w={panel2.grid.w}, h={panel2.grid.h})'\n                    )\n                    raise ValueError(msg)\n        return self\n</code></pre>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.controls","title":"controls  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>controls = Field(default_factory=list)\n</code></pre> <p>A list of Controls for the dashboard.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.data_view","title":"data_view  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>data_view = Field(default=None)\n</code></pre> <p>The default data view (index pattern) used by items in this dashboard.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.description","title":"description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>description = Field(default=None)\n</code></pre> <p>A brief description of the dashboard's purpose or content.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.filters","title":"filters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>filters = Field(default_factory=list)\n</code></pre> <p>A list of filters applied to the dashboard.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.id","title":"id  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>id = Field(default=None)\n</code></pre> <p>An optional unique identifier for the dashboard, useful for giving the generated dashboard a specific ID.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name = Field(...)\n</code></pre> <p>The name of the dashboard.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.panels","title":"panels  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>panels = Field(default_factory=list)\n</code></pre> <p>A list of Panels defining the content and layout of the dashboard.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.query","title":"query  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>query = Field(default=None)\n</code></pre> <p>A query (KQL or Lucene) applied to the dashboard.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.add_control","title":"add_control","text":"<pre><code>add_control(control)\n</code></pre> <p>Add a control panel configuration to the dashboard's controls list.</p> <p>Parameters:</p> Name Type Description Default <code>control</code> <code>ControlTypes</code> <p>The control object to add.</p> required <p>Returns:</p> Name Type Description <code>Self</code> <code>Self</code> <p>The current instance of the Dashboard for method chaining.</p> Source code in <code>src/dashboard_compiler/dashboard/config.py</code> <pre><code>def add_control(self, control: ControlTypes) -&gt; Self:\n    \"\"\"Add a control panel configuration to the dashboard's controls list.\n\n    Args:\n        control: The control object to add.\n\n    Returns:\n        Self: The current instance of the Dashboard for method chaining.\n\n    \"\"\"\n    self.controls.append(control)\n\n    return self\n</code></pre>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.add_filter","title":"add_filter","text":"<pre><code>add_filter(filter)\n</code></pre> <p>Add a filter to the dashboard's global filters list.</p> <p>Parameters:</p> Name Type Description Default <code>filter</code> <code>FilterTypes</code> <p>The filter object to add.</p> required <p>Returns:</p> Name Type Description <code>Self</code> <code>Self</code> <p>The current instance of the Dashboard for method chaining.</p> Source code in <code>src/dashboard_compiler/dashboard/config.py</code> <pre><code>def add_filter(self, filter: FilterTypes) -&gt; Self:  # noqa: A002\n    \"\"\"Add a filter to the dashboard's global filters list.\n\n    Args:\n        filter: The filter object to add.\n\n    Returns:\n        Self: The current instance of the Dashboard for method chaining.\n\n    \"\"\"\n    self.filters.append(filter)\n\n    return self\n</code></pre>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.add_panel","title":"add_panel","text":"<pre><code>add_panel(panel)\n</code></pre> <p>Add a panel object to the dashboard's panels list.</p> <p>Parameters:</p> Name Type Description Default <code>panel</code> <code>PanelTypes</code> <p>The panel object to add.</p> required <p>Returns:</p> Name Type Description <code>Self</code> <code>Self</code> <p>The current instance of the Dashboard for method chaining.</p> Source code in <code>src/dashboard_compiler/dashboard/config.py</code> <pre><code>def add_panel(self, panel: PanelTypes) -&gt; Self:\n    \"\"\"Add a panel object to the dashboard's panels list.\n\n    Args:\n        panel: The panel object to add.\n\n    Returns:\n        Self: The current instance of the Dashboard for method chaining.\n\n    \"\"\"\n    self.panels.append(panel)\n\n    return self\n</code></pre>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.config.Dashboard.validate_no_overlapping_panels","title":"validate_no_overlapping_panels","text":"<pre><code>validate_no_overlapping_panels()\n</code></pre> <p>Validate that no panels overlap on the grid.</p> <p>Returns:</p> Name Type Description <code>Self</code> <code>Self</code> <p>The current instance of the Dashboard.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If any panels overlap.</p> Source code in <code>src/dashboard_compiler/dashboard/config.py</code> <pre><code>@model_validator(mode='after')\ndef validate_no_overlapping_panels(self) -&gt; Self:\n    \"\"\"Validate that no panels overlap on the grid.\n\n    Returns:\n        Self: The current instance of the Dashboard.\n\n    Raises:\n        ValueError: If any panels overlap.\n\n    \"\"\"\n    for i, panel1 in enumerate(self.panels):\n        for panel2 in self.panels[i + 1 :]:\n            if panel1.grid.overlaps_with(panel2.grid):\n                panel1_title = getattr(panel1, 'title', 'Untitled')\n                panel2_title = getattr(panel2, 'title', 'Untitled')\n                msg = (\n                    f'Panel \"{panel1_title}\" at (x={panel1.grid.x}, y={panel1.grid.y}, '\n                    f'w={panel1.grid.w}, h={panel1.grid.h}) overlaps with '\n                    f'panel \"{panel2_title}\" at (x={panel2.grid.x}, y={panel2.grid.y}, '\n                    f'w={panel2.grid.w}, h={panel2.grid.h})'\n                )\n                raise ValueError(msg)\n    return self\n</code></pre>"},{"location":"api/dashboard/#compilation","title":"Compilation","text":""},{"location":"api/dashboard/#dashboard_compiler.dashboard.compile","title":"compile","text":"<p>Compile a Dashboard into its Kibana view model representation.</p>"},{"location":"api/dashboard/#dashboard_compiler.dashboard.compile.compile_dashboard","title":"compile_dashboard","text":"<pre><code>compile_dashboard(dashboard)\n</code></pre> <p>Compile a Dashboard object into its Kibana view model representation.</p> <p>Parameters:</p> Name Type Description Default <code>dashboard</code> <code>Dashboard</code> <p>The Dashboard object to compile.</p> required <p>Returns:</p> Name Type Description <code>KbnDashboard</code> <code>KbnDashboard</code> <p>The compiled Kibana dashboard view model.</p> Source code in <code>src/dashboard_compiler/dashboard/compile.py</code> <pre><code>def compile_dashboard(dashboard: Dashboard) -&gt; KbnDashboard:\n    \"\"\"Compile a Dashboard object into its Kibana view model representation.\n\n    Args:\n        dashboard (Dashboard): The Dashboard object to compile.\n\n    Returns:\n        KbnDashboard: The compiled Kibana dashboard view model.\n\n    \"\"\"\n    kbn_dashboard_id = dashboard.id or stable_id_generator([dashboard.name])\n\n    references, attributes = compile_dashboard_attributes(dashboard)\n\n    return KbnDashboard(\n        attributes=attributes,\n        coreMigrationVersion=CORE_MIGRATION_VERSION,\n        created_at='2023-10-01T00:00:00Z',\n        created_by='admin',\n        id=kbn_dashboard_id,\n        managed=False,\n        references=references,\n        type='dashboard',\n        typeMigrationVersion=TYPE_MIGRATION_VERSION,\n        updated_at='2023-10-01T00:00:00Z',\n        updated_by='admin',\n        version='1',\n    )\n</code></pre>"},{"location":"api/filters/","title":"Filters","text":"<p>Filter configuration and compilation.</p>"},{"location":"api/filters/#base-filter","title":"Base Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.BaseFilter","title":"BaseFilter","text":"<p>               Bases: <code>BaseCfgModel</code></p> <p>Base class for all filter configurations in the Config schema.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class BaseFilter(BaseCfgModel):\n    \"\"\"Base class for all filter configurations in the Config schema.\"\"\"\n\n    alias: str | None = Field(None)\n    \"\"\"An optional alias for the filter, used for display purposes.\"\"\"\n\n    disabled: bool | None = Field(None)\n    \"\"\"Indicates whether the filter is disabled. If `true`, the filter will not be applied.\"\"\"\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.BaseFilter.alias","title":"alias  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>alias = Field(None)\n</code></pre> <p>An optional alias for the filter, used for display purposes.</p>"},{"location":"api/filters/#dashboard_compiler.filters.config.BaseFilter.disabled","title":"disabled  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>disabled = Field(None)\n</code></pre> <p>Indicates whether the filter is disabled. If <code>true</code>, the filter will not be applied.</p>"},{"location":"api/filters/#exists-filter","title":"Exists Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.ExistsFilter","title":"ExistsFilter","text":"<p>               Bases: <code>BaseFilter</code></p> <p>Represents an 'exists' filter configuration in the Config schema.</p> <p>This filter checks for the existence or non-existence of a specific field.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class ExistsFilter(BaseFilter):\n    \"\"\"Represents an 'exists' filter configuration in the Config schema.\n\n    This filter checks for the existence or non-existence of a specific field.\n    \"\"\"\n\n    exists: str = Field(...)\n    \"\"\"The field name to check for existence. If the field exists in a document, it will match that document.\"\"\"\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.ExistsFilter.exists","title":"exists  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>exists = Field(...)\n</code></pre> <p>The field name to check for existence. If the field exists in a document, it will match that document.</p>"},{"location":"api/filters/#custom-filter","title":"Custom Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.CustomFilter","title":"CustomFilter","text":"<p>               Bases: <code>BaseFilter</code></p> <p>Represents a custom filter configuration in the Config schema.</p> <p>This filter allows for custom query definitions that do not fit into the standard filters.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class CustomFilter(BaseFilter):\n    \"\"\"Represents a custom filter configuration in the Config schema.\n\n    This filter allows for custom query definitions that do not fit into the standard filters.\n    \"\"\"\n\n    dsl: dict[str, Any] = Field(...)\n    \"\"\"The custom query definition. This should be a valid Elasticsearch query object.\"\"\"\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.CustomFilter.dsl","title":"dsl  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dsl = Field(...)\n</code></pre> <p>The custom query definition. This should be a valid Elasticsearch query object.</p>"},{"location":"api/filters/#phrase-filter","title":"Phrase Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.PhraseFilter","title":"PhraseFilter","text":"<p>               Bases: <code>BaseFilter</code></p> <p>Represents a 'phrase' filter configuration in the Config schema.</p> <p>This filter matches documents where a specific field contains an exact phrase.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class PhraseFilter(BaseFilter):\n    \"\"\"Represents a 'phrase' filter configuration in the Config schema.\n\n    This filter matches documents where a specific field contains an exact phrase.\n    \"\"\"\n\n    field: str = Field(...)\n    \"\"\"The field name to apply the filter to.\"\"\"\n\n    equals: str = Field(...)\n    \"\"\"The exact phrase value that the field must match.\"\"\"\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.PhraseFilter.equals","title":"equals  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>equals = Field(...)\n</code></pre> <p>The exact phrase value that the field must match.</p>"},{"location":"api/filters/#dashboard_compiler.filters.config.PhraseFilter.field","title":"field  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>field = Field(...)\n</code></pre> <p>The field name to apply the filter to.</p>"},{"location":"api/filters/#phrases-filter","title":"Phrases Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.PhrasesFilter","title":"PhrasesFilter","text":"<p>               Bases: <code>BaseFilter</code></p> <p>Represents a 'phrases' filter configuration in the Config schema.</p> <p>This filter matches documents where a specific field contains one or more of the specified phrases.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class PhrasesFilter(BaseFilter):\n    \"\"\"Represents a 'phrases' filter configuration in the Config schema.\n\n    This filter matches documents where a specific field contains one or more\n    of the specified phrases.\n    \"\"\"\n\n    field: str = Field(...)\n    \"\"\"The field name to apply the filter to.\"\"\"\n\n    in_list: list[str] = Field(..., alias='in')\n    \"\"\"A list of phrases. Documents must match at least one of these phrases in the specified field.\"\"\"\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.PhrasesFilter.field","title":"field  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>field = Field(...)\n</code></pre> <p>The field name to apply the filter to.</p>"},{"location":"api/filters/#dashboard_compiler.filters.config.PhrasesFilter.in_list","title":"in_list  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>in_list = Field(..., alias='in')\n</code></pre> <p>A list of phrases. Documents must match at least one of these phrases in the specified field.</p>"},{"location":"api/filters/#range-filter","title":"Range Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.RangeFilter","title":"RangeFilter","text":"<p>               Bases: <code>BaseFilter</code></p> <p>Represents a 'range' filter configuration in the Config schema.</p> <p>This filter matches documents where a numeric or date field falls within a specified range.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class RangeFilter(BaseFilter):\n    \"\"\"Represents a 'range' filter configuration in the Config schema.\n\n    This filter matches documents where a numeric or date field falls within a specified range.\n    \"\"\"\n\n    field: str = Field(...)\n    \"\"\"The field name to apply the filter to.\"\"\"\n\n    gte: str | None = Field(default=None)\n    \"\"\"Greater than or equal to value for the range filter.\"\"\"\n\n    lte: str | None = Field(default=None)\n    \"\"\"Less than or equal to value for the range filter.\"\"\"\n\n    lt: str | None = Field(default=None)\n    \"\"\"Less than value for the range filter.\"\"\"\n\n    gt: str | None = Field(default=None)\n    \"\"\"Greater than value for the range filter.\"\"\"\n\n    @model_validator(mode='after')\n    def at_least_one_value(self) -&gt; Self:\n        \"\"\"Ensure at least one of gte, lte, gt, or lt is provided.\"\"\"\n        if not any([self.lte, self.gte, self.gt, self.lt]):\n            msg = \"At least one of 'gte', 'lte', 'gt', or 'lt' must be provided for RangeFilter.\"\n            raise ValueError(msg)\n        return self\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.RangeFilter.field","title":"field  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>field = Field(...)\n</code></pre> <p>The field name to apply the filter to.</p>"},{"location":"api/filters/#dashboard_compiler.filters.config.RangeFilter.gt","title":"gt  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>gt = Field(default=None)\n</code></pre> <p>Greater than value for the range filter.</p>"},{"location":"api/filters/#dashboard_compiler.filters.config.RangeFilter.gte","title":"gte  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>gte = Field(default=None)\n</code></pre> <p>Greater than or equal to value for the range filter.</p>"},{"location":"api/filters/#dashboard_compiler.filters.config.RangeFilter.lt","title":"lt  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>lt = Field(default=None)\n</code></pre> <p>Less than value for the range filter.</p>"},{"location":"api/filters/#dashboard_compiler.filters.config.RangeFilter.lte","title":"lte  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>lte = Field(default=None)\n</code></pre> <p>Less than or equal to value for the range filter.</p>"},{"location":"api/filters/#dashboard_compiler.filters.config.RangeFilter.at_least_one_value","title":"at_least_one_value","text":"<pre><code>at_least_one_value()\n</code></pre> <p>Ensure at least one of gte, lte, gt, or lt is provided.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>@model_validator(mode='after')\ndef at_least_one_value(self) -&gt; Self:\n    \"\"\"Ensure at least one of gte, lte, gt, or lt is provided.\"\"\"\n    if not any([self.lte, self.gte, self.gt, self.lt]):\n        msg = \"At least one of 'gte', 'lte', 'gt', or 'lt' must be provided for RangeFilter.\"\n        raise ValueError(msg)\n    return self\n</code></pre>"},{"location":"api/filters/#negate-filter","title":"Negate Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.NegateFilter","title":"NegateFilter","text":"<p>               Bases: <code>BaseCfgModel</code></p> <p>Represents a negated filter configuration in the Config schema.</p> <p>This allows for excluding documents that match the nested filter.</p> <p>Note: Unlike other filter types, NegateFilter extends BaseCfgModel directly rather than BaseFilter, so it does not support 'alias' or 'disabled' fields. This is intentional - negation is a logical modifier that wraps another filter, and aliasing/disabling should be applied to the wrapped filter itself.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class NegateFilter(BaseCfgModel):\n    \"\"\"Represents a negated filter configuration in the Config schema.\n\n    This allows for excluding documents that match the nested filter.\n\n    Note: Unlike other filter types, NegateFilter extends BaseCfgModel directly\n    rather than BaseFilter, so it does not support 'alias' or 'disabled' fields.\n    This is intentional - negation is a logical modifier that wraps another filter,\n    and aliasing/disabling should be applied to the wrapped filter itself.\n    \"\"\"\n\n    not_filter: 'FilterTypes' = Field(..., validation_alias='not')\n    \"\"\"The filter to negate. Can be a phrase, phrases, or range filter.\"\"\"\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.NegateFilter.not_filter","title":"not_filter  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>not_filter = Field(..., validation_alias='not')\n</code></pre> <p>The filter to negate. Can be a phrase, phrases, or range filter.</p>"},{"location":"api/filters/#and-filter","title":"And Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.AndFilter","title":"AndFilter","text":"<p>               Bases: <code>BaseFilter</code></p> <p>Represents an 'and' filter configuration in the Config schema.</p> <p>This filter matches documents that satisfy all of the specified filters.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class AndFilter(BaseFilter):\n    \"\"\"Represents an 'and' filter configuration in the Config schema.\n\n    This filter matches documents that satisfy all of the specified filters.\n    \"\"\"\n\n    and_filters: list['FilterTypes'] = Field(..., alias='and')\n    \"\"\"A list of filters. All filters must match for a document to be included.\"\"\"\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.AndFilter.and_filters","title":"and_filters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>and_filters = Field(..., alias='and')\n</code></pre> <p>A list of filters. All filters must match for a document to be included.</p>"},{"location":"api/filters/#or-filter","title":"Or Filter","text":""},{"location":"api/filters/#dashboard_compiler.filters.config.OrFilter","title":"OrFilter","text":"<p>               Bases: <code>BaseFilter</code></p> <p>Represents an 'or' filter configuration in the Config schema.</p> <p>This filter matches documents that satisfy at least one of the specified filters.</p> Source code in <code>src/dashboard_compiler/filters/config.py</code> <pre><code>class OrFilter(BaseFilter):\n    \"\"\"Represents an 'or' filter configuration in the Config schema.\n\n    This filter matches documents that satisfy at least one of the specified filters.\n    \"\"\"\n\n    or_filters: list['FilterTypes'] = Field(..., alias='or')\n    \"\"\"A list of filters. At least one filter must match for a document to be included.\"\"\"\n</code></pre>"},{"location":"api/filters/#dashboard_compiler.filters.config.OrFilter.or_filters","title":"or_filters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>or_filters = Field(..., alias='or')\n</code></pre> <p>A list of filters. At least one filter must match for a document to be included.</p>"},{"location":"api/panels/","title":"Panels","text":"<p>Panel types and compilation logic.</p>"},{"location":"api/panels/#base-panel-configuration","title":"Base Panel Configuration","text":""},{"location":"api/panels/#dashboard_compiler.panels.base.BasePanel","title":"BasePanel","text":"<p>               Bases: <code>BaseCfgModel</code></p> <p>Base model for all panel types defined.</p> <p>All specific panel types (e.g., Markdown, Search, Lens) inherit from this base class to include common configuration fields.</p> Source code in <code>src/dashboard_compiler/panels/base.py</code> <pre><code>class BasePanel(BaseCfgModel):\n    \"\"\"Base model for all panel types defined.\n\n    All specific panel types (e.g., Markdown, Search, Lens) inherit from this base class\n    to include common configuration fields.\n    \"\"\"\n\n    id: str | None = Field(\n        default=None,\n    )\n    \"\"\"A unique identifier for the panel. If not provided, one may be generated during compilation.\"\"\"\n\n    title: str = Field('')\n    \"\"\"The title displayed on the panel header. Can be an empty string.\"\"\"\n\n    hide_title: bool | None = Field(\n        default=None,\n    )\n    \"\"\"If `true`, the panel title will be hidden. Defaults to `false` (title is shown).\"\"\"\n\n    description: str | None = Field(default=None)\n    \"\"\"A brief description of the panel's content or purpose. Defaults to an empty string.\"\"\"\n\n    grid: Grid = Field(...)\n    \"\"\"Defines the panel's position and size on the dashboard grid.\"\"\"\n</code></pre>"},{"location":"api/panels/#dashboard_compiler.panels.base.BasePanel.description","title":"description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>description = Field(default=None)\n</code></pre> <p>A brief description of the panel's content or purpose. Defaults to an empty string.</p>"},{"location":"api/panels/#dashboard_compiler.panels.base.BasePanel.grid","title":"grid  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>grid = Field(...)\n</code></pre> <p>Defines the panel's position and size on the dashboard grid.</p>"},{"location":"api/panels/#dashboard_compiler.panels.base.BasePanel.hide_title","title":"hide_title  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>hide_title = Field(default=None)\n</code></pre> <p>If <code>true</code>, the panel title will be hidden. Defaults to <code>false</code> (title is shown).</p>"},{"location":"api/panels/#dashboard_compiler.panels.base.BasePanel.id","title":"id  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>id = Field(default=None)\n</code></pre> <p>A unique identifier for the panel. If not provided, one may be generated during compilation.</p>"},{"location":"api/panels/#dashboard_compiler.panels.base.BasePanel.title","title":"title  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>title = Field('')\n</code></pre> <p>The title displayed on the panel header. Can be an empty string.</p>"},{"location":"api/panels/#markdown-panels","title":"Markdown Panels","text":"<p>Display rich text content using markdown syntax.</p>"},{"location":"api/panels/#api-reference","title":"API Reference","text":"<p>For configuration details and examples, see the Markdown Panel Configuration.</p>"},{"location":"api/panels/#dashboard_compiler.panels.markdown.config.MarkdownPanel","title":"MarkdownPanel","text":"<p>               Bases: <code>BasePanel</code></p> <p>Represents a Markdown panel configuration.</p> <p>Markdown panels are used to display rich text content using Markdown syntax.</p> Source code in <code>src/dashboard_compiler/panels/markdown/config.py</code> <pre><code>class MarkdownPanel(BasePanel):\n    \"\"\"Represents a Markdown panel configuration.\n\n    Markdown panels are used to display rich text content using Markdown syntax.\n    \"\"\"\n\n    type: Literal['markdown'] = 'markdown'\n    content: str = Field(..., description='The Markdown content to be displayed in the panel.')\n    font_size: int | None = Field(\n        default=None,\n        description='The font size for the Markdown content, in pixels. Defaults to 12 if not set.',\n    )\n    links_in_new_tab: bool | None = Field(\n        default=None,\n        description='If true, links in the Markdown content will open in a new tab. Defaults to true if not set.',\n    )\n</code></pre>"},{"location":"api/panels/#links-panels","title":"Links Panels","text":"<p>Display collections of clickable links.</p>"},{"location":"api/panels/#api-reference_1","title":"API Reference","text":"<p>For configuration details and examples, see the Links Panel Configuration.</p>"},{"location":"api/panels/#dashboard_compiler.panels.links.config.LinksPanel","title":"LinksPanel","text":"<p>               Bases: <code>BasePanel</code></p> <p>Represents a Links panel configuration.</p> <p>Links panels are used to display a collection of links to other dashboards, saved objects, or external URLs.</p> Source code in <code>src/dashboard_compiler/panels/links/config.py</code> <pre><code>class LinksPanel(BasePanel):\n    \"\"\"Represents a Links panel configuration.\n\n    Links panels are used to display a collection of links to other dashboards,\n    saved objects, or external URLs.\n    \"\"\"\n\n    type: Literal['links'] = 'links'\n\n    layout: Literal['horizontal', 'vertical'] | None = Field(default=None)\n    \"\"\"The layout of the links in the panel, either 'horizontal' or 'vertical'. Kibana defaults to 'horizontal' if not set.\"\"\"\n\n    links: list[LinkTypes] = Field(default_factory=list)\n    \"\"\"A list of link objects to be displayed in the panel.\"\"\"\n\n    def add_link(self, link: LinkTypes) -&gt; Self:\n        \"\"\"Add a link object to the Links panel's links list.\n\n        Args:\n            link (LinkTypes): The link object to add.\n\n        Returns:\n            Self: The current instance of the LinksPanel for method chaining.\n\n        \"\"\"\n        self.links.append(link)\n        return self\n</code></pre>"},{"location":"api/panels/#dashboard_compiler.panels.links.config.LinksPanel.layout","title":"layout  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>layout = Field(default=None)\n</code></pre> <p>The layout of the links in the panel, either 'horizontal' or 'vertical'. Kibana defaults to 'horizontal' if not set.</p>"},{"location":"api/panels/#dashboard_compiler.panels.links.config.LinksPanel.links","title":"links  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>links = Field(default_factory=list)\n</code></pre> <p>A list of link objects to be displayed in the panel.</p>"},{"location":"api/panels/#dashboard_compiler.panels.links.config.LinksPanel.add_link","title":"add_link","text":"<pre><code>add_link(link)\n</code></pre> <p>Add a link object to the Links panel's links list.</p> <p>Parameters:</p> Name Type Description Default <code>link</code> <code>LinkTypes</code> <p>The link object to add.</p> required <p>Returns:</p> Name Type Description <code>Self</code> <code>Self</code> <p>The current instance of the LinksPanel for method chaining.</p> Source code in <code>src/dashboard_compiler/panels/links/config.py</code> <pre><code>def add_link(self, link: LinkTypes) -&gt; Self:\n    \"\"\"Add a link object to the Links panel's links list.\n\n    Args:\n        link (LinkTypes): The link object to add.\n\n    Returns:\n        Self: The current instance of the LinksPanel for method chaining.\n\n    \"\"\"\n    self.links.append(link)\n    return self\n</code></pre>"},{"location":"api/panels/#image-panels","title":"Image Panels","text":"<p>Embed images in your dashboard.</p>"},{"location":"api/panels/#api-reference_2","title":"API Reference","text":"<p>For configuration details and examples, see the Image Panel Configuration.</p>"},{"location":"api/panels/#dashboard_compiler.panels.images.config.ImagePanel","title":"ImagePanel","text":"<p>               Bases: <code>BasePanel</code></p> <p>Represents a Image panel configuration.</p> <p>Image panels are used to display images.</p> Source code in <code>src/dashboard_compiler/panels/images/config.py</code> <pre><code>class ImagePanel(BasePanel):\n    \"\"\"Represents a Image panel configuration.\n\n    Image panels are used to display images.\n    \"\"\"\n\n    type: Literal['image'] = 'image'\n\n    from_url: str = Field(default=...)\n    \"\"\"The URL of the image to be displayed in the panel. This is a required field.\"\"\"\n\n    fit: Literal['contain', 'cover', 'fill', 'none'] | None = Field(default=None)\n    \"\"\"The sizing of the image. Can be \"contain\", \"cover\", \"fill\", or \"none\". Defaults to \"contain\".\"\"\"\n\n    description: str | None = Field(default=None)\n    \"\"\"Alternative text for the image, used for accessibility. Defaults to an empty string if not set.\"\"\"\n\n    background_color: str | None = Field(default=None)\n    \"\"\"Background color for the image panel. Defaults to an empty string if not set.\"\"\"\n</code></pre>"},{"location":"api/panels/#dashboard_compiler.panels.images.config.ImagePanel.background_color","title":"background_color  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>background_color = Field(default=None)\n</code></pre> <p>Background color for the image panel. Defaults to an empty string if not set.</p>"},{"location":"api/panels/#dashboard_compiler.panels.images.config.ImagePanel.description","title":"description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>description = Field(default=None)\n</code></pre> <p>Alternative text for the image, used for accessibility. Defaults to an empty string if not set.</p>"},{"location":"api/panels/#dashboard_compiler.panels.images.config.ImagePanel.fit","title":"fit  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>fit = Field(default=None)\n</code></pre> <p>The sizing of the image. Can be \"contain\", \"cover\", \"fill\", or \"none\". Defaults to \"contain\".</p>"},{"location":"api/panels/#dashboard_compiler.panels.images.config.ImagePanel.from_url","title":"from_url  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>from_url = Field(default=...)\n</code></pre> <p>The URL of the image to be displayed in the panel. This is a required field.</p>"},{"location":"api/panels/#search-panels","title":"Search Panels","text":"<p>Display search results from Elasticsearch.</p>"},{"location":"api/panels/#api-reference_3","title":"API Reference","text":"<p>For configuration details and examples, see the Search Panel Configuration.</p>"},{"location":"api/panels/#dashboard_compiler.panels.search.config.SearchPanel","title":"SearchPanel","text":"<p>               Bases: <code>BasePanel</code></p> <p>Represents a Search panel configuration.</p> <p>Search panels are used to display the results of a saved Kibana search.</p> Source code in <code>src/dashboard_compiler/panels/search/config.py</code> <pre><code>class SearchPanel(BasePanel):\n    \"\"\"Represents a Search panel configuration.\n\n    Search panels are used to display the results of a saved Kibana search.\n    \"\"\"\n\n    type: Literal['search'] = 'search'\n    saved_search_id: str = Field(..., description='The ID of the saved Kibana search object to display in the panel.')\n</code></pre>"},{"location":"api/panels/#lens-panel","title":"Lens Panel","text":"<p>Lens panels are used to create data visualizations including metrics, pie charts, and XY charts.</p>"},{"location":"api/panels/#api-reference_4","title":"API Reference","text":""},{"location":"api/panels/#dashboard_compiler.panels.charts.config.LensPanel","title":"LensPanel","text":"<p>               Bases: <code>BasePanel</code></p> <p>Represents a Lens chart panel configuration.</p> Source code in <code>src/dashboard_compiler/panels/charts/config.py</code> <pre><code>class LensPanel(BasePanel):\n    \"\"\"Represents a Lens chart panel configuration.\"\"\"\n\n    type: Literal['charts'] = 'charts'\n\n    filters: list['FilterTypes'] | None = Field(default=None)\n    \"\"\"A list of filters to apply to the panel.\"\"\"\n\n    query: 'LegacyQueryTypes | None' = Field(default=None)\n    \"\"\"The query to be executed. This is the core of the chart definition.\"\"\"\n\n    chart: 'LensChartTypes' = Field(default=...)\n</code></pre>"},{"location":"api/panels/#dashboard_compiler.panels.charts.config.LensPanel.filters","title":"filters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>filters = Field(default=None)\n</code></pre> <p>A list of filters to apply to the panel.</p>"},{"location":"api/panels/#dashboard_compiler.panels.charts.config.LensPanel.query","title":"query  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>query = Field(default=None)\n</code></pre> <p>The query to be executed. This is the core of the chart definition.</p>"},{"location":"api/panels/#metric-charts","title":"Metric Charts","text":"<p>Display key performance indicators.</p> <p>For configuration details and examples, see the Metric Chart Panel Configuration.</p>"},{"location":"api/panels/#pie-charts","title":"Pie Charts","text":"<p>Create pie chart visualizations to show distribution of categorical data.</p> <p>For configuration details and examples, see the Pie Chart Panel Configuration.</p>"},{"location":"api/panels/#xy-charts","title":"XY Charts","text":"<p>Create line, bar, and area charts for time series and other data.</p> <p>For configuration details and examples, see the XY Chart Panel Configuration.</p>"},{"location":"api/panels/#lens-multi-layer-panel","title":"Lens Multi-Layer Panel","text":""},{"location":"api/panels/#dashboard_compiler.panels.charts.config.LensMultiLayerPanel","title":"LensMultiLayerPanel","text":"<p>               Bases: <code>BasePanel</code></p> <p>Represents a multi-layer Lens chart panel configuration.</p> Source code in <code>src/dashboard_compiler/panels/charts/config.py</code> <pre><code>class LensMultiLayerPanel(BasePanel):\n    \"\"\"Represents a multi-layer Lens chart panel configuration.\"\"\"\n\n    type: Literal['charts'] = 'charts'\n\n    layers: list['MultiLayerChartTypes'] = Field(default=...)\n</code></pre>"},{"location":"api/panels/#esql-panel","title":"ESQL Panel","text":""},{"location":"api/panels/#dashboard_compiler.panels.charts.config.ESQLPanel","title":"ESQLPanel","text":"<p>               Bases: <code>BasePanel</code></p> <p>Represents an ESQL chart panel configuration.</p> Source code in <code>src/dashboard_compiler/panels/charts/config.py</code> <pre><code>class ESQLPanel(BasePanel):\n    \"\"\"Represents an ESQL chart panel configuration.\"\"\"\n\n    type: Literal['charts'] = 'charts'\n\n    esql: 'ESQLQueryTypes' = Field(...)\n\n    chart: 'ESQLChartTypes' = Field(default=...)\n</code></pre>"},{"location":"api/queries/","title":"Queries","text":"<p>Query configuration and compilation.</p>"},{"location":"api/queries/#kql-query","title":"KQL Query","text":""},{"location":"api/queries/#dashboard_compiler.queries.config.KqlQuery","title":"KqlQuery","text":"<p>               Bases: <code>BaseCfgModel</code></p> <p>Represents a KQL (Kibana Query Language) query configuration.</p> <p>KQL is the default query language in Kibana and provides a simplified syntax for filtering data.</p> Source code in <code>src/dashboard_compiler/queries/config.py</code> <pre><code>class KqlQuery(BaseCfgModel):\n    \"\"\"Represents a KQL (Kibana Query Language) query configuration.\n\n    KQL is the default query language in Kibana and provides a simplified syntax for filtering data.\n    \"\"\"\n\n    kql: str = Field(...)\n    \"\"\"The Kibana Query Language (KQL) query string to apply.\"\"\"\n</code></pre>"},{"location":"api/queries/#dashboard_compiler.queries.config.KqlQuery.kql","title":"kql  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>kql = Field(...)\n</code></pre> <p>The Kibana Query Language (KQL) query string to apply.</p>"},{"location":"api/queries/#lucene-query","title":"Lucene Query","text":""},{"location":"api/queries/#dashboard_compiler.queries.config.LuceneQuery","title":"LuceneQuery","text":"<p>               Bases: <code>BaseCfgModel</code></p> <p>Represents a Lucene query configuration.</p> <p>Lucene provides a more powerful and flexible, but less friendly, syntax for querying data compared to KQL.</p> Source code in <code>src/dashboard_compiler/queries/config.py</code> <pre><code>class LuceneQuery(BaseCfgModel):\n    \"\"\"Represents a Lucene query configuration.\n\n    Lucene provides a more powerful and flexible, but less friendly, syntax for querying data compared to KQL.\n    \"\"\"\n\n    lucene: str = Field(...)\n    \"\"\"The Lucene query string to apply.\"\"\"\n</code></pre>"},{"location":"api/queries/#dashboard_compiler.queries.config.LuceneQuery.lucene","title":"lucene  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>lucene = Field(...)\n</code></pre> <p>The Lucene query string to apply.</p>"},{"location":"api/queries/#esql-query","title":"ESQL Query","text":""},{"location":"api/queries/#dashboard_compiler.queries.config.ESQLQuery","title":"ESQLQuery","text":"<p>               Bases: <code>BaseRootCfgModel</code></p> <p>Represents an ESQL (Elasticsearch Query Language) query configuration.</p> <p>ESQL is a powerful query language for Elasticsearch that provides a flexible syntax for filtering data.</p> <p>The query can be provided as either: - A string: The complete ESQL query - A list of strings: Query parts that will be concatenated with pipe characters (|)</p> <p>This enables using YAML anchors to share parts of ESQL queries across panels.</p> Source code in <code>src/dashboard_compiler/queries/config.py</code> <pre><code>class ESQLQuery(BaseRootCfgModel):\n    \"\"\"Represents an ESQL (Elasticsearch Query Language) query configuration.\n\n    ESQL is a powerful query language for Elasticsearch that provides a flexible syntax for filtering data.\n\n    The query can be provided as either:\n    - A string: The complete ESQL query\n    - A list of strings: Query parts that will be concatenated with pipe characters (|)\n\n    This enables using YAML anchors to share parts of ESQL queries across panels.\n    \"\"\"\n\n    root: str = Field(...)\n\n    @field_validator('root', mode='before')\n    @classmethod\n    def normalize_query(cls, value: str | list[str]) -&gt; str:\n        \"\"\"Normalize the query to a string by concatenating list elements with pipes.\"\"\"\n        if isinstance(value, list):\n            # Join array elements with \" | \"\n            return ' | '.join(value)\n        return value\n</code></pre>"},{"location":"api/queries/#dashboard_compiler.queries.config.ESQLQuery.normalize_query","title":"normalize_query  <code>classmethod</code>","text":"<pre><code>normalize_query(value)\n</code></pre> <p>Normalize the query to a string by concatenating list elements with pipes.</p> Source code in <code>src/dashboard_compiler/queries/config.py</code> <pre><code>@field_validator('root', mode='before')\n@classmethod\ndef normalize_query(cls, value: str | list[str]) -&gt; str:\n    \"\"\"Normalize the query to a string by concatenating list elements with pipes.\"\"\"\n    if isinstance(value, list):\n        # Join array elements with \" | \"\n        return ' | '.join(value)\n    return value\n</code></pre>"},{"location":"controls/config/","title":"Controls Configuration","text":"<p>Controls are interactive elements that can be added to a dashboard, allowing users to filter data or adjust visualization settings dynamically. They are defined as a list of control objects within each dashboard's <code>controls</code> field in the <code>dashboards:</code> array. Global behavior of controls can be managed via the <code>settings.controls</code> object.</p>"},{"location":"controls/config/#minimal-configuration-examples","title":"Minimal Configuration Examples","text":"<p>Here's a minimal example of an <code>options</code> list control:</p> <pre><code>dashboards:\n  -\n    controls:\n      - type: options\n        label: \"Filter by Status\"\n        data_view: \"your-data-view-id\" # Replace with your data view ID or title\n        field: \"status.keyword\"      # Replace with the field to filter on\n</code></pre> <p>Here's a minimal example of a <code>range</code> slider control:</p> <pre><code>dashboards:\n  -\n    controls:\n      - type: range\n        label: \"Response Time (ms)\"\n        data_view: \"your-data-view-id\" # Replace with your data view ID or title\n        field: \"response.time\"       # Replace with the numeric field\n</code></pre>"},{"location":"controls/config/#complex-configuration-example","title":"Complex Configuration Example","text":"<p>This example demonstrates multiple controls with custom widths and global control settings:</p> <pre><code>dashboards:\n  -\n    name: \"Application Monitoring Dashboard\"\n    description: \"Dashboard with interactive controls.\"\n    data_view: \"logs-*\" # Default data view for panels\n    settings:\n      controls:\n        label_position: \"above\"\n        chain_controls: true\n        click_to_apply: false\n    controls:\n      - type: options\n        label: \"Service Name\"\n        id: \"service_filter\"\n        width: \"medium\"\n        data_view: \"apm-*\"\n        field: \"service.name\"\n        singular: false\n        match_technique: \"contains\"\n        preselected: [\"checkout-service\"]\n      - type: range\n        label: \"CPU Usage (%)\"\n        id: \"cpu_range_filter\"\n        width: \"large\"\n        data_view: \"metrics-*\"\n        field: \"system.cpu.user.pct\"\n        step: 0.05\n      - type: time\n        label: \"Custom Time Slice\"\n        id: \"time_slice_control\"\n        width: \"small\"\n        start_offset: 0.1  # 10% from the start of the global time range\n        end_offset: 0.9    # 90% from the start of the global time range\n</code></pre>"},{"location":"controls/config/#full-configuration-options","title":"Full Configuration Options","text":""},{"location":"controls/config/#control-settings-settingscontrols","title":"Control Settings (<code>settings.controls</code>)","text":"<p>Global settings for all controls on the dashboard. These are configured under the <code>settings.controls</code> path in your main dashboard YAML.</p> YAML Key Data Type Description Kibana Default Required <code>label_position</code> <code>Literal['inline', 'above']</code> The position of the control label. <code>inline</code> No <code>apply_global_filters</code> <code>boolean</code> Whether to apply global filters to the control. <code>true</code> No <code>apply_global_timerange</code> <code>boolean</code> Whether to apply the global time range to the control. <code>true</code> No <code>ignore_zero_results</code> <code>boolean</code> Whether to ignore controls that return zero results. If <code>true</code>, controls with no results will be hidden. <code>false</code> (controls with zero results are shown) No <code>chain_controls</code> <code>boolean</code> Whether to chain controls together, allowing one control's selection to filter the options in the next. <code>true</code> (hierarchical chaining) No <code>click_to_apply</code> <code>boolean</code> Whether to require users to click an apply button before applying changes. <code>false</code> (changes apply immediately) No"},{"location":"controls/config/#options-list-control","title":"Options List Control","text":"<p>Allows users to select one or more values from a list to filter data.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['options']</code> Specifies the control type. <code>options</code> Yes <code>id</code> <code>string</code> A unique identifier for the control. If not provided, one will be generated. Generated UUID No <code>width</code> <code>Literal['small', 'medium', 'large']</code> The width of the control in the dashboard layout. <code>medium</code> No <code>label</code> <code>string</code> The display label for the control. If not provided, a label may be inferred. <code>None</code> No <code>data_view</code> <code>string</code> The ID or title of the data view (index pattern) the control operates on. N/A Yes <code>field</code> <code>string</code> The name of the field within the data view that the control is associated with. N/A Yes <code>fill_width</code> <code>boolean</code> If true, the control will automatically adjust its width to fill available space. <code>false</code> No <code>match_technique</code> <code>Literal['prefix', 'contains', 'exact']</code> The search technique used for filtering options. See Match Technique Enum. <code>prefix</code> No <code>wait_for_results</code> <code>boolean</code> If set to true, delay the display of the list of values until the results are fully loaded. <code>false</code> No <code>preselected</code> <code>list of strings</code> A list of options that are preselected when the control is initialized. <code>[]</code> (empty list) No <code>singular</code> <code>boolean</code> If true, the control allows only a single selection from the options list. <code>false</code> No"},{"location":"controls/config/#range-slider-control","title":"Range Slider Control","text":"<p>Allows users to select a range of numeric values to filter data.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['range']</code> Specifies the control type. <code>range</code> Yes <code>id</code> <code>string</code> A unique identifier for the control. If not provided, one will be generated. Generated UUID No <code>width</code> <code>Literal['small', 'medium', 'large']</code> The width of the control in the dashboard layout. <code>medium</code> No <code>label</code> <code>string</code> The display label for the control. If not provided, a label may be inferred. <code>None</code> No <code>data_view</code> <code>string</code> The ID or title of the data view (index pattern) the control operates on. N/A Yes <code>field</code> <code>string</code> The name of the field within the data view that the control is associated with. N/A Yes <code>fill_width</code> <code>boolean</code> If true, the control will automatically adjust its width to fill available space. <code>false</code> No <code>step</code> <code>integer</code> or <code>float</code> The step value for the range, defining the granularity of selections. <code>1</code> No"},{"location":"controls/config/#time-slider-control","title":"Time Slider Control","text":"<p>Allows users to select a sub-section of the dashboard's current time range. This control does not use a <code>data_view</code> or <code>field</code> as it operates on the global time context.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['time']</code> Specifies the control type. <code>time</code> Yes <code>id</code> <code>string</code> A unique identifier for the control. If not provided, one will be generated. Generated UUID No <code>width</code> <code>Literal['small', 'medium', 'large']</code> The width of the control in the dashboard layout. <code>medium</code> No <code>label</code> <code>string</code> The display label for the control. If not provided, a label may be inferred. <code>None</code> No <code>start_offset</code> <code>float</code> (between 0.0 and 1.0) The start offset for the time range as a percentage of the global time range (e.g., <code>0.25</code> for 25%). Must be less than <code>end_offset</code>. <code>0.0</code> (0%) No <code>end_offset</code> <code>float</code> (between 0.0 and 1.0) The end offset for the time range as a percentage of the global time range (e.g., <code>0.75</code> for 75%). Must be greater than <code>start_offset</code>. <code>1.0</code> (100%) No <p>Note on Time Slider Offsets: The YAML configuration expects <code>start_offset</code> and <code>end_offset</code> as float values between 0.0 (0%) and 1.0 (100%). Kibana internally represents these as percentages from 0.0 to 100.0. If not provided, Kibana defaults to <code>0.0</code> for start and <code>100.0</code> for end.</p>"},{"location":"controls/config/#match-technique-enum-match_technique","title":"Match Technique Enum (<code>match_technique</code>)","text":"<p>This enum defines the possible search techniques used for filtering options in an <code>OptionsListControl</code>.</p> <ul> <li><code>prefix</code>: (Default) Filters options starting with the input text.</li> <li><code>contains</code>: Filters options containing the input text.</li> <li><code>exact</code>: Filters options matching the input text exactly.</li> </ul>"},{"location":"controls/config/#related-documentation","title":"Related Documentation","text":"<ul> <li>Dashboard Configuration</li> </ul>"},{"location":"dashboard/dashboard/","title":"Dashboard Configuration","text":"<p>The <code>dashboards</code> array is the root element in your YAML configuration file. Each dashboard defines the overall structure, content, and global settings for a Kibana dashboard.</p>"},{"location":"dashboard/dashboard/#minimal-configuration-example","title":"Minimal Configuration Example","text":"<p>A minimal dashboard requires a <code>name</code> and at least one panel.</p> <pre><code>dashboards:\n  -\n    name: \"Simple Log Dashboard\"\n    panels:\n      - type: markdown\n        content: \"Welcome to the dashboard!\"\n        grid:\n          x: 0\n          y: 0\n          w: 6\n          h: 3\n</code></pre>"},{"location":"dashboard/dashboard/#complex-configuration-example","title":"Complex Configuration Example","text":"<p>This example showcases a dashboard with various settings, a default data view, a global query, filters, controls, and multiple panels.</p> <pre><code>dashboards:\n  -\n    name: \"Comprehensive Application Overview\"\n    id: \"app-overview-001\"\n    description: \"An overview of application performance and logs, with interactive filtering.\"\n    data_view: \"production-logs-*\" # Default data view for all items unless overridden\n    settings:\n      margins: true\n      titles: true\n      sync:\n        cursor: true\n        tooltips: true\n        colors: false # Use distinct color palettes per panel\n      controls:\n        label_position: \"above\"\n        chain_controls: true\n    query:\n      kql: \"NOT response_code:500\" # Global KQL query\n    filters:\n      - field: \"geo.country_iso_code\"\n        equals: \"US\"\n      - field: \"service.environment\"\n        in_list: [\"production\", \"staging\"]\n    controls:\n      - type: options\n        label: \"Filter by Region\"\n        data_view: \"user-sessions-*\"\n        field: \"user.geo.region_name\"\n        width: \"medium\"\n    panels:\n      - type: markdown\n        content: \"### Key Performance Indicators\"\n        grid: { x: 0, y: 0, w: 12, h: 2 }\n      - type: lens\n        title: \"Total Requests\"\n        data_view: \"apm-traces-*\"\n        chart:\n          type: metric\n          metrics:\n            - type: count\n        grid: { x: 0, y: 2, w: 4, h: 4 }\n      - type: lens\n        title: \"Requests by Response Code\"\n        data_view: \"apm-traces-*\"\n        chart:\n          type: bar\n          x_axis:\n            field: \"http.response.status_code\"\n          metrics:\n            - type: count\n        grid: { x: 4, y: 2, w: 8, h: 4 }\n</code></pre>"},{"location":"dashboard/dashboard/#full-configuration-options","title":"Full Configuration Options","text":""},{"location":"dashboard/dashboard/#dashboard-object","title":"Dashboard Object","text":"<p>The main object defining the dashboard.</p> YAML Key Data Type Description Kibana Default Required <code>name</code> <code>string</code> The title of the dashboard displayed in Kibana. N/A Yes <code>id</code> <code>string</code> An optional unique identifier for the dashboard. If not provided, one will be generated based on the name. Generated ID No <code>description</code> <code>string</code> A brief description of the dashboard's purpose or content. <code>\"\"</code> (empty string) No <code>settings</code> <code>DashboardSettings</code> object Global settings for the dashboard. See Dashboard Settings. See defaults below No <code>data_view</code> <code>string</code> The default data view (index pattern) ID or title used by items in this dashboard unless overridden. <code>None</code> No <code>query</code> <code>Query</code> object A global query (KQL or Lucene) applied to the dashboard. See Queries Documentation. <code>None</code> No <code>filters</code> <code>list of Filter objects</code> A list of global filters applied to the dashboard. See Filters Documentation. <code>[]</code> (empty list) No <code>controls</code> <code>list of Control objects</code> A list of control panels for the dashboard. See Controls Documentation. <code>[]</code> (empty list) No <code>panels</code> <code>list of Panel objects</code> A list of panels defining the content and layout. See Panels Documentation. <code>[]</code> (empty list) Yes"},{"location":"dashboard/dashboard/#dashboard-settings-settings","title":"Dashboard Settings (<code>settings</code>)","text":"<p>Global settings for the dashboard, configured under the <code>dashboard.settings</code> path.</p> YAML Key Data Type Description Kibana Default Required <code>margins</code> <code>boolean</code> Whether to put space (margins) between panels in the dashboard. <code>true</code> No <code>sync</code> <code>DashboardSyncSettings</code> object Configures synchronization of cursor, tooltips, and colors across panels. See Dashboard Sync Settings. See defaults below No <code>controls</code> <code>ControlSettings</code> object Global settings for controls on the dashboard. See Controls Documentation. See defaults in Controls docs No <code>titles</code> <code>boolean</code> Whether to display the titles in the panel headers. <code>true</code> No"},{"location":"dashboard/dashboard/#dashboard-sync-settings-settingssync","title":"Dashboard Sync Settings (<code>settings.sync</code>)","text":"<p>Configure whether cursor, tooltips, and colors should synchronize across panels.</p> YAML Key Data Type Description Kibana Default Required <code>cursor</code> <code>boolean</code> Whether to synchronize the cursor across related panels. <code>true</code> No <code>tooltips</code> <code>boolean</code> Whether to synchronize tooltips across related panels. <code>true</code> No <code>colors</code> <code>boolean</code> Whether to apply the same color palette to all panels on the dashboard. <code>true</code> No"},{"location":"dashboard/dashboard/#methods-for-programmatic-generation","title":"Methods (for programmatic generation)","text":"<p>While primarily declarative, the underlying Pydantic models for <code>Dashboard</code> support methods for adding components if you are generating configurations programmatically (not directly used in YAML):</p> <ul> <li><code>add_filter(filter: FilterTypes)</code>: Adds a filter to the <code>filters</code> list.</li> <li><code>add_control(control: ControlTypes)</code>: Adds a control to the <code>controls</code> list.</li> <li><code>add_panel(panel: PanelTypes)</code>: Adds a panel to the <code>panels</code> list.</li> </ul>"},{"location":"dashboard/dashboard/#related-documentation","title":"Related Documentation","text":"<ul> <li>Controls Configuration</li> <li>Filters Configuration</li> <li>Queries Configuration</li> <li>Panels Overview</li> </ul>"},{"location":"filters/config/","title":"Filters Configuration","text":"<p>Filters are used to narrow down the data displayed on a dashboard or within individual panels. They are defined as a list of filter objects, typically under the <code>filters</code> key of a <code>dashboard</code> object or a panel that supports filtering.</p>"},{"location":"filters/config/#minimal-configuration-examples","title":"Minimal Configuration Examples","text":"<p>Exists Filter: Check if the <code>error.message</code> field exists.</p> <pre><code>filters:\n  - exists: \"error.message\"\n</code></pre> <p>Phrase Filter: Find documents where <code>status.keyword</code> is exactly \"active\".</p> <pre><code>filters:\n  - field: \"status.keyword\"\n    equals: \"active\"\n</code></pre> <p>Phrases Filter (using <code>in</code> alias): Find documents where <code>event.category</code> is \"authentication\" OR \"network\".</p> <pre><code>filters:\n  - field: \"event.category\"\n    in: [\"authentication\", \"network\"]\n</code></pre> <p>Range Filter: Find documents where <code>response_time</code> is between 100 (inclusive) and 500 (exclusive).</p> <pre><code>filters:\n  - field: \"response_time\"\n    gte: \"100\" # Values are typically strings, Kibana handles conversion\n    lt: \"500\"\n</code></pre>"},{"location":"filters/config/#complex-configuration-example","title":"Complex Configuration Example","text":"<p>This example demonstrates a combination of filter types, including logical junctions (<code>and</code>, <code>or</code>) and a modifier (<code>not</code>).</p> <pre><code>filters:\n  - alias: \"Successful Logins from US or CA\"\n    and: # `and_filters` in Pydantic, `and` in YAML\n      - field: \"event.action\"\n        equals: \"user_login\"\n      - field: \"event.outcome\"\n        equals: \"success\"\n      - or: # `or_filters` in Pydantic, `or` in YAML\n          - field: \"source.geo.country_iso_code\"\n            equals: \"US\"\n          - field: \"source.geo.country_iso_code\"\n            equals: \"CA\"\n  - alias: \"Exclude test users\"\n    not: # `not_filter` in Pydantic, `not` in YAML\n      field: \"user.name\"\n      in: [\"test_user_01\", \"qa_bot\"]\n  - exists: \"transaction.id\"\n    disabled: true # This filter is defined but currently disabled\n  - dsl:\n      query_string:\n        query: \"message:(*error* OR *exception*) AND NOT logger_name:debug\"\n</code></pre>"},{"location":"filters/config/#full-configuration-options","title":"Full Configuration Options","text":"<p>All filter types can include the following base fields:</p> YAML Key Data Type Description Kibana Default Required <code>alias</code> <code>string</code> An optional alias for the filter, used for display purposes in Kibana. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"filters/config/#exists-filter","title":"Exists Filter","text":"<p>Checks for the existence of a specific field.</p> YAML Key Data Type Description Kibana Default Required <code>exists</code> <code>string</code> The field name to check for existence. N/A Yes <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"filters/config/#phrase-filter","title":"Phrase Filter","text":"<p>Matches documents where a specific field contains an exact phrase.</p> YAML Key Data Type Description Kibana Default Required <code>field</code> <code>string</code> The field name to apply the filter to. N/A Yes <code>equals</code> <code>string</code> The exact phrase value that the field must match. N/A Yes <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"filters/config/#phrases-filter","title":"Phrases Filter","text":"<p>Matches documents where a specific field contains one or more of the specified phrases.</p> YAML Key Data Type Description Kibana Default Required <code>field</code> <code>string</code> The field name to apply the filter to. N/A Yes <code>in</code> <code>list of strings</code> A list of phrases. Documents must match at least one of these phrases. N/A Yes <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"filters/config/#range-filter","title":"Range Filter","text":"<p>Matches documents where a numeric or date field falls within a specified range. At least one of <code>gte</code>, <code>lte</code>, <code>gt</code>, or <code>lt</code> must be provided.</p> YAML Key Data Type Description Kibana Default Required <code>field</code> <code>string</code> The field name to apply the filter to. N/A Yes <code>gte</code> <code>string</code> Greater than or equal to value. <code>None</code> No (but one must exist) <code>lte</code> <code>string</code> Less than or equal to value. <code>None</code> No (but one must exist) <code>gt</code> <code>string</code> Greater than value. <code>None</code> No (but one must exist) <code>lt</code> <code>string</code> Less than value. <code>None</code> No (but one must exist) <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"filters/config/#custom-filter","title":"Custom Filter","text":"<p>Allows for defining a custom Elasticsearch Query DSL filter.</p> YAML Key Data Type Description Kibana Default Required <code>dsl</code> <code>object (dict)</code> The custom Elasticsearch query definition. N/A Yes <code>alias</code> <code>string</code> An optional alias for the filter. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the filter is defined but not applied. <code>false</code> No"},{"location":"filters/config/#negate-filter-not","title":"Negate Filter (<code>not</code>)","text":"<p>Excludes documents that match the nested filter. This filter itself does not have <code>alias</code> or <code>disabled</code> directly; those would apply to the filter it contains or a parent filter.</p> YAML Key Data Type Description Kibana Default Required <code>not</code> <code>FilterTypes</code> The filter object to negate. Can be any of the other filter types or junctions. N/A Yes"},{"location":"filters/config/#and-filter-and","title":"And Filter (<code>and</code>)","text":"<p>Matches documents that satisfy ALL of the specified nested filters.</p> YAML Key Data Type Description Kibana Default Required <code>and</code> <code>list of FilterTypes</code> A list of filter objects. All filters must match for a document to be included. N/A Yes <code>alias</code> <code>string</code> An optional alias for the AND group. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the entire AND group is defined but not applied. <code>false</code> No"},{"location":"filters/config/#or-filter-or","title":"Or Filter (<code>or</code>)","text":"<p>Matches documents that satisfy AT LEAST ONE of the specified nested filters.</p> YAML Key Data Type Description Kibana Default Required <code>or</code> <code>list of FilterTypes</code> A list of filter objects. At least one filter must match. N/A Yes <code>alias</code> <code>string</code> An optional alias for the OR group. <code>None</code> No <code>disabled</code> <code>boolean</code> If <code>true</code>, the entire OR group is defined but not applied. <code>false</code> No"},{"location":"filters/config/#related-documentation","title":"Related Documentation","text":"<ul> <li>Dashboard Configuration</li> <li>Queries Configuration</li> </ul>"},{"location":"panels/base/","title":"Base Panel Configuration","text":"<p>All panel types used within a dashboard (e.g., Markdown, Lens charts, Search panels) share a common set of base configuration fields. These fields define fundamental properties like the panel's title, its position and size on the dashboard grid, and an optional description.</p> <p>When defining a panel in your YAML, you will specify its <code>type</code> (e.g., <code>markdown</code>, <code>lens_metric</code>) and then include these base fields alongside type-specific configurations.</p>"},{"location":"panels/base/#minimal-example-illustrating-base-fields-within-a-specific-panel-type","title":"Minimal Example (Illustrating Base Fields within a Specific Panel Type)","text":"<p>This example shows how base panel fields are used within a <code>markdown</code> panel:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: markdown  # Specific panel type\n#   title: \"Status Overview\"\n#   grid:\n#     x: 0\n#     y: 0\n#     w: 6\n#     h: 4\n#   # ... other markdown-specific fields ...\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Example Dashboard\"\n  panels:\n    - type: markdown # This 'type' field is part of the MarkdownPanel model, not BasePanel\n      title: \"Status Overview\"\n      description: \"A quick look at system status.\" # BasePanel field\n      hide_title: false                             # BasePanel field\n      grid:                                         # BasePanel field\n        x: 0\n        y: 0\n        w: 6\n        h: 4\n      # --- MarkdownPanel specific fields would go here ---\n      content: \"System is **operational**.\"\n</code></pre>"},{"location":"panels/base/#full-configuration-options","title":"Full Configuration Options","text":""},{"location":"panels/base/#base-panel-fields","title":"Base Panel Fields","text":"<p>These fields are available for all panel types and are inherited from the <code>BasePanel</code> configuration.</p> YAML Key Data Type Description Kibana Default Required <code>id</code> <code>string</code> A unique identifier for the panel. If not provided, one will be generated during compilation. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Can be an empty string if you wish for no visible title. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title (even if defined) will be hidden. <code>false</code> (title is shown) No <code>description</code> <code>string</code> A brief description of the panel's content or purpose. This is often shown on hover or in panel information. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size on the dashboard grid. See Grid Object Configuration. N/A Yes <p>Note on <code>type</code>: The <code>type</code> field (e.g., <code>type: markdown</code>, <code>type: lens_metric</code>) is required for every panel definition in your YAML. However, it is not part of the <code>BasePanel</code> model itself but is a discriminator field defined in each specific panel type's configuration (e.g., <code>MarkdownPanel</code>, <code>LensPanel</code>). It tells the compiler which specific panel configuration to use.</p>"},{"location":"panels/base/#grid-object-configuration-grid","title":"Grid Object Configuration (<code>grid</code>)","text":"<p>The <code>grid</code> object is required for every panel and defines its placement and dimensions on the dashboard. The dashboard is typically a 12-column grid, but <code>w</code> and <code>h</code> are unitless and relative to this grid system.</p> YAML Key Data Type Description Kibana Default Required <code>x</code> <code>integer</code> The horizontal starting position of the panel on the grid (0-based index). N/A Yes <code>y</code> <code>integer</code> The vertical starting position of the panel on the grid (0-based index). N/A Yes <code>w</code> <code>integer</code> The width of the panel in grid units. N/A Yes <code>h</code> <code>integer</code> The height of the panel in grid units. N/A Yes <p>Example of <code>grid</code> usage:</p> <pre><code># ...\n# panels:\n#   - type: markdown\n#     title: \"Top Left Panel\"\n#     grid:\n#       x: 0  # Starts at the far left\n#       y: 0  # Starts at the very top\n#       w: 6  # Occupies 6 out of 12 columns (half width)\n#       h: 5  # Height of 5 grid units\n#     content: \"...\"\n#   - type: lens_metric\n#     title: \"Top Right Panel\"\n#     grid:\n#       x: 6  # Starts at the 7th column (0-indexed)\n#       y: 0  # Starts at the very top\n#       w: 6  # Occupies the remaining 6 columns\n#       h: 5  # Same height\n#     # ... lens configuration ...\n</code></pre>"},{"location":"panels/base/#panel-types-specific-configurations","title":"Panel Types (Specific Configurations)","text":"<p>The <code>BasePanel</code> fields are common to all panel types. For details on the specific configuration fields available for each panel <code>type</code>, refer to their individual documentation pages:</p> <ul> <li>Markdown Panel</li> <li>Links Panel</li> <li>Search Panel</li> <li>XY Chart Panel</li> <li>Pie Chart Panel</li> <li>Metric Panel</li> <li>Image Panel</li> </ul>"},{"location":"panels/base/#related-documentation","title":"Related Documentation","text":"<ul> <li>Dashboard Configuration</li> </ul>"},{"location":"panels/image/","title":"Image Panel Configuration","text":"<p>The <code>image</code> panel type is used to display an image directly on your dashboard. This can be useful for branding, diagrams, or other visual elements.</p>"},{"location":"panels/image/#minimal-configuration-example","title":"Minimal Configuration Example","text":"<p>To add an Image panel, you need to specify its <code>type</code>, <code>grid</code> position, and the <code>from_url</code> for the image source.</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: image\n#   title: \"Company Logo\"\n#   grid:\n#     x: 0\n#     y: 0\n#     w: 4  # Width of 4 grid units\n#     h: 3  # Height of 3 grid units\n#   from_url: \"https://example.com/path/to/your/logo.png\"\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Branded Dashboard\"\n  panels:\n    - type: image\n      title: \"Company Logo\"\n      grid:\n        x: 0\n        y: 0\n        w: 4\n        h: 3\n      from_url: \"https://example.com/path/to/your/logo.png\"\n</code></pre>"},{"location":"panels/image/#complex-configuration-example","title":"Complex Configuration Example","text":"<p>This example demonstrates an Image panel with specific <code>fit</code> behavior, alternative text for accessibility, and a background color.</p> <pre><code>dashboards:\n-\n  name: \"Dashboard with Informative Image\"\n  panels:\n    - type: image\n      title: \"System Architecture Diagram\"\n      grid:\n        x: 0\n        y: 0\n        w: 12 # Full width\n        h: 6\n      from_url: \"https://example.com/path/to/architecture.svg\"\n      fit: \"contain\"  # Ensure the whole image is visible within the panel\n      description: \"Overview of the system components and their interactions.\" # Alt text\n      background_color: \"#f0f0f0\" # Light grey background\n</code></pre>"},{"location":"panels/image/#full-configuration-options","title":"Full Configuration Options","text":"<p>Image panels inherit from the Base Panel Configuration and have the following specific fields:</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['image']</code> Specifies the panel type. <code>image</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> Alternative text for the image, used for accessibility. This overrides the BasePanel <code>description</code> if you want specific alt text for the image itself. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>from_url</code> <code>string</code> The URL of the image to be displayed in the panel. N/A Yes <code>fit</code> <code>Literal['contain', 'cover', 'fill', 'none']</code> The sizing of the image within the panel boundaries. <code>contain</code> No <code>background_color</code> <code>string</code> Background color for the image panel (e.g., hex code like <code>#FFFFFF</code> or color name like <code>transparent</code>). <code>\"\"</code> (empty string, likely transparent in Kibana) No <p>Details for <code>fit</code> options:</p> <ul> <li><code>contain</code>: (Default) Scales the image to fit within the panel while maintaining its aspect ratio. The entire image will be visible.</li> <li><code>cover</code>: Scales the image to fill the panel while maintaining its aspect ratio. Some parts of the image may be cropped to achieve this.</li> <li><code>fill</code>: Stretches or compresses the image to fill the panel completely, potentially altering its original aspect ratio.</li> <li><code>none</code>: Displays the image at its original size. If the image is larger than the panel, it will be cropped. If smaller, it will sit within the panel, respecting its original dimensions.</li> </ul>"},{"location":"panels/image/#programmatic-usage-python","title":"Programmatic Usage (Python)","text":"<p>You can create Image panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.images.config import ImagePanel\n\npanel = ImagePanel(\n    grid=Grid(x=0, y=0, w=24, h=20),\n    from_url='https://example.com/logo.png',\n)\n</code></pre>"},{"location":"panels/image/#related-documentation","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"panels/links/","title":"Links Panel Configuration","text":"<p>The <code>links</code> panel type is used to display a collection of hyperlinks on your dashboard. These links can point to other Kibana dashboards or external web URLs. This panel is useful for creating navigation hubs or providing quick access to related resources.</p>"},{"location":"panels/links/#minimal-configuration-examples","title":"Minimal Configuration Examples","text":"<p>Linking to another Dashboard:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: links\n#   title: \"Navigate to User Details\"\n#   grid: { x: 0, y: 0, w: 6, h: 2 }\n#   links:\n#     - label: \"View User Activity Dashboard\"\n#       dashboard: \"user-activity-dashboard-id\" # ID of the target dashboard\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Main Overview\"\n  panels:\n    - type: links\n      title: \"Navigate to User Details\"\n      grid: { x: 0, y: 0, w: 6, h: 2 }\n      links:\n        - label: \"View User Activity Dashboard\"\n          dashboard: \"user-activity-dashboard-id\"\n</code></pre> <p>Linking to an External URL:</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: links\n#   title: \"External Resources\"\n#   grid: { x: 6, y: 0, w: 6, h: 2 }\n#   links:\n#     - label: \"Project Documentation\"\n#       url: \"https://docs.example.com/project-alpha\"\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Main Overview\"\n  panels:\n    - type: links\n      title: \"External Resources\"\n      grid: { x: 6, y: 0, w: 6, h: 2 }\n      links:\n        - label: \"Project Documentation\"\n          url: \"https://docs.example.com/project-alpha\"\n          new_tab: true # Open this external link in a new tab\n</code></pre>"},{"location":"panels/links/#complex-configuration-example","title":"Complex Configuration Example","text":"<p>This example demonstrates a Links panel with multiple link types, a vertical layout, and specific options for how links behave.</p> <pre><code>dashboards:\n-\n  name: \"Operations Hub\"\n  panels:\n    - type: links\n      title: \"Quick Access\"\n      description: \"Links to key operational dashboards and tools.\"\n      grid: { x: 0, y: 0, w: 12, h: 3 }\n      layout: \"vertical\" # Display links one above the other\n      links:\n        - label: \"Service Health Dashboard\"\n          dashboard: \"service-health-monitor-v2\"\n          with_time: true      # Carry over current time range\n          with_filters: true   # Carry over current filters\n          new_tab: false       # Open in the same tab\n        - label: \"System Logs (Last 1 Hour)\"\n          dashboard: \"system-logs-deep-dive\"\n          # This link will use the target dashboard's default time/filters\n        - label: \"Runbook Wiki\"\n          url: \"https://internal.wiki/ops/runbooks\"\n          new_tab: true\n          encode: false # If the URL should not be encoded\n        - label: \"Grafana Metrics\"\n          url: \"https://grafana.example.com/d/abcdef/service-metrics\"\n          new_tab: true\n</code></pre>"},{"location":"panels/links/#full-configuration-options","title":"Full Configuration Options","text":""},{"location":"panels/links/#links-panel","title":"Links Panel","text":"<p>Defines the main container for a list of links. It inherits from the Base Panel Configuration.</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['links']</code> Specifies the panel type. <code>links</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> A brief description of the panel. Inherited from BasePanel. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>layout</code> <code>Literal['horizontal', 'vertical']</code> The layout of the links in the panel. <code>horizontal</code> No <code>links</code> <code>list of LinkTypes</code> A list of link objects to be displayed. Each object can be a Dashboard Link or a URL Link. <code>[]</code> (empty list) Yes"},{"location":"panels/links/#link-types","title":"Link Types","text":"<p>Each item in the <code>links</code> list will be one of the following types. They share common base fields.</p>"},{"location":"panels/links/#base-link-fields-common-to-dashboardlink-and-urllink","title":"Base Link Fields (Common to DashboardLink and UrlLink)","text":"YAML Key Data Type Description Kibana Default Required <code>id</code> <code>string</code> An optional unique identifier for the individual link item. Not typically needed. Generated ID No <code>label</code> <code>string</code> The text displayed for the link. If not provided for a URL link, Kibana may show the URL itself. For dashboard links, a label is recommended. <code>None</code> (or URL for URL links) No"},{"location":"panels/links/#dashboard-link","title":"Dashboard Link","text":"<p>Represents a link to another Kibana dashboard.</p> YAML Key Data Type Description Kibana Default Required <code>dashboard</code> <code>string</code> The ID of the target Kibana dashboard. N/A Yes <code>id</code> <code>string</code> An optional unique identifier for this link item. Generated ID No <code>label</code> <code>string</code> The display text for the link. <code>None</code> No <code>new_tab</code> <code>boolean</code> If <code>true</code>, the linked dashboard will open in a new browser tab. <code>false</code> No <code>with_time</code> <code>boolean</code> If <code>true</code>, the linked dashboard will inherit the current time range from the source dashboard. <code>true</code> No <code>with_filters</code> <code>boolean</code> If <code>true</code>, the linked dashboard will inherit the current filters from the source dashboard. <code>true</code> No"},{"location":"panels/links/#url-link","title":"URL Link","text":"<p>Represents a link to an external web URL.</p> YAML Key Data Type Description Kibana Default Required <code>url</code> <code>string</code> The full web URL that the link points to (e.g., <code>https://www.example.com</code>). N/A Yes <code>id</code> <code>string</code> An optional unique identifier for this link item. Generated ID No <code>label</code> <code>string</code> The display text for the link. If not set, Kibana defaults to showing the URL. <code>\"\"</code> (empty string) or URL No <code>encode</code> <code>boolean</code> If <code>true</code>, the URL will be URL-encoded before navigation. <code>true</code> No <code>new_tab</code> <code>boolean</code> If <code>true</code>, the link will open in a new browser tab. <code>false</code> No"},{"location":"panels/links/#programmatic-usage-python","title":"Programmatic Usage (Python)","text":"<p>You can create Links panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.links.config import LinksPanel, UrlLink\n\npanel = LinksPanel(\n    grid=Grid(x=0, y=0, w=24, h=10),\n    links=[\n        UrlLink(\n            label='Documentation',\n            url='https://example.com/docs',\n        ),\n        UrlLink(\n            label='API Reference',\n            url='https://example.com/api',\n        ),\n    ],\n)\n</code></pre> <p>The <code>LinksPanel</code> model includes an <code>add_link(link: LinkTypes)</code> method for adding links dynamically:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.links.config import LinksPanel, UrlLink\n\npanel = LinksPanel(\n    grid=Grid(x=0, y=0, w=24, h=10),\n    links=[],\n)\n\npanel.add_link(UrlLink(label='Docs', url='https://example.com/docs'))\npanel.add_link(UrlLink(label='API', url='https://example.com/api'))\n</code></pre>"},{"location":"panels/links/#related-documentation","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"panels/markdown/","title":"Markdown Panel Configuration","text":"<p>The <code>markdown</code> panel type is used to display rich text content, formatted using Markdown syntax, directly on your dashboard. This is equivalent to the \"Text\" visualization in Kibana.</p>"},{"location":"panels/markdown/#minimal-configuration-example","title":"Minimal Configuration Example","text":"<p>To add a simple Markdown panel, you need to specify its <code>type</code>, <code>grid</code> position, and the <code>content</code>.</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: markdown\n#   title: \"Welcome Note\"\n#   grid:\n#     x: 0\n#     y: 0\n#     w: 12 # Full width\n#     h: 3  # Height of 3 grid units\n#   content: \"## Welcome to the Dashboard!\\nThis panel provides an overview.\"\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Dashboard with Markdown\"\n  panels:\n    - type: markdown\n      title: \"Welcome Note\"\n      grid:\n        x: 0\n        y: 0\n        w: 12\n        h: 3\n      content: |\n        ## Welcome to the Dashboard!\n        This panel provides an overview of the key metrics and reports available.\n\n        - Item 1\n        - Item 2\n</code></pre>"},{"location":"panels/markdown/#complex-configuration-example","title":"Complex Configuration Example","text":"<p>This example demonstrates a Markdown panel with a custom font size and a setting for how links are opened.</p> <pre><code>dashboards:\n-\n  name: \"Informational Dashboard\"\n  panels:\n    - type: markdown\n      title: \"Important Instructions &amp; Links\"\n      description: \"Follow these steps for system setup.\"\n      grid:\n        x: 0\n        y: 0\n        w: 8\n        h: 5\n      content: |\n        # Setup Guide\n\n        Please follow the [official documentation](https://example.com/docs) for detailed setup instructions.\n\n        Key steps include:\n        1.  **Download** the installer.\n        2.  **Configure** the `config.yaml` file.\n        3.  **Run** the start script.\n\n        For issues, refer to the [Troubleshooting Page](https://example.com/troubleshooting).\n      font_size: 14\n      links_in_new_tab: false # Links will open in the same tab\n</code></pre>"},{"location":"panels/markdown/#full-configuration-options","title":"Full Configuration Options","text":"<p>Markdown panels inherit from the Base Panel Configuration and have the following specific fields:</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['markdown']</code> Specifies the panel type. <code>markdown</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> A brief description of the panel. Inherited from BasePanel. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>content</code> <code>string</code> The Markdown content to be displayed in the panel. You can use YAML multi-line string syntax (e.g., <code>\\|</code> or <code>&gt;</code>) for readability. N/A Yes <code>font_size</code> <code>integer</code> The font size for the Markdown content, in pixels. <code>12</code> No <code>links_in_new_tab</code> <code>boolean</code> If <code>true</code>, links in the Markdown content will open in a new tab. <code>true</code> No"},{"location":"panels/markdown/#programmatic-usage-python","title":"Programmatic Usage (Python)","text":"<p>You can also create Markdown panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.markdown.config import MarkdownPanel\n\npanel = MarkdownPanel(\n    grid=Grid(x=0, y=0, w=24, h=15),\n    content=\"\"\"\n# Dashboard Title\n\nThis is a **markdown** panel with:\n- Lists\n- **Bold** and *italic* text\n- [Links](https://example.com)\n    \"\"\",\n)\n</code></pre>"},{"location":"panels/markdown/#related-documentation","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"panels/metric/","title":"Metric Chart Panel Configuration","text":"<p>The Metric chart panel displays a single value or a small set of key metrics, often used for KPIs or summary statistics.</p>"},{"location":"panels/metric/#minimal-configuration-example","title":"Minimal Configuration Example","text":"<pre><code>dashboards:\n-\n  name: \"KPI Dashboard\"\n  panels:\n    - type: metric\n      title: \"Total Revenue\"\n      grid: { x: 0, y: 0, w: 3, h: 2 }\n      data:\n        index: \"sales-data\"\n        value: \"revenue\"\n</code></pre>"},{"location":"panels/metric/#full-configuration-options","title":"Full Configuration Options","text":""},{"location":"panels/metric/#lens-metric-chart","title":"Lens Metric Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['metric']</code> Specifies the chart type as metric. <code>'metric'</code> No <code>data_view</code> <code>string</code> The data view that determines the data for the metric chart. N/A Yes <code>primary</code> <code>LensMetricTypes</code> The primary metric to display (main value). N/A Yes <code>secondary</code> <code>LensMetricTypes \\| None</code> Optional secondary metric to display alongside the primary. <code>None</code> No <code>maximum</code> <code>LensMetricTypes \\| None</code> Optional maximum metric for comparison or thresholds. <code>None</code> No <code>breakdown</code> <code>LensDimensionTypes \\| None</code> Optional breakdown dimension for splitting the metric. <code>None</code> No"},{"location":"panels/metric/#esql-metric-chart","title":"ESQL Metric Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['metric']</code> Specifies the chart type as metric. <code>'metric'</code> No <code>primary</code> <code>ESQLMetricTypes</code> The primary metric to display (main value). N/A Yes <code>secondary</code> <code>ESQLMetricTypes \\| None</code> Optional secondary metric to display alongside the primary. <code>None</code> No <code>maximum</code> <code>ESQLMetricTypes \\| None</code> Optional maximum metric for comparison or thresholds. <code>None</code> No <code>breakdown</code> <code>ESQLDimensionTypes \\| None</code> Optional breakdown dimension for splitting the metric. <code>None</code> No"},{"location":"panels/metric/#programmatic-usage-python","title":"Programmatic Usage (Python)","text":"<p>You can create Metric chart panels programmatically using Python:</p>"},{"location":"panels/metric/#count-metric-example","title":"Count Metric Example","text":"<pre><code>from dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensCountAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.metric.config import LensMetricChart\nfrom dashboard_compiler.panels.config import Grid\n\n# Simple count metric\ncount_chart = LensMetricChart(\n    data_view='logs-*',\n    primary=LensCountAggregatedMetric(aggregation='count'),\n)\n\npanel = LensPanel(\n    title='Total Documents',\n    grid=Grid(x=0, y=0, w=24, h=15),\n    chart=count_chart,\n)\n</code></pre>"},{"location":"panels/metric/#average-metric-example","title":"Average Metric Example","text":"<pre><code>from dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensOtherAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.metric.config import LensMetricChart\nfrom dashboard_compiler.panels.config import Grid\n\n# Average metric with field\navg_chart = LensMetricChart(\n    data_view='logs-*',\n    primary=LensOtherAggregatedMetric(aggregation='average', field='response_time'),\n)\n\npanel = LensPanel(\n    title='Avg Response Time',\n    grid=Grid(x=0, y=0, w=24, h=15),\n    chart=avg_chart,\n)\n</code></pre>"},{"location":"panels/metric/#related","title":"Related","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"panels/pie/","title":"Pie Chart Panel Configuration","text":"<p>The Pie chart panel visualizes data as a pie or donut chart, useful for showing proportions of a whole.</p>"},{"location":"panels/pie/#minimal-configuration-example","title":"Minimal Configuration Example","text":"<pre><code>dashboards:\n-\n  name: \"Traffic Sources\"\n  panels:\n    - type: pie\n      title: \"Website Traffic Sources\"\n      grid: { x: 0, y: 0, w: 6, h: 6 }\n      data:\n        index: \"traffic-data\"\n        category: \"source\"\n        value: \"visits\"\n</code></pre>"},{"location":"panels/pie/#full-configuration-options","title":"Full Configuration Options","text":""},{"location":"panels/pie/#lens-pie-chart","title":"Lens Pie Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['pie']</code> Specifies the chart type as pie. <code>'pie'</code> No <code>data_view</code> <code>string</code> The data view that determines the data for the pie chart. N/A Yes <code>metric</code> <code>LensMetricTypes \\| None</code> A metric for single metric charts (size of slices). <code>None</code> No <code>metrics</code> <code>list[LensMetricTypes] \\| None</code> Multiple metrics for multi-metric charts. <code>None</code> No <code>slice_by</code> <code>list[LensDimensionTypes]</code> Dimensions that determine the slices (first is primary, rest are secondary). N/A Yes <code>appearance</code> <code>PieChartAppearance \\| None</code> Chart appearance options (e.g., donut size). <code>None</code> No <code>titles_and_text</code> <code>PieTitlesAndText \\| None</code> Formatting options for titles and text. <code>None</code> No <code>legend</code> <code>PieLegend \\| None</code> Legend formatting options. <code>None</code> No <code>color</code> <code>ColorMapping \\| None</code> Color palette mapping for the chart. <code>None</code> No"},{"location":"panels/pie/#piechartappearance-options","title":"PieChartAppearance Options","text":"YAML Key Data Type Description Default Required <code>donut</code> <code>Literal['small', 'medium', 'large'] \\| None</code> Controls the size of the donut hole (Kibana defaults to 'medium'). <code>None</code> No"},{"location":"panels/pie/#pietitlesandtext-options","title":"PieTitlesAndText Options","text":"YAML Key Data Type Description Default Required <code>slice_labels</code> <code>Literal['hide', 'inside', 'auto'] \\| None</code> Controls slice label visibility (Kibana defaults to 'auto'). <code>None</code> No <code>slice_values</code> <code>Literal['hide', 'integer', 'percent'] \\| None</code> Controls slice value display (Kibana defaults to 'percent'). <code>None</code> No <code>value_decimal_places</code> <code>int \\| None</code> Number of decimal places for values (0-10, Kibana defaults to 2). <code>None</code> No"},{"location":"panels/pie/#pielegend-options","title":"PieLegend Options","text":"YAML Key Data Type Description Default Required <code>visible</code> <code>Literal['show', 'hide', 'auto'] \\| None</code> Legend visibility (Kibana defaults to 'auto'). <code>None</code> No <code>width</code> <code>Literal['small', 'medium', 'large', 'extra_large'] \\| None</code> Legend width (Kibana defaults to 'medium'). <code>None</code> No <code>truncate_labels</code> <code>int \\| None</code> Lines to truncate labels to (0-5, Kibana defaults to 1, 0=disable). <code>None</code> No"},{"location":"panels/pie/#esql-pie-chart","title":"ESQL Pie Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['pie']</code> Specifies the chart type as pie. <code>'pie'</code> No <code>metric</code> <code>ESQLMetricTypes \\| None</code> A metric for single metric charts (size of slices). <code>None</code> No <code>metrics</code> <code>list[ESQLMetricTypes] \\| None</code> Multiple metrics for multi-metric charts. <code>None</code> No <code>slice_by</code> <code>list[ESQLDimensionTypes]</code> Dimensions that determine the slices (first is primary, rest are secondary). N/A Yes <code>esql</code> <code>string</code> The ES|QL query that determines the data for the pie chart. N/A Yes <code>appearance</code> <code>PieChartAppearance \\| None</code> Chart appearance options (e.g., donut size). <code>None</code> No <code>titles_and_text</code> <code>PieTitlesAndText \\| None</code> Formatting options for titles and text. <code>None</code> No <code>legend</code> <code>PieLegend \\| None</code> Legend formatting options. <code>None</code> No <code>color</code> <code>ColorMapping \\| None</code> Color palette mapping for the chart. <code>None</code> No"},{"location":"panels/pie/#programmatic-usage-python","title":"Programmatic Usage (Python)","text":"<p>You can create Pie chart panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.dimensions.config import (\n    LensTopValuesDimension,\n)\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensCountAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.pie.config import LensPieChart\nfrom dashboard_compiler.panels.config import Grid\n\npie_chart = LensPieChart(\n    data_view='logs-*',\n    slice_by=[LensTopValuesDimension(field='status')],\n    metric=LensCountAggregatedMetric(aggregation='count'),\n)\n\npanel = LensPanel(\n    title='Status Distribution',\n    grid=Grid(x=0, y=0, w=24, h=15),\n    chart=pie_chart,\n)\n</code></pre>"},{"location":"panels/pie/#related","title":"Related","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"panels/search/","title":"Search Panel Configuration","text":"<p>The <code>search</code> panel type is used to embed the results of a pre-existing, saved Kibana search directly onto your dashboard. This allows you to display dynamic log views, event lists, or any other data set defined by a saved search in Discover.</p>"},{"location":"panels/search/#minimal-configuration-example","title":"Minimal Configuration Example","text":"<p>To add a Search panel, you need to specify its <code>type</code>, <code>grid</code> position, and the <code>saved_search_id</code>.</p> <pre><code># Within a dashboard's 'panels' list:\n# - type: search\n#   title: \"All System Logs\"\n#   grid:\n#     x: 0\n#     y: 0\n#     w: 12 # Full width\n#     h: 10 # Height of 10 grid units\n#   saved_search_id: \"your-saved-search-id\" # Replace with the actual ID\n\n# For a complete dashboard structure:\ndashboards:\n-\n  name: \"Log Monitoring Dashboard\"\n  panels:\n    - type: search\n      title: \"All System Logs\"\n      grid:\n        x: 0\n        y: 0\n        w: 12\n        h: 10\n      saved_search_id: \"a1b2c3d4-e5f6-7890-1234-567890abcdef\" # Example ID\n</code></pre>"},{"location":"panels/search/#complex-configuration-example-illustrative","title":"Complex Configuration Example (Illustrative)","text":"<p>Search panels primarily rely on the configuration of the saved search itself (columns, sort order, query within the saved search). The panel configuration in the dashboard YAML is straightforward. This example shows it with a description and a hidden title.</p> <pre><code>dashboards:\n-\n  name: \"Security Incidents Overview\"\n  panels:\n    - type: search\n      # Title is defined in the saved search, so we hide the panel's own title\n      hide_title: true\n      description: \"Displays critical security alerts from the last 24 hours, as defined in the 'Critical Alerts' saved search.\"\n      grid:\n        x: 0\n        y: 0\n        w: 12\n        h: 8\n      saved_search_id: \"critical-security-alerts-saved-search\"\n</code></pre>"},{"location":"panels/search/#full-configuration-options","title":"Full Configuration Options","text":"<p>Search panels inherit from the Base Panel Configuration and have one specific required field:</p> YAML Key Data Type Description Kibana Default Required <code>type</code> <code>Literal['search']</code> Specifies the panel type. <code>search</code> Yes <code>id</code> <code>string</code> A unique identifier for the panel. Inherited from BasePanel. Generated ID No <code>title</code> <code>string</code> The title displayed on the panel header. This can override the title of the saved search if desired. Inherited from BasePanel. <code>\"\"</code> (empty string) No <code>hide_title</code> <code>boolean</code> If <code>true</code>, the panel title will be hidden. Inherited from BasePanel. <code>false</code> No <code>description</code> <code>string</code> A brief description of the panel. Inherited from BasePanel. <code>\"\"</code> (empty string, if <code>None</code>) No <code>grid</code> <code>Grid</code> object Defines the panel's position and size. Inherited from BasePanel. See Grid Object Configuration. N/A Yes <code>saved_search_id</code> <code>string</code> The ID of the saved Kibana search object (from Discover app) to display in the panel. N/A Yes <p>Note on Behavior: The appearance, columns displayed, sort order, and underlying query of the Search panel are primarily controlled by the configuration of the saved search itself within Kibana's Discover application. The dashboard panel configuration mainly serves to embed that saved search.</p>"},{"location":"panels/search/#programmatic-usage-python","title":"Programmatic Usage (Python)","text":"<p>You can create Search panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.config import Grid\nfrom dashboard_compiler.panels.search.config import SearchPanel\n\npanel = SearchPanel(\n    grid=Grid(x=0, y=0, w=48, h=20),\n    saved_search_id='my-saved-search',\n)\n</code></pre>"},{"location":"panels/search/#related-documentation","title":"Related Documentation","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> <li>Kibana Discover and Saved Searches documentation (external to this project).</li> </ul>"},{"location":"panels/xy/","title":"XY Chart Panel Configuration","text":"<p>The XY chart panel creates line, bar, and area charts for time series and other data visualizations.</p>"},{"location":"panels/xy/#minimal-configuration-example","title":"Minimal Configuration Example","text":"<pre><code>dashboards:\n-\n  name: \"Time Series Dashboard\"\n  panels:\n    - type: xy\n      title: \"Events Over Time\"\n      grid: { x: 0, y: 0, w: 12, h: 6 }\n      data:\n        index: \"logs-*\"\n        x_axis: \"@timestamp\"\n        metric: \"count\"\n</code></pre>"},{"location":"panels/xy/#full-configuration-options","title":"Full Configuration Options","text":""},{"location":"panels/xy/#lens-bar-chart","title":"Lens Bar Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['bar']</code> Specifies the chart type as bar. <code>'bar'</code> No <code>mode</code> <code>Literal['stacked', 'unstacked', 'percentage']</code> Stacking mode for bar charts. <code>'stacked'</code> No <code>data_view</code> <code>string</code> The data view to use for the chart. N/A Yes <code>dimensions</code> <code>list[LensDimensionTypes]</code> Defines the dimensions (e.g., X-axis) for the chart. <code>[]</code> No <code>metrics</code> <code>list[LensMetricTypes]</code> Defines the metrics (e.g., Y-axis values) for the chart. <code>[]</code> No <code>breakdown</code> <code>LensDimensionTypes \\| None</code> Optional dimension to split the series by (creates multiple series). <code>None</code> No <code>appearance</code> <code>XYAppearance \\| None</code> Chart appearance formatting options. <code>None</code> No <code>titles_and_text</code> <code>XYTitlesAndText \\| None</code> Titles and text formatting options. <code>None</code> No <code>legend</code> <code>XYLegend \\| None</code> Legend formatting options. <code>None</code> No"},{"location":"panels/xy/#lens-line-chart","title":"Lens Line Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['line']</code> Specifies the chart type as line. <code>'line'</code> No <code>data_view</code> <code>string</code> The data view to use for the chart. N/A Yes <code>dimensions</code> <code>list[LensDimensionTypes]</code> Defines the dimensions (e.g., X-axis) for the chart. <code>[]</code> No <code>metrics</code> <code>list[LensMetricTypes]</code> Defines the metrics (e.g., Y-axis values) for the chart. <code>[]</code> No <code>breakdown</code> <code>LensDimensionTypes \\| None</code> Optional dimension to split the series by (creates multiple series). <code>None</code> No <code>appearance</code> <code>XYAppearance \\| None</code> Chart appearance formatting options. <code>None</code> No <code>titles_and_text</code> <code>XYTitlesAndText \\| None</code> Titles and text formatting options. <code>None</code> No <code>legend</code> <code>XYLegend \\| None</code> Legend formatting options. <code>None</code> No"},{"location":"panels/xy/#lens-area-chart","title":"Lens Area Chart","text":"YAML Key Data Type Description Default Required <code>type</code> <code>Literal['area']</code> Specifies the chart type as area. <code>'area'</code> No <code>mode</code> <code>Literal['stacked', 'unstacked', 'percentage']</code> Stacking mode for area charts. <code>'stacked'</code> No <code>data_view</code> <code>string</code> The data view to use for the chart. N/A Yes <code>dimensions</code> <code>list[LensDimensionTypes]</code> Defines the dimensions (e.g., X-axis) for the chart. <code>[]</code> No <code>metrics</code> <code>list[LensMetricTypes]</code> Defines the metrics (e.g., Y-axis values) for the chart. <code>[]</code> No <code>breakdown</code> <code>LensDimensionTypes \\| None</code> Optional dimension to split the series by (creates multiple series). <code>None</code> No <code>appearance</code> <code>XYAppearance \\| None</code> Chart appearance formatting options. <code>None</code> No <code>titles_and_text</code> <code>XYTitlesAndText \\| None</code> Titles and text formatting options. <code>None</code> No <code>legend</code> <code>XYLegend \\| None</code> Legend formatting options. <code>None</code> No"},{"location":"panels/xy/#xylegend-options","title":"XYLegend Options","text":"YAML Key Data Type Description Default Required <code>visible</code> <code>bool \\| None</code> Whether the legend is visible. <code>None</code> No"},{"location":"panels/xy/#esql-barlinearea-charts","title":"ESQL Bar/Line/Area Charts","text":"<p>ESQL chart configuration is similar to Lens charts, but uses <code>ESQLDimensionTypes</code> and <code>ESQLMetricTypes</code> instead, and does not require a <code>data_view</code> field.</p>"},{"location":"panels/xy/#programmatic-usage-python","title":"Programmatic Usage (Python)","text":"<p>You can create XY chart panels programmatically using Python:</p> <pre><code>from dashboard_compiler.panels.charts.config import LensPanel\nfrom dashboard_compiler.panels.charts.lens.dimensions.config import (\n    LensDateHistogramDimension,\n)\nfrom dashboard_compiler.panels.charts.lens.metrics.config import (\n    LensCountAggregatedMetric,\n)\nfrom dashboard_compiler.panels.charts.xy.config import LensLineChart\nfrom dashboard_compiler.panels.config import Grid\n\n# Time series line chart\nline_chart = LensLineChart(\n    data_view='logs-*',\n    dimensions=[LensDateHistogramDimension(field='@timestamp')],\n    breakdown=None,\n    metrics=[LensCountAggregatedMetric(aggregation='count')],\n)\n\npanel = LensPanel(\n    title='Documents Over Time',\n    grid=Grid(x=0, y=0, w=48, h=20),\n    chart=line_chart,\n)\n</code></pre>"},{"location":"panels/xy/#related","title":"Related","text":"<ul> <li>Base Panel Configuration</li> <li>Dashboard Configuration</li> </ul>"},{"location":"queries/config/","title":"Queries Configuration","text":"<p>Queries are used to define the search criteria for retrieving data. They can be applied globally at the dashboard level or specifically to individual panels that support them. This compiler supports KQL (Kibana Query Language), Lucene, and ESQL (Elasticsearch Query Language).</p>"},{"location":"queries/config/#minimal-configuration-examples","title":"Minimal Configuration Examples","text":"<p>KQL Query:</p> <pre><code># Applied at the dashboard level\ndashboards:\n-\n  # ...\n  query:\n    kql: 'response_code:200 AND \"user.id\": \"test-user\"'\n</code></pre> <p>Lucene Query:</p> <pre><code># Applied at the dashboard level\ndashboards:\n-\n  # ...\n  query:\n    lucene: 'event.module:nginx AND event.dataset:nginx.access'\n</code></pre> <p>ESQL Query (typically for specific panel types like ESQL-backed charts):</p> <pre><code># Example within a panel configuration that supports ESQL\npanels:\n  - type: some_esql_panel # Hypothetical panel type\n    # ... other panel config\n    query: |\n      FROM my_index\n      | STATS RARE(clientip)\n</code></pre>"},{"location":"queries/config/#full-configuration-options","title":"Full Configuration Options","text":"<p>Queries are typically defined under a <code>query</code> key, either at the root of the <code>dashboard</code> object or within a specific panel's configuration. The structure of the <code>query</code> object determines the language.</p>"},{"location":"queries/config/#kql-query","title":"KQL Query","text":"<p>Filters documents using the Kibana Query Language (KQL). This is often the default query language in Kibana.</p> YAML Key Data Type Description Kibana Default Required <code>kql</code> <code>string</code> The KQL query string to apply. N/A Yes <code>query</code> <code>object</code> The parent object containing the <code>kql</code> key. N/A Yes <p>Usage Example (Dashboard Level):</p> <pre><code>dashboards:\n-\n  # ...\n  query:\n    kql: 'event.action:\"user_login\" AND event.outcome:success'\n</code></pre>"},{"location":"queries/config/#lucene-query","title":"Lucene Query","text":"<p>Filters documents using the more expressive, but complex, Lucene query syntax.</p> YAML Key Data Type Description Kibana Default Required <code>lucene</code> <code>string</code> The Lucene query string to apply. N/A Yes <code>query</code> <code>object</code> The parent object containing the <code>lucene</code> key. N/A Yes <p>Usage Example (Dashboard Level):</p> <pre><code>dashboards:\n-\n  # ...\n  query:\n    lucene: '(geo.src:\"US\" OR geo.src:\"CA\") AND tags:\"production\"'\n</code></pre>"},{"location":"queries/config/#esql-query","title":"ESQL Query","text":"<p>Uses Elasticsearch Query Language (ESQL) for data retrieval and aggregation. ESQL queries are typically used by specific panel types that are designed to work with ESQL's tabular results (e.g., ESQL-driven charts or tables). The configuration is a direct string under the <code>query</code> key for such panels.</p> YAML Key Data Type Description Kibana Default Required <code>query</code> <code>string</code> The ESQL query string. The Pydantic model uses <code>root</code> for this direct string. N/A Yes <p>Usage Example (Panel Level - for a hypothetical ESQL panel):</p> <pre><code>panels:\n  - type: esql_backed_chart # This panel type would be designed to use ESQL\n    title: \"Top User Agents by Count\"\n    query: |\n      FROM \"web-logs-*\"\n      | STATS count = COUNT(user_agent.name) BY user_agent.name\n      | SORT count DESC\n      | LIMIT 10\n    # ... other panel-specific configurations\n</code></pre>"},{"location":"queries/config/#query-scope","title":"Query Scope","text":"<ul> <li>Dashboard Level Query: Defined under <code>dashboard.query</code>. This query is applied globally to all panels that do not explicitly override it or ignore global queries. KQL and Lucene are supported at this level.</li> <li>Panel Level Query: Defined under <code>panel.query</code> (for panels that support it, e.g., Lens panels, ESQL panels). This query is specific to the panel and is often combined with (or can override) the dashboard-level query, depending on the panel's behavior.</li> <li>Lens panels typically use KQL for their panel-specific query.</li> <li>ESQL-specific panels will use an ESQL query string.</li> </ul>"},{"location":"queries/config/#related-documentation","title":"Related Documentation","text":"<ul> <li>Dashboard Configuration</li> <li>Filters Configuration</li> <li>Panel Documentation (e.g., Lens, ESQL specific panels)</li> </ul>"}]}